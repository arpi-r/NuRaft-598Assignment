2022-04-28T03:50:02.660_972+00:00 [79344] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:50:02.662_310+00:00 [79344] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:50:02.662_346+00:00 [79344] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:50:02.662_350+00:00 [79344] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:50:02.662_375+00:00 [79344] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:50:02.662_379+00:00 [79344] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:50:02.662_382+00:00 [79344] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:50:02.662_413+00:00 [79344] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:50:02.662_560+00:00 [79380] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:50:04.290_634+00:00 [79351] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:50:04.290_646+00:00 [79351] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:50:04.290_680+00:00 [79351] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:50:04.290_692+00:00 [79351] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:50:04.290_700+00:00 [79351] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:50:04.290_704+00:00 [79351] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:50:04.290_723+00:00 [79351] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:50:04.290_780+00:00 [79379] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:50:04.290_788+00:00 [79379] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:50:04.290_799+00:00 [79379] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:50:04.463_496+00:00 [79344] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:50:04.463_914+00:00 [79351] [INFO] 0x557205d0f8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:50:04.464_259+00:00 [79351] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:50:04.464_268+00:00 [79351] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:50:04.464_322+00:00 [79379] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:50:04.464_333+00:00 [79379] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:50:04.464_380+00:00 [79379] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:50:04.464_382+00:00 [79379] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:50:04.464_427+00:00 [79379] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:50:04.464_431+00:00 [79379] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:50:04.464_436+00:00 [79379] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:50:04.713_764+00:00 [79344] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:50:04.714_046+00:00 [79351] [INFO] 0x557205d0fc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:50:04.714_370+00:00 [79351] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:50:04.714_375+00:00 [79351] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:50:04.714_521+00:00 [79351] [INFO] 0x7ff1000018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:50:04.714_700+00:00 [79351] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:50:04.714_960+00:00 [79379] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:50:04.714_975+00:00 [79379] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:50:04.715_038+00:00 [79379] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:50:04.715_042+00:00 [79379] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:50:04.715_090+00:00 [79379] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:50:04.715_096+00:00 [79379] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:50:04.715_111+00:00 [79379] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:50:05.215_358+00:00 [79371] [INFO] 0x557205d0f8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:50:05.215_562+00:00 [79371] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:50:24.456_412+00:00 [79375] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:50:24.456_427+00:00 [79375] [INFO] session 1 got connection from 127.0.0.1:44182 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:50:24.456_524+00:00 [79375] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:50:24.456_529+00:00 [79375] [INFO] session 2 got connection from 127.0.0.1:44184 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:50:28.156_289+00:00 [79353] [WARN] skipped sending msg to 2 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:50:31.156_264+00:00 [79353] [WARN] skipped sending msg to 2 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:50:33.156_195+00:00 [79370] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:50:43.156_173+00:00 [79353] [WARN] skipped sending msg to 3 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:51:20.197_981+00:00 [79485] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:51:20.199_589+00:00 [79485] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:51:20.199_625+00:00 [79485] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:51:20.199_633+00:00 [79485] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:51:20.199_659+00:00 [79485] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:51:20.199_664+00:00 [79485] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:51:20.199_668+00:00 [79485] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:51:20.199_706+00:00 [79485] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:51:20.199_879+00:00 [79521] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:51:22.231_928+00:00 [79492] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:51:22.231_941+00:00 [79492] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:51:22.231_957+00:00 [79492] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:51:22.231_968+00:00 [79492] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:51:22.231_974+00:00 [79492] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:51:22.231_978+00:00 [79492] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:51:22.231_999+00:00 [79492] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:51:22.232_054+00:00 [79520] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:51:22.232_063+00:00 [79520] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:51:22.232_076+00:00 [79520] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:51:22.250_775+00:00 [79485] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:51:22.251_161+00:00 [79492] [INFO] 0x56425b03c8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:51:22.251_465+00:00 [79492] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:51:22.251_472+00:00 [79492] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:51:22.251_522+00:00 [79520] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:51:22.251_532+00:00 [79520] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:51:22.251_580+00:00 [79520] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:51:22.251_582+00:00 [79520] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:51:22.251_625+00:00 [79520] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:51:22.251_628+00:00 [79520] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:51:22.251_634+00:00 [79520] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:51:22.501_017+00:00 [79485] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:51:22.501_231+00:00 [79492] [INFO] 0x56425b03cc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:51:22.501_620+00:00 [79492] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:51:22.501_625+00:00 [79492] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:51:22.501_768+00:00 [79492] [INFO] 0x7fa54c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:51:22.501_952+00:00 [79492] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:51:22.502_176+00:00 [79520] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:51:22.502_191+00:00 [79520] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:51:22.502_243+00:00 [79520] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:51:22.502_245+00:00 [79520] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:51:22.502_284+00:00 [79520] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:51:22.502_287+00:00 [79520] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:51:22.502_292+00:00 [79520] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:51:23.002_601+00:00 [79490] [INFO] 0x56425b03c8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:51:23.002_855+00:00 [79490] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:51:41.747_683+00:00 [79513] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:51:41.747_698+00:00 [79513] [INFO] session 1 got connection from 127.0.0.1:44186 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:51:41.747_793+00:00 [79513] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:51:41.747_798+00:00 [79513] [INFO] session 2 got connection from 127.0.0.1:44188 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:51:41.748_271+00:00 [79491] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:51:41.748_278+00:00 [79491] [INFO] session 3 got connection from 127.0.0.1:44192 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:51:41.748_415+00:00 [79492] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:51:41.748_421+00:00 [79492] [INFO] session 4 got connection from 127.0.0.1:44194 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:51:48.156_309+00:00 [79490] [WARN] skipped sending msg to 3 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:51:52.156_653+00:00 [79498] [WARN] skipped sending msg to 2 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:51:56.156_214+00:00 [79509] [WARN] skipped sending msg to 2 too long time, last msg sent 944 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:51:57.156_410+00:00 [79506] [WARN] skipped sending msg to 2 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:51:57.156_584+00:00 [79504] [WARN] skipped sending msg to 2 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:52:37.202_519+00:00 [79626] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:52:37.203_913+00:00 [79626] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:52:37.203_949+00:00 [79626] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:52:37.203_953+00:00 [79626] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:52:37.203_980+00:00 [79626] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:52:37.203_984+00:00 [79626] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:52:37.203_987+00:00 [79626] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:52:37.204_018+00:00 [79626] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:52:37.204_166+00:00 [79662] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:52:38.482_335+00:00 [79633] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:52:38.482_348+00:00 [79633] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:52:38.482_363+00:00 [79633] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:52:38.482_373+00:00 [79633] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:52:38.482_380+00:00 [79633] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:52:38.482_384+00:00 [79633] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:52:38.482_403+00:00 [79633] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:52:38.482_454+00:00 [79661] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:52:38.482_462+00:00 [79661] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:52:38.482_472+00:00 [79661] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:52:38.504_983+00:00 [79626] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:52:38.505_382+00:00 [79633] [INFO] 0x55e0987f88b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:52:38.505_716+00:00 [79633] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:52:38.505_724+00:00 [79633] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:52:38.505_775+00:00 [79661] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:52:38.505_786+00:00 [79661] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:52:38.505_833+00:00 [79661] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:52:38.505_835+00:00 [79661] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:52:38.505_878+00:00 [79661] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:52:38.505_881+00:00 [79661] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:52:38.505_887+00:00 [79661] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:52:38.755_289+00:00 [79626] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:52:38.755_526+00:00 [79633] [INFO] 0x55e0987f8c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:52:38.755_910+00:00 [79633] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:52:38.755_914+00:00 [79633] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:52:38.756_056+00:00 [79633] [INFO] 0x7fd1ec0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:52:38.756_229+00:00 [79633] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:52:38.756_437+00:00 [79661] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:52:38.756_452+00:00 [79661] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:52:38.756_506+00:00 [79661] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:52:38.756_508+00:00 [79661] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:52:38.756_547+00:00 [79661] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:52:38.756_551+00:00 [79661] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:52:38.756_558+00:00 [79661] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:52:39.256_878+00:00 [79631] [INFO] 0x55e0987f88b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:52:39.257_112+00:00 [79631] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:52:59.251_593+00:00 [79649] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:52:59.251_609+00:00 [79649] [INFO] session 1 got connection from 127.0.0.1:44196 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:52:59.251_713+00:00 [79649] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:52:59.251_719+00:00 [79649] [INFO] session 2 got connection from 127.0.0.1:44198 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:52:59.252_052+00:00 [79653] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:52:59.252_060+00:00 [79653] [INFO] session 3 got connection from 127.0.0.1:44200 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:52:59.252_126+00:00 [79653] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:52:59.252_131+00:00 [79653] [INFO] session 4 got connection from 127.0.0.1:44202 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:52:59.252_558+00:00 [79638] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:52:59.252_564+00:00 [79638] [INFO] session 5 got connection from 127.0.0.1:44204 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:52:59.252_698+00:00 [79638] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:52:59.252_702+00:00 [79638] [INFO] session 6 got connection from 127.0.0.1:44206 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:53:00.156_270+00:00 [79656] [WARN] skipped sending msg to 2 too long time, last msg sent 853 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:53:06.156_280+00:00 [79642] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:53:09.156_278+00:00 [79652] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:53:14.156_286+00:00 [79637] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:53:14.156_337+00:00 [79637] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:53:55.200_788+00:00 [79794] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:53:55.202_150+00:00 [79794] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:53:55.202_181+00:00 [79794] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:53:55.202_185+00:00 [79794] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:53:55.202_208+00:00 [79794] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:53:55.202_212+00:00 [79794] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:53:55.202_215+00:00 [79794] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:53:55.202_245+00:00 [79794] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:53:55.202_388+00:00 [79830] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:53:56.442_435+00:00 [79801] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:53:56.442_448+00:00 [79801] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:53:56.442_462+00:00 [79801] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:53:56.442_473+00:00 [79801] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:53:56.442_480+00:00 [79801] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:53:56.442_484+00:00 [79801] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:53:56.442_503+00:00 [79801] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:53:56.442_556+00:00 [79829] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:53:56.442_564+00:00 [79829] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:53:56.442_574+00:00 [79829] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:53:56.503_127+00:00 [79794] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:53:56.503_538+00:00 [79801] [INFO] 0x560f0313a8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:53:56.503_888+00:00 [79801] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:53:56.503_897+00:00 [79801] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:53:56.503_950+00:00 [79829] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:53:56.503_962+00:00 [79829] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:53:56.504_008+00:00 [79829] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:53:56.504_011+00:00 [79829] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:53:56.504_055+00:00 [79829] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:53:56.504_059+00:00 [79829] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:53:56.504_065+00:00 [79829] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:53:56.753_411+00:00 [79794] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:53:56.753_629+00:00 [79801] [INFO] 0x560f0313ac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:53:56.754_004+00:00 [79801] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:53:56.754_009+00:00 [79801] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:53:56.754_152+00:00 [79801] [INFO] 0x7f7bc80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:53:56.754_322+00:00 [79801] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:53:56.754_528+00:00 [79829] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:53:56.754_542+00:00 [79829] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:53:56.754_590+00:00 [79829] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:53:56.754_592+00:00 [79829] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:53:56.754_630+00:00 [79829] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:53:56.754_634+00:00 [79829] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:53:56.754_642+00:00 [79829] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:53:57.254_907+00:00 [79799] [INFO] 0x560f0313a8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:53:57.255_215+00:00 [79799] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:54:16.751_158+00:00 [79805] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.751_173+00:00 [79805] [INFO] session 1 got connection from 127.0.0.1:44208 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:16.751_505+00:00 [79824] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.751_513+00:00 [79824] [INFO] session 2 got connection from 127.0.0.1:44210 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:16.751_575+00:00 [79824] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.751_579+00:00 [79824] [INFO] session 3 got connection from 127.0.0.1:44212 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:16.751_678+00:00 [79808] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.751_683+00:00 [79808] [INFO] session 4 got connection from 127.0.0.1:44214 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:16.751_816+00:00 [79811] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.751_821+00:00 [79811] [INFO] session 5 got connection from 127.0.0.1:44216 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:16.752_199+00:00 [79811] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.752_205+00:00 [79811] [INFO] session 6 got connection from 127.0.0.1:44218 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:16.752_268+00:00 [79811] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.752_273+00:00 [79811] [INFO] session 7 got connection from 127.0.0.1:44220 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:16.752_636+00:00 [79820] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:16.752_642+00:00 [79820] [INFO] session 8 got connection from 127.0.0.1:44222 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:18.156_364+00:00 [79811] [WARN] skipped sending msg to 3 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:18.156_389+00:00 [79811] [WARN] skipped sending msg to 2 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:18.156_495+00:00 [79811] [WARN] skipped sending msg to 2 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:18.156_800+00:00 [79806] [WARN] skipped sending msg to 2 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:19.156_491+00:00 [79804] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:20.156_256+00:00 [79824] [WARN] skipped sending msg to 2 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:25.198_048+00:00 [79803] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:54:25.198_061+00:00 [79803] [INFO] session 9 got connection from 127.0.0.1:44224 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:54:26.156_355+00:00 [79807] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:26.156_588+00:00 [79807] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:27.156_377+00:00 [79807] [WARN] skipped sending msg to 3 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:27.156_552+00:00 [79807] [WARN] skipped sending msg to 3 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:32.156_289+00:00 [79822] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:54:34.156_360+00:00 [79820] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:55:12.205_755+00:00 [80022] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:55:12.207_120+00:00 [80022] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:55:12.207_152+00:00 [80022] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:55:12.207_159+00:00 [80022] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:55:12.207_182+00:00 [80022] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:55:12.207_186+00:00 [80022] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:55:12.207_189+00:00 [80022] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:55:12.207_217+00:00 [80022] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:55:12.207_352+00:00 [80058] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:55:13.806_461+00:00 [80029] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:55:13.806_473+00:00 [80029] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:55:13.806_488+00:00 [80029] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:55:13.806_500+00:00 [80029] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:55:13.806_506+00:00 [80029] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:55:13.806_510+00:00 [80029] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:55:13.806_529+00:00 [80029] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:55:13.806_583+00:00 [80057] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:55:13.806_591+00:00 [80057] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:55:13.806_601+00:00 [80057] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:55:14.008_830+00:00 [80022] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:55:14.009_232+00:00 [80029] [INFO] 0x560acb4e98b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:55:14.009_580+00:00 [80029] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:55:14.009_588+00:00 [80029] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:55:14.009_642+00:00 [80057] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:55:14.009_653+00:00 [80057] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:55:14.009_700+00:00 [80057] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:55:14.009_702+00:00 [80057] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:55:14.009_746+00:00 [80057] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:55:14.009_750+00:00 [80057] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:55:14.009_755+00:00 [80057] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:55:14.259_075+00:00 [80022] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:55:14.259_304+00:00 [80029] [INFO] 0x560acb4e9c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:55:14.259_717+00:00 [80029] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:55:14.259_723+00:00 [80029] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:55:14.259_908+00:00 [80029] [INFO] 0x7f44280018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:55:14.260_086+00:00 [80029] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:55:14.260_346+00:00 [80057] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:55:14.260_359+00:00 [80057] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:55:14.260_407+00:00 [80057] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:55:14.260_409+00:00 [80057] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:55:14.260_446+00:00 [80057] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:55:14.260_449+00:00 [80057] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:55:14.260_455+00:00 [80057] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:55:14.760_726+00:00 [80027] [INFO] 0x560acb4e98b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:55:14.760_924+00:00 [80027] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:55:33.757_525+00:00 [80029] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.757_542+00:00 [80029] [INFO] session 1 got connection from 127.0.0.1:44226 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.757_641+00:00 [80029] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.757_647+00:00 [80029] [INFO] session 2 got connection from 127.0.0.1:44228 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.758_048+00:00 [80036] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.758_055+00:00 [80036] [INFO] session 3 got connection from 127.0.0.1:44230 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.758_119+00:00 [80036] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.758_123+00:00 [80036] [INFO] session 4 got connection from 127.0.0.1:44232 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.758_209+00:00 [80032] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.758_215+00:00 [80032] [INFO] session 5 got connection from 127.0.0.1:44234 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.758_300+00:00 [80047] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.758_306+00:00 [80047] [INFO] session 6 got connection from 127.0.0.1:44236 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.758_391+00:00 [80037] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.758_396+00:00 [80037] [INFO] session 7 got connection from 127.0.0.1:44238 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.758_477+00:00 [80041] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.758_482+00:00 [80041] [INFO] session 8 got connection from 127.0.0.1:44240 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.758_550+00:00 [80033] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.758_555+00:00 [80033] [INFO] session 9 got connection from 127.0.0.1:44244 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:33.759_038+00:00 [80051] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:55:33.759_046+00:00 [80051] [INFO] session 10 got connection from 127.0.0.1:44246 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:55:41.156_768+00:00 [80043] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:55:46.156_263+00:00 [80054] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:55:50.156_345+00:00 [80026] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:55:50.156_533+00:00 [80037] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:56:29.194_964+00:00 [80250] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:56:29.197_312+00:00 [80250] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:56:29.197_355+00:00 [80250] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:56:29.197_360+00:00 [80250] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:56:29.197_392+00:00 [80250] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:56:29.197_397+00:00 [80250] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:56:29.197_400+00:00 [80250] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:56:29.197_433+00:00 [80250] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:56:29.198_008+00:00 [80286] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:56:30.542_655+00:00 [80257] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:56:30.542_686+00:00 [80257] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:56:30.542_702+00:00 [80257] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:56:30.542_713+00:00 [80257] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:56:30.542_720+00:00 [80257] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:56:30.542_724+00:00 [80257] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:56:30.542_742+00:00 [80257] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:56:30.542_799+00:00 [80285] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:56:30.542_807+00:00 [80285] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:56:30.542_816+00:00 [80285] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:56:30.748_400+00:00 [80250] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:56:30.748_790+00:00 [80257] [INFO] 0x56020523a8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:56:30.749_180+00:00 [80257] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:56:30.749_189+00:00 [80257] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:56:30.749_246+00:00 [80285] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:56:30.749_257+00:00 [80285] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:56:30.749_304+00:00 [80285] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:56:30.749_307+00:00 [80285] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:56:30.749_353+00:00 [80285] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:56:30.749_357+00:00 [80285] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:56:30.749_363+00:00 [80285] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:56:30.998_677+00:00 [80250] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:56:30.998_903+00:00 [80257] [INFO] 0x56020523ac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:56:30.999_292+00:00 [80257] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:56:30.999_297+00:00 [80257] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:56:30.999_434+00:00 [80257] [INFO] 0x7f51280018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:56:30.999_612+00:00 [80257] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:56:30.999_823+00:00 [80285] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:56:30.999_838+00:00 [80285] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:56:30.999_894+00:00 [80285] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:56:30.999_896+00:00 [80285] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:56:30.999_934+00:00 [80285] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:56:30.999_937+00:00 [80285] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:56:30.999_943+00:00 [80285] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:56:31.500_195+00:00 [80283] [INFO] 0x56020523a8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:56:31.500_383+00:00 [80283] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:56:50.995_671+00:00 [80277] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.995_687+00:00 [80277] [INFO] session 1 got connection from 127.0.0.1:44248 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.995_773+00:00 [80277] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.995_778+00:00 [80277] [INFO] session 2 got connection from 127.0.0.1:44250 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.996_488+00:00 [80263] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.996_499+00:00 [80263] [INFO] session 3 got connection from 127.0.0.1:44252 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.996_576+00:00 [80263] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.996_580+00:00 [80263] [INFO] session 4 got connection from 127.0.0.1:44254 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.996_667+00:00 [80269] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.996_672+00:00 [80269] [INFO] session 5 got connection from 127.0.0.1:44256 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.997_443+00:00 [80269] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.997_449+00:00 [80269] [INFO] session 6 got connection from 127.0.0.1:44258 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.997_497+00:00 [80269] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.997_501+00:00 [80269] [INFO] session 7 got connection from 127.0.0.1:44260 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.997_571+00:00 [80265] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.997_575+00:00 [80265] [INFO] session 8 got connection from 127.0.0.1:44262 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.997_950+00:00 [80273] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.997_956+00:00 [80273] [INFO] session 9 got connection from 127.0.0.1:44264 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:50.997_991+00:00 [80273] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:56:50.997_995+00:00 [80273] [INFO] session 10 got connection from 127.0.0.1:44266 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:56:54.156_283+00:00 [80279] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:56:54.156_305+00:00 [80279] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:56:54.156_646+00:00 [80275] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:57:03.156_217+00:00 [80264] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:57:05.156_360+00:00 [80281] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:57:07.156_295+00:00 [80264] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:57:10.158_077+00:00 [80261] [WARN] skipped sending msg to 3 too long time, last msg sent 951 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:57:46.198_131+00:00 [80479] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:57:46.199_500+00:00 [80479] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:57:46.199_534+00:00 [80479] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:57:46.199_540+00:00 [80479] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:57:46.199_566+00:00 [80479] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:57:46.199_570+00:00 [80479] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:57:46.199_573+00:00 [80479] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:57:46.199_604+00:00 [80479] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:57:46.199_751+00:00 [80515] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:57:48.039_819+00:00 [80486] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:57:48.039_832+00:00 [80486] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:57:48.039_848+00:00 [80486] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:57:48.039_859+00:00 [80486] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:57:48.039_867+00:00 [80486] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:57:48.039_871+00:00 [80486] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:57:48.039_889+00:00 [80486] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:57:48.039_946+00:00 [80514] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:57:48.039_955+00:00 [80514] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:57:48.039_966+00:00 [80514] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:57:48.250_803+00:00 [80479] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:57:48.251_192+00:00 [80486] [INFO] 0x55a2ffeec8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:57:48.251_512+00:00 [80486] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:57:48.251_521+00:00 [80486] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:57:48.251_576+00:00 [80514] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:57:48.251_588+00:00 [80514] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:57:48.251_639+00:00 [80514] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:57:48.251_642+00:00 [80514] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:57:48.251_685+00:00 [80514] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:57:48.251_689+00:00 [80514] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:57:48.251_694+00:00 [80514] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:57:48.501_042+00:00 [80479] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:57:48.501_236+00:00 [80486] [INFO] 0x55a2ffeecc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:57:48.501_625+00:00 [80486] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:57:48.501_630+00:00 [80486] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:57:48.501_770+00:00 [80486] [INFO] 0x7faef40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:57:48.502_196+00:00 [80486] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:57:48.502_409+00:00 [80514] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:57:48.502_424+00:00 [80514] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:57:48.502_469+00:00 [80514] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:57:48.502_471+00:00 [80514] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:57:48.502_506+00:00 [80514] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:57:48.502_509+00:00 [80514] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:57:48.502_515+00:00 [80514] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:57:49.002_865+00:00 [80484] [INFO] 0x55a2ffeec8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:57:49.003_098+00:00 [80484] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:58:07.998_474+00:00 [80511] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.998_492+00:00 [80511] [INFO] session 1 got connection from 127.0.0.1:44270 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.998_583+00:00 [80511] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.998_589+00:00 [80511] [INFO] session 2 got connection from 127.0.0.1:44272 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.998_910+00:00 [80490] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.998_919+00:00 [80490] [INFO] session 3 got connection from 127.0.0.1:44274 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.998_990+00:00 [80490] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.998_994+00:00 [80490] [INFO] session 4 got connection from 127.0.0.1:44276 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.999_153+00:00 [80494] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.999_158+00:00 [80494] [INFO] session 5 got connection from 127.0.0.1:44278 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.999_341+00:00 [80504] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.999_346+00:00 [80504] [INFO] session 6 got connection from 127.0.0.1:44280 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.999_398+00:00 [80504] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.999_402+00:00 [80504] [INFO] session 7 got connection from 127.0.0.1:44282 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.999_480+00:00 [80501] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.999_485+00:00 [80501] [INFO] session 8 got connection from 127.0.0.1:44284 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.999_569+00:00 [80498] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.999_574+00:00 [80498] [INFO] session 9 got connection from 127.0.0.1:44286 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:07.999_654+00:00 [80488] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:58:07.999_660+00:00 [80488] [INFO] session 10 got connection from 127.0.0.1:44288 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:58:10.156_677+00:00 [80491] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:10.156_738+00:00 [80491] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:10.157_004+00:00 [80491] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:11.156_346+00:00 [80507] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:14.156_353+00:00 [80487] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:15.156_300+00:00 [80498] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:17.156_319+00:00 [80489] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:21.156_284+00:00 [80510] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:22.156_358+00:00 [80496] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:23.156_524+00:00 [80484] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:24.156_672+00:00 [80504] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:58:26.156_426+00:00 [80489] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:03.208_311+00:00 [80678] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T03:59:03.209_674+00:00 [80678] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T03:59:03.209_707+00:00 [80678] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T03:59:03.209_712+00:00 [80678] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T03:59:03.209_741+00:00 [80678] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T03:59:03.209_746+00:00 [80678] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T03:59:03.209_750+00:00 [80678] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T03:59:03.209_784+00:00 [80678] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T03:59:03.209_931+00:00 [80714] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T03:59:05.091_018+00:00 [80685] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T03:59:05.091_031+00:00 [80685] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T03:59:05.091_047+00:00 [80685] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T03:59:05.091_065+00:00 [80685] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T03:59:05.091_073+00:00 [80685] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T03:59:05.091_077+00:00 [80685] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T03:59:05.091_097+00:00 [80685] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T03:59:05.091_154+00:00 [80713] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:59:05.091_163+00:00 [80713] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:59:05.091_174+00:00 [80713] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:59:05.260_982+00:00 [80678] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:59:05.261_402+00:00 [80685] [INFO] 0x55b4f4a628b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:59:05.261_717+00:00 [80685] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:59:05.261_724+00:00 [80685] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:59:05.261_771+00:00 [80713] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:59:05.261_781+00:00 [80713] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:59:05.261_821+00:00 [80713] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:59:05.261_823+00:00 [80713] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:59:05.261_860+00:00 [80713] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:59:05.261_863+00:00 [80713] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:59:05.261_868+00:00 [80713] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:59:05.511_255+00:00 [80678] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T03:59:05.511_481+00:00 [80685] [INFO] 0x55b4f4a62c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:59:05.511_876+00:00 [80685] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T03:59:05.511_881+00:00 [80685] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T03:59:05.512_027+00:00 [80685] [INFO] 0x7f557c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:59:05.512_211+00:00 [80685] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:59:05.512_419+00:00 [80713] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T03:59:05.512_432+00:00 [80713] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T03:59:05.512_478+00:00 [80713] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T03:59:05.512_480+00:00 [80713] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T03:59:05.512_515+00:00 [80713] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T03:59:05.512_519+00:00 [80713] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T03:59:05.512_524+00:00 [80713] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T03:59:06.012_865+00:00 [80683] [INFO] 0x55b4f4a628b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T03:59:06.013_200+00:00 [80683] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T03:59:25.256_576+00:00 [80709] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.256_592+00:00 [80709] [INFO] session 1 got connection from 127.0.0.1:44290 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.256_866+00:00 [80704] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.256_874+00:00 [80704] [INFO] session 2 got connection from 127.0.0.1:44292 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.256_964+00:00 [80704] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.256_969+00:00 [80704] [INFO] session 3 got connection from 127.0.0.1:44294 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.257_139+00:00 [80704] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.257_144+00:00 [80704] [INFO] session 4 got connection from 127.0.0.1:44296 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.257_200+00:00 [80704] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.257_205+00:00 [80704] [INFO] session 5 got connection from 127.0.0.1:44300 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.257_298+00:00 [80686] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.257_303+00:00 [80686] [INFO] session 6 got connection from 127.0.0.1:44302 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.257_380+00:00 [80688] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.257_386+00:00 [80688] [INFO] session 7 got connection from 127.0.0.1:44304 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.257_469+00:00 [80690] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.257_474+00:00 [80690] [INFO] session 8 got connection from 127.0.0.1:44306 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.257_549+00:00 [80691] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.257_554+00:00 [80691] [INFO] session 9 got connection from 127.0.0.1:44310 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:25.257_630+00:00 [80687] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T03:59:25.257_635+00:00 [80687] [INFO] session 10 got connection from 127.0.0.1:44312 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T03:59:26.156_308+00:00 [80686] [WARN] skipped sending msg to 2 too long time, last msg sent 849 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:26.156_381+00:00 [80686] [WARN] skipped sending msg to 2 too long time, last msg sent 849 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:34.156_391+00:00 [80697] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:35.156_525+00:00 [80699] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:35.156_606+00:00 [80684] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:35.156_722+00:00 [80686] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:35.157_178+00:00 [80697] [WARN] skipped sending msg to 2 too long time, last msg sent 951 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:38.156_238+00:00 [80709] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:40.156_296+00:00 [80707] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T03:59:41.156_323+00:00 [80699] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:21.205_921+00:00 [80832] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:00:21.207_296+00:00 [80832] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:00:21.207_337+00:00 [80832] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:00:21.207_342+00:00 [80832] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:00:21.207_364+00:00 [80832] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:00:21.207_369+00:00 [80832] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:00:21.207_371+00:00 [80832] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:00:21.207_403+00:00 [80832] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:00:21.207_547+00:00 [80868] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:00:22.337_644+00:00 [80839] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:00:22.337_656+00:00 [80839] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:00:22.337_672+00:00 [80839] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:00:22.337_683+00:00 [80839] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:00:22.337_690+00:00 [80839] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:00:22.337_694+00:00 [80839] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:00:22.337_712+00:00 [80839] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:00:22.337_767+00:00 [80867] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:00:22.337_774+00:00 [80867] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:00:22.337_784+00:00 [80867] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:00:22.508_312+00:00 [80832] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:00:22.508_728+00:00 [80839] [INFO] 0x557e120d48b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:00:22.509_063+00:00 [80839] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:00:22.509_071+00:00 [80839] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:00:22.509_125+00:00 [80867] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:00:22.509_136+00:00 [80867] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:00:22.509_190+00:00 [80867] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:00:22.509_193+00:00 [80867] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:00:22.509_239+00:00 [80867] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:00:22.509_243+00:00 [80867] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:00:22.509_248+00:00 [80867] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:00:22.758_600+00:00 [80832] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:00:22.758_851+00:00 [80839] [INFO] 0x557e120d4c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:00:22.759_233+00:00 [80839] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:00:22.759_236+00:00 [80839] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:00:22.759_357+00:00 [80839] [INFO] 0x7fa5180018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:00:22.759_535+00:00 [80839] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:00:22.759_728+00:00 [80867] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:00:22.759_741+00:00 [80867] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:00:22.759_788+00:00 [80867] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:00:22.759_790+00:00 [80867] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:00:22.759_825+00:00 [80867] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:00:22.759_828+00:00 [80867] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:00:22.759_834+00:00 [80867] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:00:23.260_129+00:00 [80837] [INFO] 0x557e120d48b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:00:23.260_387+00:00 [80837] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:00:42.752_456+00:00 [80836] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.752_472+00:00 [80836] [INFO] session 1 got connection from 127.0.0.1:44314 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.752_763+00:00 [80862] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.752_770+00:00 [80862] [INFO] session 2 got connection from 127.0.0.1:44316 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.753_040+00:00 [80851] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.753_047+00:00 [80851] [INFO] session 3 got connection from 127.0.0.1:44318 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.753_106+00:00 [80851] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.753_111+00:00 [80851] [INFO] session 4 got connection from 127.0.0.1:44320 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.753_208+00:00 [80858] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.753_213+00:00 [80858] [INFO] session 5 got connection from 127.0.0.1:44322 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.753_455+00:00 [80857] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.753_461+00:00 [80857] [INFO] session 6 got connection from 127.0.0.1:44324 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.753_514+00:00 [80857] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.753_518+00:00 [80857] [INFO] session 7 got connection from 127.0.0.1:44326 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.753_607+00:00 [80861] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.753_612+00:00 [80861] [INFO] session 8 got connection from 127.0.0.1:44330 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.753_982+00:00 [80846] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.753_987+00:00 [80846] [INFO] session 9 got connection from 127.0.0.1:44332 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:42.754_036+00:00 [80846] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:00:42.754_040+00:00 [80846] [INFO] session 10 got connection from 127.0.0.1:44334 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:00:44.156_450+00:00 [80852] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:44.156_470+00:00 [80852] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:44.156_547+00:00 [80852] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:44.157_020+00:00 [80843] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:44.157_178+00:00 [80864] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:44.157_338+00:00 [80849] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:44.157_533+00:00 [80864] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:48.156_281+00:00 [80850] [WARN] skipped sending msg to 2 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:50.156_412+00:00 [80839] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:52.156_373+00:00 [80865] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:00:52.156_466+00:00 [80865] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:01:01.156_283+00:00 [80840] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:01:38.207_470+00:00 [80989] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:01:38.208_832+00:00 [80989] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:01:38.208_863+00:00 [80989] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:01:38.208_867+00:00 [80989] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:01:38.208_889+00:00 [80989] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:01:38.208_893+00:00 [80989] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:01:38.208_896+00:00 [80989] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:01:38.208_924+00:00 [80989] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:01:38.209_067+00:00 [81025] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:01:39.709_153+00:00 [80996] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:01:39.709_166+00:00 [80996] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:01:39.709_181+00:00 [80996] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:01:39.709_193+00:00 [80996] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:01:39.709_200+00:00 [80996] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:01:39.709_204+00:00 [80996] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:01:39.709_224+00:00 [80996] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:01:39.709_280+00:00 [81024] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:01:39.709_289+00:00 [81024] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:01:39.709_300+00:00 [81024] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:01:39.759_891+00:00 [80989] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:01:39.760_338+00:00 [80996] [INFO] 0x556e30c918b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:01:39.760_665+00:00 [80996] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:01:39.760_673+00:00 [80996] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:01:39.760_726+00:00 [81024] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:01:39.760_737+00:00 [81024] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:01:39.760_783+00:00 [81024] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:01:39.760_786+00:00 [81024] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:01:39.760_826+00:00 [81024] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:01:39.760_830+00:00 [81024] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:01:39.760_836+00:00 [81024] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:01:40.010_145+00:00 [80989] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:01:40.010_361+00:00 [80996] [INFO] 0x556e30c91c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:01:40.010_792+00:00 [80996] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:01:40.010_797+00:00 [80996] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:01:40.010_940+00:00 [80996] [INFO] 0x7ff6c00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:01:40.011_112+00:00 [80996] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:01:40.011_331+00:00 [81024] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:01:40.011_346+00:00 [81024] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:01:40.011_400+00:00 [81024] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:01:40.011_403+00:00 [81024] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:01:40.011_443+00:00 [81024] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:01:40.011_447+00:00 [81024] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:01:40.011_454+00:00 [81024] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:01:40.511_781+00:00 [80994] [INFO] 0x556e30c918b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:01:40.512_029+00:00 [80994] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:02:00.254_598+00:00 [80996] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.254_613+00:00 [80996] [INFO] session 1 got connection from 127.0.0.1:44336 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.254_896+00:00 [81015] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.254_903+00:00 [81015] [INFO] session 2 got connection from 127.0.0.1:44338 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.254_975+00:00 [81015] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.254_980+00:00 [81015] [INFO] session 3 got connection from 127.0.0.1:44340 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.255_077+00:00 [81009] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.255_082+00:00 [81009] [INFO] session 4 got connection from 127.0.0.1:44342 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.255_172+00:00 [81016] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.255_177+00:00 [81016] [INFO] session 5 got connection from 127.0.0.1:44344 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.255_261+00:00 [80995] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.255_265+00:00 [80995] [INFO] session 6 got connection from 127.0.0.1:44346 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.255_330+00:00 [81023] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.255_335+00:00 [81023] [INFO] session 7 got connection from 127.0.0.1:44350 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.256_203+00:00 [81023] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.256_210+00:00 [81023] [INFO] session 8 got connection from 127.0.0.1:44352 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.256_363+00:00 [81023] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.256_369+00:00 [81023] [INFO] session 9 got connection from 127.0.0.1:44354 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:00.256_417+00:00 [81023] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:02:00.256_421+00:00 [81023] [INFO] session 10 got connection from 127.0.0.1:44358 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:02:07.156_309+00:00 [81001] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:02:11.156_310+00:00 [81008] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:02:11.156_445+00:00 [81008] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:02:14.156_228+00:00 [81021] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:02:15.156_299+00:00 [81004] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:02:16.156_373+00:00 [81013] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:08:28.152_515+00:00 [81348] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:08:28.153_877+00:00 [81348] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:08:28.153_908+00:00 [81348] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:08:28.153_914+00:00 [81348] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:08:28.153_937+00:00 [81348] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:08:28.153_942+00:00 [81348] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:08:28.153_945+00:00 [81348] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:08:28.153_974+00:00 [81348] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:08:28.154_118+00:00 [81384] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:08:29.971_183+00:00 [81355] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:08:29.971_196+00:00 [81355] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:08:29.971_212+00:00 [81355] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:08:29.971_224+00:00 [81355] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:08:29.971_231+00:00 [81355] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:08:29.971_235+00:00 [81355] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:08:29.971_255+00:00 [81355] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:08:29.971_313+00:00 [81383] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:08:29.971_321+00:00 [81383] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:08:29.971_331+00:00 [81383] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:08:30.205_296+00:00 [81348] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:08:30.205_718+00:00 [81355] [INFO] 0x55f39c04c8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:08:30.206_020+00:00 [81355] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:08:30.206_029+00:00 [81355] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:08:30.206_088+00:00 [81383] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:08:30.206_099+00:00 [81383] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:08:30.206_149+00:00 [81383] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:08:30.206_152+00:00 [81383] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:08:30.206_198+00:00 [81383] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:08:30.206_202+00:00 [81383] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:08:30.206_209+00:00 [81383] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:08:30.455_550+00:00 [81348] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:08:30.455_752+00:00 [81355] [INFO] 0x55f39c04cc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:08:30.456_168+00:00 [81355] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:08:30.456_172+00:00 [81355] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:08:30.456_294+00:00 [81355] [INFO] 0x7fde9c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:08:30.456_468+00:00 [81355] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:08:30.456_657+00:00 [81383] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:08:30.456_669+00:00 [81383] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:08:30.456_718+00:00 [81383] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:08:30.456_720+00:00 [81383] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:08:30.456_755+00:00 [81383] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:08:30.456_759+00:00 [81383] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:08:30.456_765+00:00 [81383] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:08:30.957_103+00:00 [81353] [INFO] 0x55f39c04c8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:08:30.957_466+00:00 [81353] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:08:49.698_196+00:00 [81356] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:08:49.698_211+00:00 [81356] [INFO] session 1 got connection from 127.0.0.1:44360 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:08:49.698_492+00:00 [81365] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:08:49.698_499+00:00 [81365] [INFO] session 2 got connection from 127.0.0.1:44362 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:08:56.156_228+00:00 [81368] [WARN] skipped sending msg to 2 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:08:58.156_167+00:00 [81381] [WARN] skipped sending msg to 3 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:09:02.156_183+00:00 [81373] [WARN] skipped sending msg to 3 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:09:02.156_324+00:00 [81373] [WARN] skipped sending msg to 3 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:09:45.204_028+00:00 [81488] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:09:45.205_375+00:00 [81488] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:09:45.205_404+00:00 [81488] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:09:45.205_410+00:00 [81488] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:09:45.205_432+00:00 [81488] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:09:45.205_436+00:00 [81488] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:09:45.205_438+00:00 [81488] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:09:45.205_465+00:00 [81488] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:09:45.205_613+00:00 [81524] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:09:46.480_690+00:00 [81495] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:09:46.480_703+00:00 [81495] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:09:46.480_720+00:00 [81495] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:09:46.480_732+00:00 [81495] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:09:46.480_739+00:00 [81495] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:09:46.480_744+00:00 [81495] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:09:46.480_764+00:00 [81495] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:09:46.480_820+00:00 [81523] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:09:46.480_828+00:00 [81523] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:09:46.480_839+00:00 [81523] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:09:46.506_347+00:00 [81488] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:09:46.506_779+00:00 [81495] [INFO] 0x562a72dc88b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:09:46.507_115+00:00 [81495] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:09:46.507_123+00:00 [81495] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:09:46.507_174+00:00 [81523] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:09:46.507_185+00:00 [81523] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:09:46.507_231+00:00 [81523] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:09:46.507_233+00:00 [81523] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:09:46.507_275+00:00 [81523] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:09:46.507_279+00:00 [81523] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:09:46.507_285+00:00 [81523] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:09:46.756_647+00:00 [81488] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:09:46.756_899+00:00 [81495] [INFO] 0x562a72dc8c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:09:46.757_296+00:00 [81495] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:09:46.757_301+00:00 [81495] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:09:46.757_458+00:00 [81495] [INFO] 0x7fd5c40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:09:46.757_635+00:00 [81495] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:09:46.757_846+00:00 [81523] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:09:46.757_862+00:00 [81523] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:09:46.757_916+00:00 [81523] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:09:46.757_918+00:00 [81523] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:09:46.757_957+00:00 [81523] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:09:46.757_961+00:00 [81523] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:09:46.757_969+00:00 [81523] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:09:47.258_267+00:00 [81493] [INFO] 0x562a72dc88b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:09:47.258_517+00:00 [81493] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:10:06.999_411+00:00 [81491] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:10:06.999_426+00:00 [81491] [INFO] session 1 got connection from 127.0.0.1:44364 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:10:06.999_678+00:00 [81522] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:10:06.999_685+00:00 [81522] [INFO] session 2 got connection from 127.0.0.1:44366 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:10:06.999_958+00:00 [81500] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:10:06.999_965+00:00 [81500] [INFO] session 3 got connection from 127.0.0.1:44370 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:10:07.000_414+00:00 [81518] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:10:07.000_421+00:00 [81518] [INFO] session 4 got connection from 127.0.0.1:44372 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:10:16.156_468+00:00 [81521] [WARN] skipped sending msg to 2 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:10:19.156_310+00:00 [81500] [WARN] skipped sending msg to 2 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:11:02.202_441+00:00 [81636] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:11:02.204_188+00:00 [81636] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:11:02.204_229+00:00 [81636] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:11:02.204_236+00:00 [81636] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:11:02.204_267+00:00 [81636] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:11:02.204_272+00:00 [81636] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:11:02.204_276+00:00 [81636] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:11:02.204_310+00:00 [81636] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:11:02.204_481+00:00 [81672] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:11:03.718_522+00:00 [81643] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:11:03.718_534+00:00 [81643] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:11:03.718_549+00:00 [81643] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:11:03.718_565+00:00 [81643] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:11:03.718_572+00:00 [81643] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:11:03.718_575+00:00 [81643] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:11:03.718_595+00:00 [81643] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:11:03.718_650+00:00 [81671] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:11:03.718_678+00:00 [81671] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:11:03.718_692+00:00 [81671] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:11:03.755_344+00:00 [81636] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:11:03.755_761+00:00 [81643] [INFO] 0x5637eae6c8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:11:03.756_116+00:00 [81643] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:11:03.756_127+00:00 [81643] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:11:03.756_176+00:00 [81671] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:11:03.756_186+00:00 [81671] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:11:03.756_229+00:00 [81671] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:11:03.756_231+00:00 [81671] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:11:03.756_273+00:00 [81671] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:11:03.756_276+00:00 [81671] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:11:03.756_281+00:00 [81671] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:11:04.005_593+00:00 [81636] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:11:04.005_809+00:00 [81643] [INFO] 0x5637eae6cc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:11:04.006_179+00:00 [81643] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:11:04.006_184+00:00 [81643] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:11:04.006_326+00:00 [81643] [INFO] 0x7fc57c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:11:04.006_570+00:00 [81643] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:11:04.006_821+00:00 [81671] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:11:04.006_836+00:00 [81671] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:11:04.006_888+00:00 [81671] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:11:04.006_891+00:00 [81671] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:11:04.006_931+00:00 [81671] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:11:04.006_935+00:00 [81671] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:11:04.006_942+00:00 [81671] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:11:04.507_237+00:00 [81641] [INFO] 0x5637eae6c8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:11:04.507_461+00:00 [81641] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:11:23.748_717+00:00 [81653] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:11:23.748_735+00:00 [81653] [INFO] session 1 got connection from 127.0.0.1:44374 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:11:23.749_005+00:00 [81656] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:11:23.749_012+00:00 [81656] [INFO] session 2 got connection from 127.0.0.1:44376 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:11:23.749_217+00:00 [81663] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:11:23.749_223+00:00 [81663] [INFO] session 3 got connection from 127.0.0.1:44378 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:11:23.749_282+00:00 [81663] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:11:23.749_287+00:00 [81663] [INFO] session 4 got connection from 127.0.0.1:44380 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:11:23.749_420+00:00 [81668] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:11:23.749_425+00:00 [81668] [INFO] session 5 got connection from 127.0.0.1:44382 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:11:23.749_811+00:00 [81642] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:11:23.749_817+00:00 [81642] [INFO] session 6 got connection from 127.0.0.1:44384 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:11:28.156_549+00:00 [81649] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:11:28.156_691+00:00 [81653] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:11:29.156_163+00:00 [81666] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:11:38.156_252+00:00 [81669] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:12:19.205_177+00:00 [81780] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:12:19.206_529+00:00 [81780] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:12:19.206_559+00:00 [81780] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:12:19.206_567+00:00 [81780] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:12:19.206_589+00:00 [81780] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:12:19.206_593+00:00 [81780] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:12:19.206_596+00:00 [81780] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:12:19.206_628+00:00 [81780] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:12:19.206_802+00:00 [81816] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:12:20.397_849+00:00 [81787] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:12:20.397_861+00:00 [81787] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:12:20.397_876+00:00 [81787] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:12:20.397_886+00:00 [81787] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:12:20.397_894+00:00 [81787] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:12:20.397_897+00:00 [81787] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:12:20.397_915+00:00 [81787] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:12:20.397_974+00:00 [81815] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:12:20.397_982+00:00 [81815] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:12:20.397_992+00:00 [81815] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:12:20.507_515+00:00 [81780] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:12:20.507_915+00:00 [81787] [INFO] 0x557387ea78b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:12:20.508_242+00:00 [81787] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:12:20.508_250+00:00 [81787] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:12:20.508_301+00:00 [81815] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:12:20.508_313+00:00 [81815] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:12:20.508_360+00:00 [81815] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:12:20.508_362+00:00 [81815] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:12:20.508_406+00:00 [81815] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:12:20.508_409+00:00 [81815] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:12:20.508_415+00:00 [81815] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:12:20.757_827+00:00 [81780] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:12:20.758_057+00:00 [81787] [INFO] 0x557387ea7c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:12:20.758_445+00:00 [81787] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:12:20.758_450+00:00 [81787] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:12:20.758_592+00:00 [81787] [INFO] 0x7f4cd80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:12:20.758_777+00:00 [81787] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:12:20.758_984+00:00 [81815] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:12:20.758_999+00:00 [81815] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:12:20.759_056+00:00 [81815] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:12:20.759_058+00:00 [81815] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:12:20.759_097+00:00 [81815] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:12:20.759_101+00:00 [81815] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:12:20.759_108+00:00 [81815] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:12:21.259_419+00:00 [81785] [INFO] 0x557387ea78b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:12:21.259_670+00:00 [81785] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:12:41.001_915+00:00 [81788] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.001_931+00:00 [81788] [INFO] session 1 got connection from 127.0.0.1:44386 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:41.002_373+00:00 [81786] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.002_383+00:00 [81786] [INFO] session 2 got connection from 127.0.0.1:44388 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:41.002_449+00:00 [81786] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.002_453+00:00 [81786] [INFO] session 3 got connection from 127.0.0.1:44390 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:41.002_558+00:00 [81806] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.002_563+00:00 [81806] [INFO] session 4 got connection from 127.0.0.1:44392 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:41.002_651+00:00 [81805] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.002_656+00:00 [81805] [INFO] session 5 got connection from 127.0.0.1:44394 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:41.002_724+00:00 [81814] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.002_728+00:00 [81814] [INFO] session 6 got connection from 127.0.0.1:44396 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:41.002_965+00:00 [81814] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.002_969+00:00 [81814] [INFO] session 7 got connection from 127.0.0.1:44398 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:41.003_305+00:00 [81787] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:12:41.003_311+00:00 [81787] [INFO] session 8 got connection from 127.0.0.1:44400 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:12:46.156_416+00:00 [81796] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:12:49.156_386+00:00 [81788] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:12:56.156_317+00:00 [81811] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:12:56.156_340+00:00 [81811] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:12:56.156_463+00:00 [81811] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:12:56.156_913+00:00 [81791] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:12:56.157_049+00:00 [81791] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:13:36.201_817+00:00 [81925] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:13:36.203_187+00:00 [81925] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:13:36.203_222+00:00 [81925] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:13:36.203_227+00:00 [81925] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:13:36.203_252+00:00 [81925] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:13:36.203_256+00:00 [81925] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:13:36.203_259+00:00 [81925] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:13:36.203_290+00:00 [81925] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:13:36.203_429+00:00 [81961] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:13:37.691_530+00:00 [81932] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:13:37.691_543+00:00 [81932] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:13:37.691_559+00:00 [81932] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:13:37.691_571+00:00 [81932] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:13:37.691_578+00:00 [81932] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:13:37.691_582+00:00 [81932] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:13:37.691_602+00:00 [81932] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:13:37.691_656+00:00 [81960] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:13:37.691_663+00:00 [81960] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:13:37.691_673+00:00 [81960] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:13:37.754_402+00:00 [81925] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:13:37.754_877+00:00 [81932] [INFO] 0x55d55fa248b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:13:37.755_190+00:00 [81932] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:13:37.755_198+00:00 [81932] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:13:37.755_250+00:00 [81960] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:13:37.755_262+00:00 [81960] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:13:37.755_308+00:00 [81960] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:13:37.755_310+00:00 [81960] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:13:37.755_354+00:00 [81960] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:13:37.755_357+00:00 [81960] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:13:37.755_362+00:00 [81960] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:13:38.004_663+00:00 [81925] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:13:38.004_889+00:00 [81932] [INFO] 0x55d55fa24c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:13:38.005_265+00:00 [81932] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:13:38.005_269+00:00 [81932] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:13:38.005_410+00:00 [81932] [INFO] 0x7fd3100018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:13:38.005_585+00:00 [81932] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:13:38.005_795+00:00 [81960] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:13:38.005_810+00:00 [81960] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:13:38.005_861+00:00 [81960] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:13:38.005_863+00:00 [81960] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:13:38.005_903+00:00 [81960] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:13:38.005_907+00:00 [81960] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:13:38.005_915+00:00 [81960] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:13:38.506_225+00:00 [81930] [INFO] 0x55d55fa248b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:13:38.506_478+00:00 [81930] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:13:57.497_533+00:00 [81949] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.497_550+00:00 [81949] [INFO] session 1 got connection from 127.0.0.1:44402 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.497_646+00:00 [81949] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.497_651+00:00 [81949] [INFO] session 2 got connection from 127.0.0.1:44404 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.497_959+00:00 [81958] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.497_966+00:00 [81958] [INFO] session 3 got connection from 127.0.0.1:44406 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.498_115+00:00 [81958] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.498_120+00:00 [81958] [INFO] session 4 got connection from 127.0.0.1:44408 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.498_176+00:00 [81958] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.498_180+00:00 [81958] [INFO] session 5 got connection from 127.0.0.1:44410 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.498_273+00:00 [81937] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.498_279+00:00 [81937] [INFO] session 6 got connection from 127.0.0.1:44412 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.498_374+00:00 [81955] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.498_379+00:00 [81955] [INFO] session 7 got connection from 127.0.0.1:44414 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.498_683+00:00 [81940] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.498_692+00:00 [81940] [INFO] session 8 got connection from 127.0.0.1:44416 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.498_808+00:00 [81928] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.498_813+00:00 [81928] [INFO] session 9 got connection from 127.0.0.1:44418 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:57.499_067+00:00 [81931] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:13:57.499_073+00:00 [81931] [INFO] session 10 got connection from 127.0.0.1:44420 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:13:58.156_172+00:00 [81933] [WARN] skipped sending msg to 2 too long time, last msg sent 608 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:13:58.156_194+00:00 [81933] [WARN] skipped sending msg to 3 too long time, last msg sent 608 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:05.156_490+00:00 [81928] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:09.156_327+00:00 [81956] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:09.156_455+00:00 [81956] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:10.156_463+00:00 [81947] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:10.156_486+00:00 [81947] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:12.156_335+00:00 [81936] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:13.156_226+00:00 [81958] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:16.156_379+00:00 [81951] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:16.156_708+00:00 [81957] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:17.156_700+00:00 [81939] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:17.156_747+00:00 [81939] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:14:53.187_501+00:00 [82074] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:14:53.188_861+00:00 [82074] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:14:53.188_893+00:00 [82074] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:14:53.188_900+00:00 [82074] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:14:53.188_924+00:00 [82074] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:14:53.188_928+00:00 [82074] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:14:53.188_932+00:00 [82074] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:14:53.188_959+00:00 [82074] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:14:53.189_109+00:00 [82110] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:14:54.982_180+00:00 [82081] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:14:54.982_193+00:00 [82081] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:14:54.982_209+00:00 [82081] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:14:54.982_220+00:00 [82081] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:14:54.982_226+00:00 [82081] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:14:54.982_231+00:00 [82081] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:14:54.982_250+00:00 [82081] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:14:54.982_308+00:00 [82109] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:14:54.982_322+00:00 [82109] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:14:54.982_332+00:00 [82109] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:14:54.989_936+00:00 [82074] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:14:54.990_312+00:00 [82081] [INFO] 0x559da28cf8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:14:54.990_649+00:00 [82081] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:14:54.990_656+00:00 [82081] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:14:54.990_731+00:00 [82109] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:14:54.990_741+00:00 [82109] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:14:54.990_789+00:00 [82109] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:14:54.990_791+00:00 [82109] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:14:54.990_833+00:00 [82109] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:14:54.990_837+00:00 [82109] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:14:54.990_843+00:00 [82109] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:14:55.240_175+00:00 [82074] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:14:55.240_395+00:00 [82081] [INFO] 0x559da28cfc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:14:55.240_792+00:00 [82081] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:14:55.240_797+00:00 [82081] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:14:55.240_935+00:00 [82081] [INFO] 0x7f2f800018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:14:55.241_114+00:00 [82081] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:14:55.241_322+00:00 [82109] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:14:55.241_337+00:00 [82109] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:14:55.241_389+00:00 [82109] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:14:55.241_392+00:00 [82109] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:14:55.241_431+00:00 [82109] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:14:55.241_435+00:00 [82109] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:14:55.241_442+00:00 [82109] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:14:55.741_740+00:00 [82079] [INFO] 0x559da28cf8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:14:55.741_979+00:00 [82079] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:15:14.492_583+00:00 [82106] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.492_601+00:00 [82106] [INFO] session 1 got connection from 127.0.0.1:44422 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.492_697+00:00 [82106] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.492_702+00:00 [82106] [INFO] session 2 got connection from 127.0.0.1:44426 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.493_011+00:00 [82100] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.493_018+00:00 [82100] [INFO] session 3 got connection from 127.0.0.1:44428 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.493_080+00:00 [82100] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.493_085+00:00 [82100] [INFO] session 4 got connection from 127.0.0.1:44430 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.493_491+00:00 [82098] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.493_498+00:00 [82098] [INFO] session 5 got connection from 127.0.0.1:44432 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.493_623+00:00 [82098] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.493_629+00:00 [82098] [INFO] session 6 got connection from 127.0.0.1:44434 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.494_078+00:00 [82095] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.494_085+00:00 [82095] [INFO] session 7 got connection from 127.0.0.1:44436 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.494_143+00:00 [82095] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.494_147+00:00 [82095] [INFO] session 8 got connection from 127.0.0.1:44438 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.494_579+00:00 [82101] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.494_586+00:00 [82101] [INFO] session 9 got connection from 127.0.0.1:44440 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:14.494_639+00:00 [82108] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:15:14.494_644+00:00 [82108] [INFO] session 10 got connection from 127.0.0.1:44442 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:15:15.156_311+00:00 [82098] [WARN] skipped sending msg to 2 too long time, last msg sent 613 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.156_386+00:00 [82089] [WARN] skipped sending msg to 3 too long time, last msg sent 617 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.156_409+00:00 [82106] [WARN] skipped sending msg to 2 too long time, last msg sent 613 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.156_457+00:00 [82108] [WARN] skipped sending msg to 3 too long time, last msg sent 617 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.156_711+00:00 [82110] [WARN] skipped sending msg to 3 too long time, last msg sent 617 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.156_796+00:00 [82099] [WARN] skipped sending msg to 3 too long time, last msg sent 618 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.156_988+00:00 [82083] [WARN] skipped sending msg to 3 too long time, last msg sent 618 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.157_270+00:00 [82110] [WARN] skipped sending msg to 3 too long time, last msg sent 618 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.157_312+00:00 [82101] [WARN] skipped sending msg to 3 too long time, last msg sent 618 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.157_487+00:00 [82080] [WARN] skipped sending msg to 3 too long time, last msg sent 618 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.157_661+00:00 [82110] [WARN] skipped sending msg to 3 too long time, last msg sent 618 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.157_698+00:00 [82082] [WARN] skipped sending msg to 3 too long time, last msg sent 618 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.157_865+00:00 [82094] [WARN] skipped sending msg to 3 too long time, last msg sent 619 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.158_144+00:00 [82107] [WARN] skipped sending msg to 3 too long time, last msg sent 619 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.158_331+00:00 [82107] [WARN] skipped sending msg to 3 too long time, last msg sent 619 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.158_629+00:00 [82110] [WARN] skipped sending msg to 3 too long time, last msg sent 619 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.158_745+00:00 [82110] [WARN] skipped sending msg to 3 too long time, last msg sent 619 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.158_806+00:00 [82091] [WARN] skipped sending msg to 3 too long time, last msg sent 620 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.158_943+00:00 [82086] [WARN] skipped sending msg to 3 too long time, last msg sent 620 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.159_073+00:00 [82086] [WARN] skipped sending msg to 3 too long time, last msg sent 620 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.159_259+00:00 [82110] [WARN] skipped sending msg to 3 too long time, last msg sent 620 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:15.159_350+00:00 [82110] [WARN] long pause warning to 3 is too verbose, will suppress it from now	[handle_append_entries.cxx:302, request_append_entries()]
2022-04-28T04:15:15.161_567+00:00 [82087] [WARN] recovered from long pause to peer 3, 34 warnings, 622 ms, 1 times	[handle_append_entries.cxx:242, request_append_entries()]
2022-04-28T04:15:19.156_325+00:00 [82082] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:21.156_405+00:00 [82105] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:21.156_496+00:00 [82105] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:21.156_784+00:00 [82081] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:22.156_325+00:00 [82100] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:22.156_346+00:00 [82100] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:22.156_534+00:00 [82093] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:24.156_434+00:00 [82092] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:24.156_472+00:00 [82092] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:15:30.156_283+00:00 [82091] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:10.201_771+00:00 [82224] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:16:10.203_160+00:00 [82224] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:16:10.203_191+00:00 [82224] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:16:10.203_196+00:00 [82224] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:16:10.203_224+00:00 [82224] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:16:10.203_229+00:00 [82224] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:16:10.203_232+00:00 [82224] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:16:10.203_261+00:00 [82224] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:16:10.203_412+00:00 [82260] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:16:11.313_489+00:00 [82231] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:16:11.313_503+00:00 [82231] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:16:11.313_520+00:00 [82231] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:16:11.313_534+00:00 [82231] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:16:11.313_542+00:00 [82231] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:16:11.313_546+00:00 [82231] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:16:11.313_567+00:00 [82231] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:16:11.313_623+00:00 [82259] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:16:11.313_632+00:00 [82259] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:16:11.313_643+00:00 [82259] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:16:11.504_179+00:00 [82224] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:16:11.504_592+00:00 [82231] [INFO] 0x5606734538b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:16:11.505_162+00:00 [82231] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:16:11.505_175+00:00 [82231] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:16:11.505_233+00:00 [82259] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:16:11.505_245+00:00 [82259] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:16:11.505_294+00:00 [82259] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:16:11.505_296+00:00 [82259] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:16:11.505_355+00:00 [82259] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:16:11.505_359+00:00 [82259] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:16:11.505_364+00:00 [82259] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:16:11.754_464+00:00 [82224] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:16:11.754_748+00:00 [82231] [INFO] 0x560673453c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:16:11.755_097+00:00 [82231] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:16:11.755_103+00:00 [82231] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:16:11.755_253+00:00 [82231] [INFO] 0x7efd100018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:16:11.755_405+00:00 [82231] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:16:11.755_607+00:00 [82259] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:16:11.755_622+00:00 [82259] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:16:11.755_681+00:00 [82259] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:16:11.755_683+00:00 [82259] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:16:11.755_725+00:00 [82259] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:16:11.755_729+00:00 [82259] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:16:11.755_736+00:00 [82259] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:16:12.256_045+00:00 [82229] [INFO] 0x5606734538b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:16:12.256_241+00:00 [82229] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:16:31.748_736+00:00 [82242] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.748_752+00:00 [82242] [INFO] session 1 got connection from 127.0.0.1:44444 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.749_042+00:00 [82248] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.749_050+00:00 [82248] [INFO] session 2 got connection from 127.0.0.1:44446 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.749_126+00:00 [82235] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.749_132+00:00 [82235] [INFO] session 3 got connection from 127.0.0.1:44448 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.749_801+00:00 [82235] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.749_808+00:00 [82235] [INFO] session 4 got connection from 127.0.0.1:44450 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.749_869+00:00 [82235] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.749_873+00:00 [82235] [INFO] session 5 got connection from 127.0.0.1:44452 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.749_968+00:00 [82238] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.749_973+00:00 [82238] [INFO] session 6 got connection from 127.0.0.1:44454 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.750_052+00:00 [82234] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.750_057+00:00 [82234] [INFO] session 7 got connection from 127.0.0.1:44456 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.750_112+00:00 [82232] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.750_117+00:00 [82232] [INFO] session 8 got connection from 127.0.0.1:44458 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.750_534+00:00 [82232] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.750_540+00:00 [82232] [INFO] session 9 got connection from 127.0.0.1:44460 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:31.750_592+00:00 [82232] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:16:31.750_597+00:00 [82232] [INFO] session 10 got connection from 127.0.0.1:44462 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:16:34.156_249+00:00 [82244] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:35.156_469+00:00 [82244] [WARN] skipped sending msg to 2 too long time, last msg sent 945 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:36.156_466+00:00 [82243] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:36.156_763+00:00 [82236] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:36.157_028+00:00 [82245] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:41.156_294+00:00 [82244] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:43.156_687+00:00 [82229] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:43.156_857+00:00 [82252] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:43.157_076+00:00 [82231] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:43.157_231+00:00 [82231] [WARN] skipped sending msg to 3 too long time, last msg sent 951 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:44.157_021+00:00 [82245] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:47.156_417+00:00 [82245] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:47.156_460+00:00 [82245] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:48.156_372+00:00 [82237] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:49.156_350+00:00 [82233] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:49.156_374+00:00 [82233] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:49.156_495+00:00 [82233] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:16:51.156_413+00:00 [82244] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:17:27.205_820+00:00 [82378] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:17:27.207_901+00:00 [82378] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:17:27.207_942+00:00 [82378] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:17:27.207_948+00:00 [82378] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:17:27.207_974+00:00 [82378] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:17:27.207_979+00:00 [82378] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:17:27.207_982+00:00 [82378] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:17:27.208_015+00:00 [82378] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:17:27.208_538+00:00 [82414] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:17:28.941_223+00:00 [82385] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:17:28.941_234+00:00 [82385] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:17:28.941_249+00:00 [82385] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:17:28.941_260+00:00 [82385] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:17:28.941_266+00:00 [82385] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:17:28.941_270+00:00 [82385] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:17:28.941_288+00:00 [82385] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:17:28.941_345+00:00 [82413] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:17:28.941_353+00:00 [82413] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:17:28.941_362+00:00 [82413] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:17:29.009_120+00:00 [82378] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:17:29.009_506+00:00 [82385] [INFO] 0x55aba52c98b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:17:29.009_831+00:00 [82385] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:17:29.009_840+00:00 [82385] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:17:29.009_894+00:00 [82413] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:17:29.009_905+00:00 [82413] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:17:29.009_953+00:00 [82413] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:17:29.009_956+00:00 [82413] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:17:29.010_001+00:00 [82413] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:17:29.010_005+00:00 [82413] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:17:29.010_011+00:00 [82413] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:17:29.259_387+00:00 [82378] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:17:29.259_652+00:00 [82385] [INFO] 0x55aba52c9c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:17:29.260_091+00:00 [82385] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:17:29.260_097+00:00 [82385] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:17:29.260_257+00:00 [82385] [INFO] 0x7fdde40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:17:29.260_430+00:00 [82385] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:17:29.260_620+00:00 [82413] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:17:29.260_633+00:00 [82413] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:17:29.260_686+00:00 [82413] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:17:29.260_689+00:00 [82413] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:17:29.260_727+00:00 [82413] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:17:29.260_730+00:00 [82413] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:17:29.260_736+00:00 [82413] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:17:29.760_993+00:00 [82412] [INFO] 0x55aba52c98b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:17:29.761_204+00:00 [82412] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:17:49.002_488+00:00 [82405] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.002_504+00:00 [82405] [INFO] session 1 got connection from 127.0.0.1:44464 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.002_602+00:00 [82410] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.002_607+00:00 [82410] [INFO] session 2 got connection from 127.0.0.1:44466 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.003_437+00:00 [82410] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.003_445+00:00 [82410] [INFO] session 3 got connection from 127.0.0.1:44468 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.003_499+00:00 [82410] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.003_504+00:00 [82410] [INFO] session 4 got connection from 127.0.0.1:44472 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.003_598+00:00 [82396] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.003_603+00:00 [82396] [INFO] session 5 got connection from 127.0.0.1:44474 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.003_689+00:00 [82407] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.003_693+00:00 [82407] [INFO] session 6 got connection from 127.0.0.1:44476 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.003_766+00:00 [82391] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.003_770+00:00 [82391] [INFO] session 7 got connection from 127.0.0.1:44478 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.004_139+00:00 [82382] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.004_145+00:00 [82382] [INFO] session 8 got connection from 127.0.0.1:44482 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.004_537+00:00 [82389] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.004_543+00:00 [82389] [INFO] session 9 got connection from 127.0.0.1:44484 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:49.004_638+00:00 [82404] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:17:49.004_642+00:00 [82404] [INFO] session 10 got connection from 127.0.0.1:44486 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:17:50.156_317+00:00 [82392] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:17:55.156_294+00:00 [82395] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:17:57.156_427+00:00 [82402] [WARN] skipped sending msg to 2 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:17:57.156_440+00:00 [82402] [WARN] skipped sending msg to 2 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:17:57.156_819+00:00 [82412] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:17:57.156_848+00:00 [82394] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:00.156_305+00:00 [82410] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:02.156_553+00:00 [82406] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:02.156_622+00:00 [82406] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:05.156_264+00:00 [82402] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:05.156_287+00:00 [82402] [WARN] skipped sending msg to 2 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:05.156_430+00:00 [82395] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:06.156_326+00:00 [82409] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:06.156_526+00:00 [82398] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:06.156_791+00:00 [82412] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:18:44.199_239+00:00 [82534] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:18:44.200_599+00:00 [82534] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:18:44.200_630+00:00 [82534] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:18:44.200_634+00:00 [82534] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:18:44.200_657+00:00 [82534] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:18:44.200_661+00:00 [82534] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:18:44.200_663+00:00 [82534] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:18:44.200_691+00:00 [82534] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:18:44.200_841+00:00 [82570] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:18:46.124_911+00:00 [82541] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:18:46.124_924+00:00 [82541] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:18:46.124_941+00:00 [82541] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:18:46.124_952+00:00 [82541] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:18:46.124_960+00:00 [82541] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:18:46.124_963+00:00 [82541] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:18:46.124_983+00:00 [82541] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:18:46.125_039+00:00 [82569] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:18:46.125_048+00:00 [82569] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:18:46.125_059+00:00 [82569] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:18:46.252_008+00:00 [82534] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:18:46.252_381+00:00 [82541] [INFO] 0x55600abc88b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:18:46.252_701+00:00 [82541] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:18:46.252_708+00:00 [82541] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:18:46.252_755+00:00 [82569] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:18:46.252_765+00:00 [82569] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:18:46.252_808+00:00 [82569] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:18:46.252_810+00:00 [82569] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:18:46.252_849+00:00 [82569] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:18:46.252_852+00:00 [82569] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:18:46.252_858+00:00 [82569] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:18:46.502_253+00:00 [82534] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:18:46.502_476+00:00 [82541] [INFO] 0x55600abc8c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:18:46.502_901+00:00 [82541] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:18:46.502_906+00:00 [82541] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:18:46.503_050+00:00 [82541] [INFO] 0x7f55cc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:18:46.503_227+00:00 [82541] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:18:46.503_437+00:00 [82569] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:18:46.503_452+00:00 [82569] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:18:46.503_505+00:00 [82569] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:18:46.503_508+00:00 [82569] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:18:46.503_548+00:00 [82569] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:18:46.503_552+00:00 [82569] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:18:46.503_563+00:00 [82569] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:18:47.003_860+00:00 [82539] [INFO] 0x55600abc88b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:18:47.004_107+00:00 [82539] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:19:05.745_439+00:00 [82559] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.745_455+00:00 [82559] [INFO] session 1 got connection from 127.0.0.1:44488 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.745_737+00:00 [82540] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.745_744+00:00 [82540] [INFO] session 2 got connection from 127.0.0.1:44492 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.745_825+00:00 [82558] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.745_830+00:00 [82558] [INFO] session 3 got connection from 127.0.0.1:44494 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.746_248+00:00 [82558] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.746_254+00:00 [82558] [INFO] session 4 got connection from 127.0.0.1:44498 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.746_302+00:00 [82558] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.746_306+00:00 [82558] [INFO] session 5 got connection from 127.0.0.1:44500 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.746_381+00:00 [82555] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.746_386+00:00 [82555] [INFO] session 6 got connection from 127.0.0.1:44502 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.746_566+00:00 [82555] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.746_571+00:00 [82555] [INFO] session 7 got connection from 127.0.0.1:44504 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.746_615+00:00 [82555] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.746_618+00:00 [82555] [INFO] session 8 got connection from 127.0.0.1:44506 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.746_706+00:00 [82549] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.746_710+00:00 [82549] [INFO] session 9 got connection from 127.0.0.1:44508 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:05.746_784+00:00 [82547] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:19:05.746_788+00:00 [82547] [INFO] session 10 got connection from 127.0.0.1:44510 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:19:07.156_481+00:00 [82537] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:07.156_612+00:00 [82566] [WARN] skipped sending msg to 3 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:11.156_218+00:00 [82542] [WARN] skipped sending msg to 3 too long time, last msg sent 947 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:12.156_291+00:00 [82545] [WARN] skipped sending msg to 3 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:13.156_378+00:00 [82546] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:14.156_402+00:00 [82547] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:14.156_426+00:00 [82547] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:15.156_479+00:00 [82562] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:15.156_685+00:00 [82560] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:15.156_796+00:00 [82560] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:17.156_411+00:00 [82568] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:22.156_417+00:00 [82539] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:19:25.156_854+00:00 [82544] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:01.208_546+00:00 [82691] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-28T04:20:01.209_917+00:00 [82691] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-28T04:20:01.209_948+00:00 [82691] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-28T04:20:01.209_956+00:00 [82691] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-28T04:20:01.209_977+00:00 [82691] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-28T04:20:01.209_982+00:00 [82691] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-28T04:20:01.209_984+00:00 [82691] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-28T04:20:01.210_016+00:00 [82691] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-28T04:20:01.210_160+00:00 [82727] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-28T04:20:02.521_207+00:00 [82698] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-28T04:20:02.521_218+00:00 [82698] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-28T04:20:02.521_234+00:00 [82698] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-28T04:20:02.521_246+00:00 [82698] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-28T04:20:02.521_253+00:00 [82698] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-28T04:20:02.521_257+00:00 [82698] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-28T04:20:02.521_278+00:00 [82698] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-28T04:20:02.521_334+00:00 [82726] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:20:02.521_342+00:00 [82726] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:20:02.521_354+00:00 [82726] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:20:02.761_528+00:00 [82691] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:20:02.761_919+00:00 [82698] [INFO] 0x5608307358b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:20:02.762_256+00:00 [82698] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:20:02.762_267+00:00 [82698] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:20:02.762_322+00:00 [82726] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:20:02.762_334+00:00 [82726] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:20:02.762_382+00:00 [82726] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:20:02.762_385+00:00 [82726] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:20:02.762_436+00:00 [82726] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:20:02.762_440+00:00 [82726] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:20:02.762_445+00:00 [82726] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:20:03.011_808+00:00 [82691] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-28T04:20:03.012_037+00:00 [82698] [INFO] 0x560830735c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:20:03.012_476+00:00 [82698] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-28T04:20:03.012_481+00:00 [82698] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-28T04:20:03.012_629+00:00 [82698] [INFO] 0x7f967c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:20:03.012_817+00:00 [82698] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:20:03.013_034+00:00 [82726] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-28T04:20:03.013_050+00:00 [82726] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-28T04:20:03.013_103+00:00 [82726] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-28T04:20:03.013_106+00:00 [82726] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-28T04:20:03.013_145+00:00 [82726] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-28T04:20:03.013_150+00:00 [82726] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-28T04:20:03.013_157+00:00 [82726] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-28T04:20:03.513_486+00:00 [82696] [INFO] 0x5608307358b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-28T04:20:03.513_714+00:00 [82696] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-28T04:20:23.005_258+00:00 [82713] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.005_274+00:00 [82713] [INFO] session 1 got connection from 127.0.0.1:44512 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.005_364+00:00 [82713] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.005_370+00:00 [82713] [INFO] session 2 got connection from 127.0.0.1:44514 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.005_668+00:00 [82697] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.005_675+00:00 [82697] [INFO] session 3 got connection from 127.0.0.1:44516 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.005_737+00:00 [82697] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.005_741+00:00 [82697] [INFO] session 4 got connection from 127.0.0.1:44518 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.005_931+00:00 [82710] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.005_937+00:00 [82710] [INFO] session 5 got connection from 127.0.0.1:44520 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.006_072+00:00 [82710] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.006_077+00:00 [82710] [INFO] session 6 got connection from 127.0.0.1:44522 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.006_139+00:00 [82710] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.006_143+00:00 [82710] [INFO] session 7 got connection from 127.0.0.1:44524 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.006_268+00:00 [82704] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.006_273+00:00 [82704] [INFO] session 8 got connection from 127.0.0.1:44526 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.006_367+00:00 [82714] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.006_372+00:00 [82714] [INFO] session 9 got connection from 127.0.0.1:44528 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:23.006_455+00:00 [82716] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-28T04:20:23.006_460+00:00 [82716] [INFO] session 10 got connection from 127.0.0.1:44530 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-28T04:20:27.156_438+00:00 [82724] [WARN] skipped sending msg to 2 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:27.156_475+00:00 [82724] [WARN] skipped sending msg to 2 too long time, last msg sent 946 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:31.156_545+00:00 [82703] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:31.156_777+00:00 [82697] [WARN] skipped sending msg to 2 too long time, last msg sent 950 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:33.156_245+00:00 [82714] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:33.156_432+00:00 [82714] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:36.156_284+00:00 [82704] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:37.156_467+00:00 [82707] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:37.156_511+00:00 [82707] [WARN] skipped sending msg to 2 too long time, last msg sent 948 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:37.156_821+00:00 [82723] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:37.156_900+00:00 [82700] [WARN] skipped sending msg to 2 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:38.156_346+00:00 [82712] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
2022-04-28T04:20:39.156_310+00:00 [82696] [WARN] skipped sending msg to 3 too long time, last msg sent 949 ms ago	[handle_append_entries.cxx:296, request_append_entries()]
