2022-04-29T05:25:35.010_465+00:00 [48144] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:25:35.011_837+00:00 [48144] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:25:35.011_874+00:00 [48144] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:25:35.011_879+00:00 [48144] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:25:35.011_906+00:00 [48144] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:25:35.011_911+00:00 [48144] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:25:35.011_913+00:00 [48144] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:25:35.011_947+00:00 [48144] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:25:35.012_092+00:00 [48180] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:25:36.451_154+00:00 [48151] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:25:36.451_166+00:00 [48151] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:25:36.451_183+00:00 [48151] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:25:36.451_201+00:00 [48151] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:25:36.451_209+00:00 [48151] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:25:36.451_213+00:00 [48151] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:25:36.451_232+00:00 [48151] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:25:36.451_287+00:00 [48179] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:25:36.451_295+00:00 [48179] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:25:36.451_306+00:00 [48179] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:25:36.562_894+00:00 [48144] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:25:36.563_347+00:00 [48151] [INFO] 0x55db140198b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:25:36.563_661+00:00 [48151] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:25:36.563_669+00:00 [48151] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:25:36.563_722+00:00 [48179] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:25:36.563_733+00:00 [48179] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:25:36.563_781+00:00 [48179] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:25:36.563_784+00:00 [48179] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:25:36.563_830+00:00 [48179] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:25:36.563_834+00:00 [48179] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:25:36.563_840+00:00 [48179] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:25:36.813_151+00:00 [48144] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:25:36.813_367+00:00 [48151] [INFO] 0x55db14019c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:25:36.813_759+00:00 [48151] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:25:36.813_764+00:00 [48151] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:25:36.813_911+00:00 [48151] [INFO] 0x7f056c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:25:36.814_107+00:00 [48151] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:25:36.814_335+00:00 [48179] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:25:36.814_351+00:00 [48179] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:25:36.814_407+00:00 [48179] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:25:36.814_410+00:00 [48179] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:25:36.814_450+00:00 [48179] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:25:36.814_454+00:00 [48179] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:25:36.814_461+00:00 [48179] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:25:37.314_795+00:00 [48149] [INFO] 0x55db140198b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:25:37.315_053+00:00 [48149] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:25:56.311_916+00:00 [48178] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:25:56.311_930+00:00 [48178] [INFO] session 1 got connection from 127.0.0.1:49228 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:25:56.312_018+00:00 [48178] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:25:56.312_023+00:00 [48178] [INFO] session 2 got connection from 127.0.0.1:49230 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:26:51.396_780+00:00 [48797] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:26:51.398_119+00:00 [48797] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:26:51.398_157+00:00 [48797] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:26:51.398_161+00:00 [48797] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:26:51.398_183+00:00 [48797] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:26:51.398_187+00:00 [48797] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:26:51.398_190+00:00 [48797] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:26:51.398_220+00:00 [48797] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:26:51.398_361+00:00 [48833] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:26:53.088_454+00:00 [48804] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:26:53.088_466+00:00 [48804] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:26:53.088_483+00:00 [48804] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:26:53.088_496+00:00 [48804] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:26:53.088_503+00:00 [48804] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:26:53.088_508+00:00 [48804] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:26:53.088_528+00:00 [48804] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:26:53.088_581+00:00 [48832] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:26:53.088_590+00:00 [48832] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:26:53.088_599+00:00 [48832] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:26:53.199_287+00:00 [48797] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:26:53.199_626+00:00 [48804] [INFO] 0x55a24c9448b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:26:53.199_933+00:00 [48804] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:26:53.199_941+00:00 [48804] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:26:53.199_993+00:00 [48832] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:26:53.200_004+00:00 [48832] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:26:53.200_050+00:00 [48832] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:26:53.200_053+00:00 [48832] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:26:53.200_097+00:00 [48832] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:26:53.200_100+00:00 [48832] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:26:53.200_106+00:00 [48832] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:26:53.449_527+00:00 [48797] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:26:53.449_708+00:00 [48804] [INFO] 0x55a24c944c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:26:53.450_067+00:00 [48804] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:26:53.450_072+00:00 [48804] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:26:53.450_214+00:00 [48804] [INFO] 0x7fe7e80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:26:53.450_388+00:00 [48804] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:26:53.450_598+00:00 [48832] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:26:53.450_613+00:00 [48832] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:26:53.450_685+00:00 [48832] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:26:53.450_689+00:00 [48832] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:26:53.450_726+00:00 [48832] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:26:53.450_730+00:00 [48832] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:26:53.450_736+00:00 [48832] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:26:53.951_024+00:00 [48802] [INFO] 0x55a24c9448b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:26:53.951_287+00:00 [48802] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:27:12.691_932+00:00 [48831] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:27:12.691_949+00:00 [48831] [INFO] session 1 got connection from 127.0.0.1:49232 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:27:12.692_035+00:00 [48831] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:27:12.692_040+00:00 [48831] [INFO] session 2 got connection from 127.0.0.1:49234 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:27:12.692_201+00:00 [48809] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:27:12.692_207+00:00 [48809] [INFO] session 3 got connection from 127.0.0.1:49236 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:27:12.692_311+00:00 [48812] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:27:12.692_317+00:00 [48812] [INFO] session 4 got connection from 127.0.0.1:49238 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:27:26.662_062+00:00 [48832] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:27:26.662_071+00:00 [48832] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:27:26.662_089+00:00 [48832] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:27:26.662_093+00:00 [48832] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:28:07.772_094+00:00 [49404] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:28:07.773_499+00:00 [49404] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:28:07.773_531+00:00 [49404] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:28:07.773_537+00:00 [49404] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:28:07.773_561+00:00 [49404] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:28:07.773_566+00:00 [49404] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:28:07.773_569+00:00 [49404] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:28:07.773_609+00:00 [49404] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:28:07.773_761+00:00 [49440] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:28:09.361_808+00:00 [49411] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:28:09.361_820+00:00 [49411] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:28:09.361_835+00:00 [49411] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:28:09.361_846+00:00 [49411] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:28:09.361_853+00:00 [49411] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:28:09.361_857+00:00 [49411] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:28:09.361_876+00:00 [49411] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:28:09.361_929+00:00 [49439] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:28:09.361_937+00:00 [49439] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:28:09.361_946+00:00 [49439] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:28:09.574_733+00:00 [49404] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:28:09.575_120+00:00 [49411] [INFO] 0x55ae1853e8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:28:09.575_451+00:00 [49411] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:28:09.575_459+00:00 [49411] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:28:09.575_510+00:00 [49439] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:28:09.575_522+00:00 [49439] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:28:09.575_568+00:00 [49439] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:28:09.575_570+00:00 [49439] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:28:09.575_614+00:00 [49439] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:28:09.575_618+00:00 [49439] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:28:09.575_624+00:00 [49439] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:28:09.824_980+00:00 [49404] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:28:09.825_164+00:00 [49411] [INFO] 0x55ae1853ec60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:28:09.825_509+00:00 [49411] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:28:09.825_514+00:00 [49411] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:28:09.825_648+00:00 [49411] [INFO] 0x7f62040018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:28:09.825_811+00:00 [49411] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:28:09.825_994+00:00 [49439] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:28:09.826_007+00:00 [49439] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:28:09.826_051+00:00 [49439] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:28:09.826_053+00:00 [49439] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:28:09.826_086+00:00 [49439] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:28:09.826_090+00:00 [49439] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:28:09.826_096+00:00 [49439] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:28:10.326_404+00:00 [49409] [INFO] 0x55ae1853e8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:28:10.326_648+00:00 [49409] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:28:29.822_014+00:00 [49423] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:28:29.822_030+00:00 [49423] [INFO] session 1 got connection from 127.0.0.1:49242 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:28:29.822_116+00:00 [49423] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:28:29.822_121+00:00 [49423] [INFO] session 2 got connection from 127.0.0.1:49244 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:28:29.822_364+00:00 [49423] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:28:29.822_370+00:00 [49423] [INFO] session 3 got connection from 127.0.0.1:49246 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:28:29.822_453+00:00 [49438] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:28:29.822_458+00:00 [49438] [INFO] session 4 got connection from 127.0.0.1:49248 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:28:29.822_544+00:00 [49407] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:28:29.822_549+00:00 [49407] [INFO] session 5 got connection from 127.0.0.1:49250 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:28:29.822_743+00:00 [49433] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:28:29.822_749+00:00 [49433] [INFO] session 6 got connection from 127.0.0.1:49252 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:28:33.644_001+00:00 [49432] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:28:33.644_012+00:00 [49432] [INFO] session 7 got connection from 127.0.0.1:49254 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:28:41.929_577+00:00 [49439] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:28:41.929_587+00:00 [49439] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:28:41.929_610+00:00 [49439] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:28:41.929_613+00:00 [49439] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:29:24.903_893+00:00 [49945] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:29:24.905_397+00:00 [49945] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:29:24.905_432+00:00 [49945] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:29:24.905_437+00:00 [49945] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:29:24.905_470+00:00 [49945] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:29:24.905_475+00:00 [49945] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:29:24.905_478+00:00 [49945] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:29:24.905_513+00:00 [49945] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:29:24.905_690+00:00 [49981] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:29:26.217_840+00:00 [49952] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:29:26.217_854+00:00 [49952] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:29:26.217_869+00:00 [49952] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:29:26.217_881+00:00 [49952] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:29:26.217_888+00:00 [49952] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:29:26.217_891+00:00 [49952] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:29:26.217_911+00:00 [49952] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:29:26.217_969+00:00 [49980] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:29:26.217_977+00:00 [49980] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:29:26.217_987+00:00 [49980] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:29:26.456_669+00:00 [49945] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:29:26.457_133+00:00 [49952] [INFO] 0x556ded4d78b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:29:26.457_565+00:00 [49952] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:29:26.457_575+00:00 [49952] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:29:26.457_631+00:00 [49980] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:29:26.457_642+00:00 [49980] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:29:26.457_693+00:00 [49980] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:29:26.457_696+00:00 [49980] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:29:26.457_743+00:00 [49980] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:29:26.457_747+00:00 [49980] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:29:26.457_753+00:00 [49980] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:29:26.706_981+00:00 [49945] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:29:26.707_220+00:00 [49952] [INFO] 0x556ded4d7c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:29:26.707_751+00:00 [49952] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:29:26.707_757+00:00 [49952] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:29:26.707_912+00:00 [49952] [INFO] 0x7f5c540018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:29:26.708_106+00:00 [49952] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:29:26.708_310+00:00 [49980] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:29:26.708_323+00:00 [49980] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:29:26.708_373+00:00 [49980] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:29:26.708_375+00:00 [49980] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:29:26.708_415+00:00 [49980] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:29:26.708_419+00:00 [49980] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:29:26.708_426+00:00 [49980] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:29:27.208_803+00:00 [49950] [INFO] 0x556ded4d78b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:29:27.209_223+00:00 [49950] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:30:58.932_701+00:00 [50625] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:30:58.934_056+00:00 [50625] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:30:58.934_095+00:00 [50625] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:30:58.934_099+00:00 [50625] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:30:58.934_122+00:00 [50625] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:30:58.934_127+00:00 [50625] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:30:58.934_130+00:00 [50625] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:30:58.934_161+00:00 [50625] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:30:58.934_310+00:00 [50661] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:31:00.285_361+00:00 [50632] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:31:00.285_374+00:00 [50632] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:31:00.285_390+00:00 [50632] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:31:00.285_402+00:00 [50632] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:31:00.285_409+00:00 [50632] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:31:00.285_412+00:00 [50632] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:31:00.285_430+00:00 [50632] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:31:00.285_487+00:00 [50660] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:31:00.285_494+00:00 [50660] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:31:00.285_504+00:00 [50660] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:31:00.485_134+00:00 [50625] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:31:00.485_515+00:00 [50632] [INFO] 0x55841bc618b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:31:00.485_835+00:00 [50632] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:31:00.485_843+00:00 [50632] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:31:00.485_895+00:00 [50660] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:31:00.485_907+00:00 [50660] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:31:00.485_951+00:00 [50660] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:31:00.485_953+00:00 [50660] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:31:00.485_998+00:00 [50660] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:31:00.486_001+00:00 [50660] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:31:00.486_007+00:00 [50660] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:31:00.735_341+00:00 [50625] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:31:00.735_497+00:00 [50632] [INFO] 0x55841bc61c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:31:00.735_862+00:00 [50632] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:31:00.735_866+00:00 [50632] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:31:00.735_984+00:00 [50632] [INFO] 0x7f2a640018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:31:00.736_155+00:00 [50632] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:31:00.736_342+00:00 [50660] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:31:00.736_354+00:00 [50660] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:31:00.736_396+00:00 [50660] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:31:00.736_398+00:00 [50660] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:31:00.736_432+00:00 [50660] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:31:00.736_435+00:00 [50660] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:31:00.736_441+00:00 [50660] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:31:01.236_701+00:00 [50630] [INFO] 0x55841bc618b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:31:01.236_922+00:00 [50630] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:31:20.986_940+00:00 [50658] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:31:20.986_954+00:00 [50658] [INFO] session 1 got connection from 127.0.0.1:49256 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:31:20.987_195+00:00 [50658] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:31:20.987_202+00:00 [50658] [INFO] session 2 got connection from 127.0.0.1:49258 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:32:16.061_895+00:00 [50992] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:32:16.063_953+00:00 [50992] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:32:16.063_983+00:00 [50992] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:32:16.063_989+00:00 [50992] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:32:16.064_013+00:00 [50992] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:32:16.064_017+00:00 [50992] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:32:16.064_021+00:00 [50992] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:32:16.064_049+00:00 [50992] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:32:16.064_546+00:00 [51028] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:32:17.411_278+00:00 [50999] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:32:17.411_291+00:00 [50999] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:32:17.411_307+00:00 [50999] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:32:17.411_318+00:00 [50999] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:32:17.411_324+00:00 [50999] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:32:17.411_328+00:00 [50999] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:32:17.411_346+00:00 [50999] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:32:17.411_405+00:00 [51027] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:32:17.411_418+00:00 [51027] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:32:17.411_428+00:00 [51027] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:32:17.615_187+00:00 [50992] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:32:17.615_650+00:00 [50999] [INFO] 0x556df94cb8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:32:17.616_138+00:00 [50999] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:32:17.616_146+00:00 [50999] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:32:17.616_199+00:00 [51027] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:32:17.616_210+00:00 [51027] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:32:17.616_256+00:00 [51027] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:32:17.616_258+00:00 [51027] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:32:17.616_304+00:00 [51027] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:32:17.616_308+00:00 [51027] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:32:17.616_314+00:00 [51027] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:32:17.865_459+00:00 [50992] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:32:17.865_679+00:00 [50999] [INFO] 0x556df94cbc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:32:17.866_046+00:00 [50999] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:32:17.866_051+00:00 [50999] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:32:17.866_192+00:00 [50999] [INFO] 0x7ff62c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:32:17.866_375+00:00 [50999] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:32:17.866_569+00:00 [51027] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:32:17.866_581+00:00 [51027] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:32:17.866_625+00:00 [51027] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:32:17.866_627+00:00 [51027] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:32:17.866_678+00:00 [51027] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:32:17.866_683+00:00 [51027] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:32:17.866_692+00:00 [51027] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:32:18.367_011+00:00 [51026] [INFO] 0x556df94cb8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:32:18.367_317+00:00 [51026] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:32:37.611_821+00:00 [51018] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:32:37.611_837+00:00 [51018] [INFO] session 1 got connection from 127.0.0.1:49260 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:32:37.611_920+00:00 [51018] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:32:37.611_924+00:00 [51018] [INFO] session 2 got connection from 127.0.0.1:49262 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:32:37.612_014+00:00 [51023] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:32:37.612_019+00:00 [51023] [INFO] session 3 got connection from 127.0.0.1:49264 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:32:37.612_367+00:00 [51023] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:32:37.612_373+00:00 [51023] [INFO] session 4 got connection from 127.0.0.1:49266 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:32:51.443_807+00:00 [51027] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:32:51.443_815+00:00 [51027] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:32:51.443_838+00:00 [51027] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:32:51.443_842+00:00 [51027] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:33:32.685_233+00:00 [51350] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:33:32.686_590+00:00 [51350] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:33:32.686_625+00:00 [51350] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:33:32.686_631+00:00 [51350] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:33:32.686_653+00:00 [51350] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:33:32.686_657+00:00 [51350] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:33:32.686_675+00:00 [51350] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:33:32.686_705+00:00 [51350] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:33:32.686_857+00:00 [51386] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:33:34.120_997+00:00 [51357] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:33:34.121_009+00:00 [51357] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:33:34.121_023+00:00 [51357] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:33:34.121_034+00:00 [51357] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:33:34.121_041+00:00 [51357] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:33:34.121_045+00:00 [51357] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:33:34.121_063+00:00 [51357] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:33:34.121_121+00:00 [51385] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:33:34.121_129+00:00 [51385] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:33:34.121_138+00:00 [51385] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:33:34.237_843+00:00 [51350] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:33:34.238_284+00:00 [51357] [INFO] 0x55777abc58b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:33:34.238_608+00:00 [51357] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:33:34.238_616+00:00 [51357] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:33:34.238_687+00:00 [51385] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:33:34.238_699+00:00 [51385] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:33:34.238_752+00:00 [51385] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:33:34.238_754+00:00 [51385] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:33:34.238_797+00:00 [51385] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:33:34.238_800+00:00 [51385] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:33:34.238_806+00:00 [51385] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:33:34.488_080+00:00 [51350] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:33:34.488_285+00:00 [51357] [INFO] 0x55777abc5c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:33:34.488_615+00:00 [51357] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:33:34.488_623+00:00 [51357] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:33:34.488_761+00:00 [51357] [INFO] 0x7f96c00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:33:34.488_910+00:00 [51357] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:33:34.489_110+00:00 [51385] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:33:34.489_125+00:00 [51385] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:33:34.489_178+00:00 [51385] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:33:34.489_181+00:00 [51385] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:33:34.489_219+00:00 [51385] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:33:34.489_223+00:00 [51385] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:33:34.489_230+00:00 [51385] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:33:34.989_523+00:00 [51355] [INFO] 0x55777abc58b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:33:34.989_865+00:00 [51355] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:33:53.983_377+00:00 [51354] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:33:53.983_393+00:00 [51354] [INFO] session 1 got connection from 127.0.0.1:49268 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:33:53.983_478+00:00 [51354] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:33:53.983_483+00:00 [51354] [INFO] session 2 got connection from 127.0.0.1:49270 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:33:53.983_856+00:00 [51379] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:33:53.983_863+00:00 [51379] [INFO] session 3 got connection from 127.0.0.1:49274 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:33:53.983_923+00:00 [51379] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:33:53.983_927+00:00 [51379] [INFO] session 4 got connection from 127.0.0.1:49276 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:33:53.984_027+00:00 [51359] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:33:53.984_032+00:00 [51359] [INFO] session 5 got connection from 127.0.0.1:49278 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:33:53.984_522+00:00 [51380] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:33:53.984_529+00:00 [51380] [INFO] session 6 got connection from 127.0.0.1:49280 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:33:56.277_491+00:00 [51357] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:33:56.277_503+00:00 [51357] [INFO] session 7 got connection from 127.0.0.1:49282 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:34:06.224_214+00:00 [51385] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:34:06.224_223+00:00 [51385] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:34:06.224_245+00:00 [51385] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:34:06.224_248+00:00 [51385] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:34:49.066_026+00:00 [51716] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:34:49.067_408+00:00 [51716] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:34:49.067_440+00:00 [51716] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:34:49.067_448+00:00 [51716] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:34:49.067_471+00:00 [51716] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:34:49.067_475+00:00 [51716] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:34:49.067_477+00:00 [51716] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:34:49.067_505+00:00 [51716] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:34:49.067_656+00:00 [51752] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:34:50.979_744+00:00 [51723] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:34:50.979_756+00:00 [51723] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:34:50.979_772+00:00 [51723] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:34:50.979_784+00:00 [51723] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:34:50.979_792+00:00 [51723] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:34:50.979_796+00:00 [51723] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:34:50.979_815+00:00 [51723] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:34:50.979_873+00:00 [51751] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:34:50.979_882+00:00 [51751] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:34:50.979_893+00:00 [51751] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:34:51.118_707+00:00 [51716] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:34:51.119_189+00:00 [51723] [INFO] 0x55c304d978b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:34:51.119_535+00:00 [51723] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:34:51.119_543+00:00 [51723] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:34:51.119_591+00:00 [51751] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:34:51.119_601+00:00 [51751] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:34:51.119_643+00:00 [51751] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:34:51.119_645+00:00 [51751] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:34:51.119_686+00:00 [51751] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:34:51.119_689+00:00 [51751] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:34:51.119_694+00:00 [51751] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:34:51.368_989+00:00 [51716] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:34:51.369_217+00:00 [51723] [INFO] 0x55c304d97c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:34:51.369_791+00:00 [51723] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:34:51.369_796+00:00 [51723] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:34:51.369_948+00:00 [51723] [INFO] 0x7f6df80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:34:51.370_139+00:00 [51723] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:34:51.370_347+00:00 [51751] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:34:51.370_360+00:00 [51751] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:34:51.370_405+00:00 [51751] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:34:51.370_407+00:00 [51751] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:34:51.370_444+00:00 [51751] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:34:51.370_447+00:00 [51751] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:34:51.370_454+00:00 [51751] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:34:51.870_800+00:00 [51721] [INFO] 0x55c304d978b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:34:51.871_121+00:00 [51721] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:35:10.866_288+00:00 [51720] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.866_304+00:00 [51720] [INFO] session 1 got connection from 127.0.0.1:49284 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:10.866_390+00:00 [51720] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.866_394+00:00 [51720] [INFO] session 2 got connection from 127.0.0.1:49286 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:10.866_564+00:00 [51733] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.866_569+00:00 [51733] [INFO] session 3 got connection from 127.0.0.1:49288 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:10.866_826+00:00 [51733] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.866_832+00:00 [51733] [INFO] session 4 got connection from 127.0.0.1:49290 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:10.866_894+00:00 [51733] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.866_898+00:00 [51733] [INFO] session 5 got connection from 127.0.0.1:49292 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:10.866_982+00:00 [51727] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.866_987+00:00 [51727] [INFO] session 6 got connection from 127.0.0.1:49294 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:10.867_121+00:00 [51732] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.867_127+00:00 [51732] [INFO] session 7 got connection from 127.0.0.1:49296 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:10.867_282+00:00 [51740] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:10.867_287+00:00 [51740] [INFO] session 8 got connection from 127.0.0.1:49298 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:12.215_607+00:00 [51730] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:35:12.215_618+00:00 [51730] [INFO] session 9 got connection from 127.0.0.1:49300 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:35:22.711_647+00:00 [51751] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:35:22.711_657+00:00 [51751] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:35:22.711_676+00:00 [51751] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:35:22.711_679+00:00 [51751] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:36:05.954_488+00:00 [52153] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:36:05.955_880+00:00 [52153] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:36:05.955_912+00:00 [52153] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:36:05.955_916+00:00 [52153] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:36:05.955_940+00:00 [52153] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:36:05.955_945+00:00 [52153] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:36:05.955_948+00:00 [52153] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:36:05.955_980+00:00 [52153] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:36:05.956_133+00:00 [52189] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:36:07.413_276+00:00 [52160] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:36:07.413_289+00:00 [52160] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:36:07.413_305+00:00 [52160] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:36:07.413_316+00:00 [52160] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:36:07.413_324+00:00 [52160] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:36:07.413_328+00:00 [52160] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:36:07.413_346+00:00 [52160] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:36:07.413_405+00:00 [52188] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:36:07.413_414+00:00 [52188] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:36:07.413_424+00:00 [52188] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:36:07.507_023+00:00 [52153] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:36:07.507_466+00:00 [52160] [INFO] 0x5653feb718b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:36:07.507_791+00:00 [52160] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:36:07.507_800+00:00 [52160] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:36:07.507_855+00:00 [52188] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:36:07.507_867+00:00 [52188] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:36:07.507_916+00:00 [52188] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:36:07.507_919+00:00 [52188] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:36:07.507_965+00:00 [52188] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:36:07.507_969+00:00 [52188] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:36:07.507_975+00:00 [52188] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:36:07.757_303+00:00 [52153] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:36:07.757_532+00:00 [52160] [INFO] 0x5653feb71c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:36:07.758_016+00:00 [52160] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:36:07.758_020+00:00 [52160] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:36:07.758_163+00:00 [52160] [INFO] 0x7f60280018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:36:07.758_350+00:00 [52160] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:36:07.758_543+00:00 [52188] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:36:07.758_556+00:00 [52188] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:36:07.758_603+00:00 [52188] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:36:07.758_605+00:00 [52188] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:36:07.758_641+00:00 [52188] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:36:07.758_644+00:00 [52188] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:36:07.758_650+00:00 [52188] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:36:08.259_011+00:00 [52158] [INFO] 0x5653feb718b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:36:08.259_348+00:00 [52158] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:36:27.755_204+00:00 [52184] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.755_221+00:00 [52184] [INFO] session 1 got connection from 127.0.0.1:49302 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.755_307+00:00 [52184] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.755_312+00:00 [52184] [INFO] session 2 got connection from 127.0.0.1:49304 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.755_395+00:00 [52159] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.755_400+00:00 [52159] [INFO] session 3 got connection from 127.0.0.1:49308 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.755_766+00:00 [52159] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.755_773+00:00 [52159] [INFO] session 4 got connection from 127.0.0.1:49310 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.755_830+00:00 [52159] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.755_834+00:00 [52159] [INFO] session 5 got connection from 127.0.0.1:49312 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.755_920+00:00 [52169] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.755_925+00:00 [52169] [INFO] session 6 got connection from 127.0.0.1:49314 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.756_004+00:00 [52171] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.756_009+00:00 [52171] [INFO] session 7 got connection from 127.0.0.1:49316 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.756_356+00:00 [52171] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.756_362+00:00 [52171] [INFO] session 8 got connection from 127.0.0.1:49318 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.756_417+00:00 [52171] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.756_421+00:00 [52171] [INFO] session 9 got connection from 127.0.0.1:49320 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:27.756_691+00:00 [52179] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:36:27.756_698+00:00 [52179] [INFO] session 10 got connection from 127.0.0.1:49324 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:36:38.515_118+00:00 [52188] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:36:38.515_127+00:00 [52188] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:36:38.515_152+00:00 [52188] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:36:38.515_156+00:00 [52188] [INFO] create snapshot idx 100000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:37:22.845_707+00:00 [52579] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:37:22.847_107+00:00 [52579] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:37:22.847_138+00:00 [52579] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:37:22.847_142+00:00 [52579] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:37:22.847_165+00:00 [52579] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:37:22.847_169+00:00 [52579] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:37:22.847_171+00:00 [52579] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:37:22.847_200+00:00 [52579] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:37:22.847_343+00:00 [52615] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:37:24.428_419+00:00 [52586] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:37:24.428_431+00:00 [52586] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:37:24.428_446+00:00 [52586] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:37:24.428_465+00:00 [52586] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:37:24.428_471+00:00 [52586] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:37:24.428_475+00:00 [52586] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:37:24.428_493+00:00 [52586] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:37:24.428_546+00:00 [52614] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:37:24.428_554+00:00 [52614] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:37:24.428_563+00:00 [52614] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:37:24.648_286+00:00 [52579] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:37:24.648_785+00:00 [52586] [INFO] 0x556f903c18b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:37:24.649_242+00:00 [52586] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:37:24.649_249+00:00 [52586] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:37:24.649_312+00:00 [52614] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:37:24.649_322+00:00 [52614] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:37:24.649_377+00:00 [52614] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:37:24.649_379+00:00 [52614] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:37:24.649_419+00:00 [52614] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:37:24.649_423+00:00 [52614] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:37:24.649_427+00:00 [52614] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:37:24.898_530+00:00 [52579] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:37:24.898_751+00:00 [52586] [INFO] 0x556f903c1c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:37:24.899_105+00:00 [52586] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:37:24.899_110+00:00 [52586] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:37:24.899_251+00:00 [52586] [INFO] 0x7efe6c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:37:24.899_423+00:00 [52586] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:37:24.899_627+00:00 [52614] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:37:24.899_642+00:00 [52614] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:37:24.899_694+00:00 [52614] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:37:24.899_697+00:00 [52614] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:37:24.899_734+00:00 [52614] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:37:24.899_737+00:00 [52614] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:37:24.899_745+00:00 [52614] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:37:25.400_024+00:00 [52584] [INFO] 0x556f903c18b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:37:25.400_276+00:00 [52584] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:37:44.145_698+00:00 [52583] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.145_714+00:00 [52583] [INFO] session 1 got connection from 127.0.0.1:49326 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.145_797+00:00 [52583] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.145_803+00:00 [52583] [INFO] session 2 got connection from 127.0.0.1:49328 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.145_973+00:00 [52598] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.145_979+00:00 [52598] [INFO] session 3 got connection from 127.0.0.1:49330 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.146_225+00:00 [52598] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.146_231+00:00 [52598] [INFO] session 4 got connection from 127.0.0.1:49332 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.146_298+00:00 [52598] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.146_302+00:00 [52598] [INFO] session 5 got connection from 127.0.0.1:49334 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.146_388+00:00 [52612] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.146_393+00:00 [52612] [INFO] session 6 got connection from 127.0.0.1:49336 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.146_469+00:00 [52582] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.146_474+00:00 [52582] [INFO] session 7 got connection from 127.0.0.1:49340 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.146_548+00:00 [52584] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.146_553+00:00 [52584] [INFO] session 8 got connection from 127.0.0.1:49342 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.146_633+00:00 [52586] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.146_638+00:00 [52586] [INFO] session 9 got connection from 127.0.0.1:49346 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:44.146_735+00:00 [52603] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:37:44.146_740+00:00 [52603] [INFO] session 10 got connection from 127.0.0.1:49348 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:37:54.872_586+00:00 [52614] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:37:54.872_595+00:00 [52614] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:37:54.872_612+00:00 [52614] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:37:54.872_616+00:00 [52614] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:38:39.233_484+00:00 [53015] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:38:39.234_848+00:00 [53015] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:38:39.234_876+00:00 [53015] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:38:39.234_881+00:00 [53015] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:38:39.234_905+00:00 [53015] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:38:39.234_909+00:00 [53015] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:38:39.234_912+00:00 [53015] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:38:39.234_940+00:00 [53015] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:38:39.235_086+00:00 [53051] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:38:40.472_134+00:00 [53022] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:38:40.472_145+00:00 [53022] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:38:40.472_159+00:00 [53022] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:38:40.472_176+00:00 [53022] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:38:40.472_182+00:00 [53022] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:38:40.472_186+00:00 [53022] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:38:40.472_204+00:00 [53022] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:38:40.472_259+00:00 [53050] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:38:40.472_268+00:00 [53050] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:38:40.472_278+00:00 [53050] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:38:40.535_810+00:00 [53015] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:38:40.536_199+00:00 [53022] [INFO] 0x556e7aa928b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:38:40.536_625+00:00 [53022] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:38:40.536_633+00:00 [53022] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:38:40.536_685+00:00 [53050] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:38:40.536_696+00:00 [53050] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:38:40.536_741+00:00 [53050] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:38:40.536_743+00:00 [53050] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:38:40.536_786+00:00 [53050] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:38:40.536_789+00:00 [53050] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:38:40.536_795+00:00 [53050] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:38:40.786_065+00:00 [53015] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:38:40.786_281+00:00 [53022] [INFO] 0x556e7aa92c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:38:40.786_655+00:00 [53022] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:38:40.786_675+00:00 [53022] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:38:40.786_819+00:00 [53022] [INFO] 0x7f24c80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:38:40.786_991+00:00 [53022] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:38:40.787_191+00:00 [53050] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:38:40.787_205+00:00 [53050] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:38:40.787_253+00:00 [53050] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:38:40.787_255+00:00 [53050] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:38:40.787_290+00:00 [53050] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:38:40.787_293+00:00 [53050] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:38:40.787_299+00:00 [53050] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:38:41.287_597+00:00 [53020] [INFO] 0x556e7aa928b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:38:41.287_855+00:00 [53020] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:39:01.284_567+00:00 [53032] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.284_582+00:00 [53032] [INFO] session 1 got connection from 127.0.0.1:49350 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.284_664+00:00 [53032] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.284_669+00:00 [53032] [INFO] session 2 got connection from 127.0.0.1:49352 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.284_811+00:00 [53020] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.284_817+00:00 [53020] [INFO] session 3 got connection from 127.0.0.1:49354 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.284_873+00:00 [53020] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.284_877+00:00 [53020] [INFO] session 4 got connection from 127.0.0.1:49356 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.284_999+00:00 [53022] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.285_005+00:00 [53022] [INFO] session 5 got connection from 127.0.0.1:49358 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.285_058+00:00 [53022] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.285_062+00:00 [53022] [INFO] session 6 got connection from 127.0.0.1:49360 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.285_170+00:00 [53025] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.285_176+00:00 [53025] [INFO] session 7 got connection from 127.0.0.1:49362 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.285_226+00:00 [53025] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.285_230+00:00 [53025] [INFO] session 8 got connection from 127.0.0.1:49364 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.285_332+00:00 [53026] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.285_337+00:00 [53026] [INFO] session 9 got connection from 127.0.0.1:49366 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:01.285_390+00:00 [53026] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:39:01.285_394+00:00 [53026] [INFO] session 10 got connection from 127.0.0.1:49368 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:39:12.150_752+00:00 [53050] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:39:12.150_762+00:00 [53050] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:39:12.150_780+00:00 [53050] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:39:12.150_783+00:00 [53050] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:39:56.373_364+00:00 [53458] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:39:56.374_701+00:00 [53458] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:39:56.374_732+00:00 [53458] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:39:56.374_745+00:00 [53458] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:39:56.374_768+00:00 [53458] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:39:56.374_772+00:00 [53458] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:39:56.374_775+00:00 [53458] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:39:56.374_806+00:00 [53458] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:39:56.374_951+00:00 [53494] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:39:57.671_013+00:00 [53465] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:39:57.671_026+00:00 [53465] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:39:57.671_042+00:00 [53465] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:39:57.671_053+00:00 [53465] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:39:57.671_060+00:00 [53465] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:39:57.671_065+00:00 [53465] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:39:57.671_084+00:00 [53465] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:39:57.671_137+00:00 [53493] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:39:57.671_145+00:00 [53493] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:39:57.671_155+00:00 [53493] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:39:57.675_963+00:00 [53458] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:39:57.676_344+00:00 [53465] [INFO] 0x55a1dc7698b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:39:57.676_675+00:00 [53465] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:39:57.676_683+00:00 [53465] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:39:57.676_730+00:00 [53493] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:39:57.676_740+00:00 [53493] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:39:57.676_786+00:00 [53493] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:39:57.676_788+00:00 [53493] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:39:57.676_830+00:00 [53493] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:39:57.676_834+00:00 [53493] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:39:57.676_839+00:00 [53493] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:39:57.926_212+00:00 [53458] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:39:57.926_402+00:00 [53465] [INFO] 0x55a1dc769c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:39:57.926_891+00:00 [53465] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:39:57.926_896+00:00 [53465] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:39:57.927_049+00:00 [53465] [INFO] 0x7f39580018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:39:57.927_243+00:00 [53465] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:39:57.927_536+00:00 [53493] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:39:57.927_552+00:00 [53493] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:39:57.927_612+00:00 [53493] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:39:57.927_614+00:00 [53493] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:39:57.927_656+00:00 [53493] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:39:57.927_660+00:00 [53493] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:39:57.927_667+00:00 [53493] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:39:58.427_905+00:00 [53463] [INFO] 0x55a1dc7698b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:39:58.428_099+00:00 [53463] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:40:17.924_469+00:00 [53489] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.924_484+00:00 [53489] [INFO] session 1 got connection from 127.0.0.1:49370 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.924_573+00:00 [53489] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.924_578+00:00 [53489] [INFO] session 2 got connection from 127.0.0.1:49372 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.924_664+00:00 [53485] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.924_670+00:00 [53485] [INFO] session 3 got connection from 127.0.0.1:49374 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.925_023+00:00 [53485] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.925_030+00:00 [53485] [INFO] session 4 got connection from 127.0.0.1:49376 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.925_085+00:00 [53485] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.925_089+00:00 [53485] [INFO] session 5 got connection from 127.0.0.1:49378 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.925_186+00:00 [53483] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.925_191+00:00 [53483] [INFO] session 6 got connection from 127.0.0.1:49380 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.925_305+00:00 [53483] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.925_310+00:00 [53483] [INFO] session 7 got connection from 127.0.0.1:49382 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.925_369+00:00 [53483] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.925_372+00:00 [53483] [INFO] session 8 got connection from 127.0.0.1:49384 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.925_467+00:00 [53466] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.925_472+00:00 [53466] [INFO] session 9 got connection from 127.0.0.1:49386 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:17.925_556+00:00 [53472] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:40:17.925_562+00:00 [53472] [INFO] session 10 got connection from 127.0.0.1:49388 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:40:29.220_649+00:00 [53493] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:40:29.220_657+00:00 [53493] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:40:29.220_677+00:00 [53493] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:40:29.220_681+00:00 [53493] [INFO] create snapshot idx 100000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:41:13.014_798+00:00 [53890] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:41:13.016_179+00:00 [53890] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:41:13.016_209+00:00 [53890] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:41:13.016_215+00:00 [53890] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:41:13.016_238+00:00 [53890] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:41:13.016_242+00:00 [53890] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:41:13.016_245+00:00 [53890] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:41:13.016_278+00:00 [53890] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:41:13.016_419+00:00 [53926] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:41:14.753_633+00:00 [53897] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:41:14.753_657+00:00 [53897] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:41:14.753_693+00:00 [53897] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:41:14.753_731+00:00 [53897] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:41:14.753_746+00:00 [53897] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:41:14.753_757+00:00 [53897] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:41:14.753_804+00:00 [53897] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:41:14.753_936+00:00 [53925] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:41:14.753_962+00:00 [53925] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:41:14.753_988+00:00 [53925] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:41:14.817_213+00:00 [53890] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:41:14.817_557+00:00 [53897] [INFO] 0x5579656358b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:41:14.817_946+00:00 [53897] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:41:14.817_954+00:00 [53897] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:41:14.818_003+00:00 [53925] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:41:14.818_014+00:00 [53925] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:41:14.818_059+00:00 [53925] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:41:14.818_061+00:00 [53925] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:41:14.818_098+00:00 [53925] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:41:14.818_101+00:00 [53925] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:41:14.818_106+00:00 [53925] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:41:15.067_448+00:00 [53890] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:41:15.067_671+00:00 [53897] [INFO] 0x557965635c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:41:15.068_068+00:00 [53897] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:41:15.068_073+00:00 [53897] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:41:15.068_218+00:00 [53897] [INFO] 0x7fdddc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:41:15.068_388+00:00 [53897] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:41:15.068_597+00:00 [53925] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:41:15.068_612+00:00 [53925] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:41:15.068_666+00:00 [53925] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:41:15.068_669+00:00 [53925] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:41:15.068_709+00:00 [53925] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:41:15.068_713+00:00 [53925] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:41:15.068_720+00:00 [53925] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:41:15.568_938+00:00 [53895] [INFO] 0x5579656358b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:41:15.569_170+00:00 [53895] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:41:34.313_622+00:00 [53894] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.313_637+00:00 [53894] [INFO] session 1 got connection from 127.0.0.1:49390 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.313_728+00:00 [53894] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.313_733+00:00 [53894] [INFO] session 2 got connection from 127.0.0.1:49392 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.314_027+00:00 [53911] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.314_034+00:00 [53911] [INFO] session 3 got connection from 127.0.0.1:49394 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.314_102+00:00 [53908] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.314_107+00:00 [53908] [INFO] session 4 got connection from 127.0.0.1:49396 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.315_225+00:00 [53908] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.315_237+00:00 [53908] [INFO] session 5 got connection from 127.0.0.1:49398 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.315_298+00:00 [53908] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.315_303+00:00 [53908] [INFO] session 6 got connection from 127.0.0.1:49400 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.315_394+00:00 [53901] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.315_399+00:00 [53901] [INFO] session 7 got connection from 127.0.0.1:49402 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.315_484+00:00 [53907] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.315_489+00:00 [53907] [INFO] session 8 got connection from 127.0.0.1:49404 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.315_564+00:00 [53913] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.315_570+00:00 [53913] [INFO] session 9 got connection from 127.0.0.1:49406 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:34.316_296+00:00 [53913] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:41:34.316_302+00:00 [53913] [INFO] session 10 got connection from 127.0.0.1:49408 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:41:45.850_587+00:00 [53925] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:41:45.850_595+00:00 [53925] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:41:45.850_612+00:00 [53925] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:41:45.850_616+00:00 [53925] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:42:29.397_165+00:00 [54341] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:42:29.398_520+00:00 [54341] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:42:29.398_550+00:00 [54341] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:42:29.398_556+00:00 [54341] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:42:29.398_580+00:00 [54341] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:42:29.398_584+00:00 [54341] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:42:29.398_586+00:00 [54341] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:42:29.398_615+00:00 [54341] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:42:29.398_787+00:00 [54377] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:42:30.544_806+00:00 [54348] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:42:30.544_817+00:00 [54348] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:42:30.544_833+00:00 [54348] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:42:30.544_849+00:00 [54348] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:42:30.544_855+00:00 [54348] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:42:30.544_859+00:00 [54348] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:42:30.544_878+00:00 [54348] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:42:30.544_928+00:00 [54376] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:42:30.544_936+00:00 [54376] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:42:30.544_945+00:00 [54376] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:42:30.699_386+00:00 [54341] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:42:30.699_715+00:00 [54348] [INFO] 0x561d598038b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:42:30.700_014+00:00 [54348] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:42:30.700_026+00:00 [54348] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:42:30.700_078+00:00 [54376] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:42:30.700_089+00:00 [54376] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:42:30.700_136+00:00 [54376] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:42:30.700_139+00:00 [54376] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:42:30.700_181+00:00 [54376] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:42:30.700_184+00:00 [54376] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:42:30.700_190+00:00 [54376] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:42:30.949_829+00:00 [54341] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:42:30.950_263+00:00 [54348] [INFO] 0x561d59803c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:42:30.950_936+00:00 [54348] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:42:30.950_942+00:00 [54348] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:42:30.951_100+00:00 [54348] [INFO] 0x7f9fd00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:42:30.951_269+00:00 [54348] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:42:30.951_463+00:00 [54376] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:42:30.951_474+00:00 [54376] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:42:30.951_519+00:00 [54376] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:42:30.951_521+00:00 [54376] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:42:30.951_555+00:00 [54376] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:42:30.951_558+00:00 [54376] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:42:30.951_564+00:00 [54376] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:42:31.451_801+00:00 [54346] [INFO] 0x561d598038b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:42:31.451_987+00:00 [54346] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:42:51.197_499+00:00 [54374] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.197_515+00:00 [54374] [INFO] session 1 got connection from 127.0.0.1:49410 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.197_740+00:00 [54374] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.197_747+00:00 [54374] [INFO] session 2 got connection from 127.0.0.1:49412 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.197_827+00:00 [54374] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.197_831+00:00 [54374] [INFO] session 3 got connection from 127.0.0.1:49414 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.198_026+00:00 [54368] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.198_031+00:00 [54368] [INFO] session 4 got connection from 127.0.0.1:49416 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.198_094+00:00 [54368] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.198_098+00:00 [54368] [INFO] session 5 got connection from 127.0.0.1:49420 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.198_260+00:00 [54358] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.198_265+00:00 [54358] [INFO] session 6 got connection from 127.0.0.1:49422 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.198_319+00:00 [54358] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.198_323+00:00 [54358] [INFO] session 7 got connection from 127.0.0.1:49424 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.198_403+00:00 [54353] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.198_407+00:00 [54353] [INFO] session 8 got connection from 127.0.0.1:49426 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.198_487+00:00 [54354] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.198_491+00:00 [54354] [INFO] session 9 got connection from 127.0.0.1:49428 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:42:51.198_570+00:00 [54364] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:42:51.198_575+00:00 [54364] [INFO] session 10 got connection from 127.0.0.1:49430 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:43:03.204_533+00:00 [54376] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:43:03.204_541+00:00 [54376] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:43:03.204_559+00:00 [54376] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:43:03.204_562+00:00 [54376] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:45:41.868_535+00:00 [55236] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:45:41.869_860+00:00 [55236] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:45:41.869_889+00:00 [55236] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:45:41.869_895+00:00 [55236] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:45:41.869_918+00:00 [55236] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:45:41.869_922+00:00 [55236] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:45:41.869_925+00:00 [55236] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:45:41.869_960+00:00 [55236] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:45:41.870_101+00:00 [55272] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:45:43.785_170+00:00 [55243] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:45:43.785_180+00:00 [55243] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:45:43.785_194+00:00 [55243] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:45:43.785_209+00:00 [55243] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:45:43.785_215+00:00 [55243] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:45:43.785_219+00:00 [55243] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:45:43.785_236+00:00 [55243] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:45:43.785_285+00:00 [55271] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:45:43.785_293+00:00 [55271] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:45:43.785_302+00:00 [55271] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:45:43.921_012+00:00 [55236] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:45:43.921_411+00:00 [55243] [INFO] 0x561fdadc58b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:45:43.921_714+00:00 [55243] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:45:43.921_722+00:00 [55243] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:45:43.921_770+00:00 [55271] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:45:43.921_780+00:00 [55271] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:45:43.921_830+00:00 [55271] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:45:43.921_832+00:00 [55271] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:45:43.921_875+00:00 [55271] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:45:43.921_879+00:00 [55271] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:45:43.921_885+00:00 [55271] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:45:44.171_215+00:00 [55236] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:45:44.171_371+00:00 [55243] [INFO] 0x561fdadc5c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:45:44.171_712+00:00 [55243] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:45:44.171_717+00:00 [55243] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:45:44.171_841+00:00 [55243] [INFO] 0x7f93a00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:45:44.172_003+00:00 [55243] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:45:44.172_186+00:00 [55271] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:45:44.172_199+00:00 [55271] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:45:44.172_244+00:00 [55271] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:45:44.172_246+00:00 [55271] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:45:44.172_280+00:00 [55271] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:45:44.172_283+00:00 [55271] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:45:44.172_289+00:00 [55271] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:45:44.672_722+00:00 [55241] [INFO] 0x561fdadc58b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:45:44.672_947+00:00 [55241] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:46:03.672_709+00:00 [55240] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:46:03.672_724+00:00 [55240] [INFO] session 1 got connection from 127.0.0.1:49432 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:46:03.672_881+00:00 [55248] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:46:03.672_888+00:00 [55248] [INFO] session 2 got connection from 127.0.0.1:49434 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:46:58.750_688+00:00 [55618] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:46:58.752_033+00:00 [55618] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:46:58.752_062+00:00 [55618] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:46:58.752_068+00:00 [55618] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:46:58.752_091+00:00 [55618] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:46:58.752_095+00:00 [55618] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:46:58.752_098+00:00 [55618] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:46:58.752_130+00:00 [55618] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:46:58.752_266+00:00 [55654] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:46:59.946_409+00:00 [55625] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:46:59.946_433+00:00 [55625] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:46:59.946_470+00:00 [55625] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:46:59.946_496+00:00 [55625] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:46:59.946_511+00:00 [55625] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:46:59.946_521+00:00 [55625] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:46:59.946_569+00:00 [55625] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:46:59.946_745+00:00 [55653] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:46:59.946_771+00:00 [55653] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:46:59.946_788+00:00 [55653] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:47:00.053_078+00:00 [55618] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:47:00.053_486+00:00 [55625] [INFO] 0x55f0dbb768b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:47:00.053_902+00:00 [55625] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:47:00.053_910+00:00 [55625] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:47:00.053_961+00:00 [55653] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:47:00.053_972+00:00 [55653] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:47:00.054_018+00:00 [55653] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:47:00.054_021+00:00 [55653] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:47:00.054_061+00:00 [55653] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:47:00.054_065+00:00 [55653] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:47:00.054_070+00:00 [55653] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:47:00.303_762+00:00 [55618] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:47:00.304_008+00:00 [55625] [INFO] 0x55f0dbb76c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:47:00.304_358+00:00 [55625] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:47:00.304_363+00:00 [55625] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:47:00.304_516+00:00 [55625] [INFO] 0x7fdc040018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:47:00.304_691+00:00 [55625] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:47:00.304_905+00:00 [55653] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:47:00.304_922+00:00 [55653] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:47:00.304_989+00:00 [55653] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:47:00.304_992+00:00 [55653] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:47:00.305_044+00:00 [55653] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:47:00.305_049+00:00 [55653] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:47:00.305_056+00:00 [55653] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:47:00.805_573+00:00 [55623] [INFO] 0x55f0dbb768b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:47:00.805_769+00:00 [55623] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:47:20.295_904+00:00 [55650] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:47:20.295_917+00:00 [55650] [INFO] session 1 got connection from 127.0.0.1:49436 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:47:20.296_231+00:00 [55644] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:47:20.296_238+00:00 [55644] [INFO] session 2 got connection from 127.0.0.1:49438 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:47:20.296_303+00:00 [55644] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:47:20.296_308+00:00 [55644] [INFO] session 3 got connection from 127.0.0.1:49440 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:47:20.296_555+00:00 [55623] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:47:20.296_561+00:00 [55623] [INFO] session 4 got connection from 127.0.0.1:49442 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:47:34.024_492+00:00 [55653] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:47:34.024_501+00:00 [55653] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:47:34.024_519+00:00 [55653] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:47:34.024_523+00:00 [55653] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:48:15.365_489+00:00 [55997] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:48:15.366_842+00:00 [55997] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:48:15.366_879+00:00 [55997] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:48:15.366_883+00:00 [55997] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:48:15.366_909+00:00 [55997] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:48:15.366_913+00:00 [55997] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:48:15.366_916+00:00 [55997] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:48:15.366_951+00:00 [55997] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:48:15.367_100+00:00 [56033] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:48:17.389_115+00:00 [56004] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:48:17.389_125+00:00 [56004] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:48:17.389_139+00:00 [56004] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:48:17.389_150+00:00 [56004] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:48:17.389_156+00:00 [56004] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:48:17.389_160+00:00 [56004] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:48:17.389_178+00:00 [56004] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:48:17.389_228+00:00 [56032] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:48:17.389_236+00:00 [56032] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:48:17.389_245+00:00 [56032] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:48:17.417_924+00:00 [55997] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:48:17.418_278+00:00 [56004] [INFO] 0x55f6315d58b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:48:17.418_590+00:00 [56004] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:48:17.418_598+00:00 [56004] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:48:17.418_646+00:00 [56032] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:48:17.418_657+00:00 [56032] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:48:17.418_715+00:00 [56032] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:48:17.418_717+00:00 [56032] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:48:17.418_757+00:00 [56032] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:48:17.418_761+00:00 [56032] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:48:17.418_766+00:00 [56032] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:48:17.668_130+00:00 [55997] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:48:17.668_298+00:00 [56004] [INFO] 0x55f6315d5c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:48:17.668_642+00:00 [56004] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:48:17.668_646+00:00 [56004] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:48:17.668_779+00:00 [56004] [INFO] 0x7f69b80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:48:17.668_945+00:00 [56004] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:48:17.669_148+00:00 [56032] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:48:17.669_163+00:00 [56032] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:48:17.669_211+00:00 [56032] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:48:17.669_214+00:00 [56032] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:48:17.669_251+00:00 [56032] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:48:17.669_255+00:00 [56032] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:48:17.669_262+00:00 [56032] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:48:18.169_814+00:00 [56002] [INFO] 0x55f6315d58b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:48:18.170_111+00:00 [56002] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:48:37.161_170+00:00 [56027] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:48:37.161_185+00:00 [56027] [INFO] session 1 got connection from 127.0.0.1:49444 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:48:37.161_270+00:00 [56027] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:48:37.161_276+00:00 [56027] [INFO] session 2 got connection from 127.0.0.1:49446 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:48:37.161_443+00:00 [56021] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:48:37.161_449+00:00 [56021] [INFO] session 3 got connection from 127.0.0.1:49448 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:48:37.161_697+00:00 [56016] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:48:37.161_703+00:00 [56016] [INFO] session 4 got connection from 127.0.0.1:49450 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:48:37.161_766+00:00 [56016] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:48:37.161_770+00:00 [56016] [INFO] session 5 got connection from 127.0.0.1:49452 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:48:37.161_946+00:00 [56018] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:48:37.161_951+00:00 [56018] [INFO] session 6 got connection from 127.0.0.1:49454 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:48:49.048_908+00:00 [56032] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:48:49.048_917+00:00 [56032] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:48:49.048_938+00:00 [56032] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:48:49.048_942+00:00 [56032] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:49:32.246_182+00:00 [56395] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:49:32.247_516+00:00 [56395] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:49:32.247_554+00:00 [56395] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:49:32.247_559+00:00 [56395] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:49:32.247_583+00:00 [56395] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:49:32.247_588+00:00 [56395] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:49:32.247_591+00:00 [56395] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:49:32.247_617+00:00 [56395] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:49:32.247_756+00:00 [56431] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:49:33.832_844+00:00 [56402] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:49:33.832_854+00:00 [56402] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:49:33.832_869+00:00 [56402] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:49:33.832_879+00:00 [56402] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:49:33.832_886+00:00 [56402] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:49:33.832_890+00:00 [56402] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:49:33.832_907+00:00 [56402] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:49:33.832_957+00:00 [56430] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:49:33.832_965+00:00 [56430] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:49:33.832_974+00:00 [56430] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:49:34.048_842+00:00 [56395] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:49:34.049_165+00:00 [56402] [INFO] 0x55e71748d8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:49:34.049_467+00:00 [56402] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:49:34.049_474+00:00 [56402] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:49:34.049_527+00:00 [56430] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:49:34.049_538+00:00 [56430] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:49:34.049_583+00:00 [56430] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:49:34.049_586+00:00 [56430] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:49:34.049_630+00:00 [56430] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:49:34.049_634+00:00 [56430] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:49:34.049_640+00:00 [56430] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:49:34.299_058+00:00 [56395] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:49:34.299_250+00:00 [56402] [INFO] 0x55e71748dc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:49:34.299_603+00:00 [56402] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:49:34.299_608+00:00 [56402] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:49:34.299_751+00:00 [56402] [INFO] 0x7f56200018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:49:34.299_917+00:00 [56402] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:49:34.300_127+00:00 [56430] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:49:34.300_142+00:00 [56430] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:49:34.300_207+00:00 [56430] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:49:34.300_211+00:00 [56430] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:49:34.300_254+00:00 [56430] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:49:34.300_259+00:00 [56430] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:49:34.300_266+00:00 [56430] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:49:34.800_959+00:00 [56400] [INFO] 0x55e71748d8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:49:34.801_268+00:00 [56400] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:49:54.292_909+00:00 [56423] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.292_923+00:00 [56423] [INFO] session 1 got connection from 127.0.0.1:49456 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:54.293_180+00:00 [56413] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.293_187+00:00 [56413] [INFO] session 2 got connection from 127.0.0.1:49458 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:54.293_247+00:00 [56413] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.293_252+00:00 [56413] [INFO] session 3 got connection from 127.0.0.1:49460 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:54.293_475+00:00 [56401] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.293_482+00:00 [56401] [INFO] session 4 got connection from 127.0.0.1:49462 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:54.293_633+00:00 [56401] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.293_639+00:00 [56401] [INFO] session 5 got connection from 127.0.0.1:49464 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:54.294_034+00:00 [56405] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.294_041+00:00 [56405] [INFO] session 6 got connection from 127.0.0.1:49466 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:54.294_099+00:00 [56405] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.294_104+00:00 [56405] [INFO] session 7 got connection from 127.0.0.1:49468 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:54.294_465+00:00 [56401] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:54.294_471+00:00 [56401] [INFO] session 8 got connection from 127.0.0.1:49470 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:49:57.272_099+00:00 [56426] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:49:57.272_110+00:00 [56426] [INFO] session 9 got connection from 127.0.0.1:49472 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:50:06.100_994+00:00 [56430] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:50:06.101_003+00:00 [56430] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:50:06.101_027+00:00 [56430] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:50:06.101_030+00:00 [56430] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:50:49.359_269+00:00 [56764] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:50:49.360_597+00:00 [56764] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:50:49.360_627+00:00 [56764] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:50:49.360_631+00:00 [56764] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:50:49.360_658+00:00 [56764] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:50:49.360_662+00:00 [56764] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:50:49.360_665+00:00 [56764] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:50:49.360_695+00:00 [56764] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:50:49.360_839+00:00 [56800] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:50:51.320_876+00:00 [56771] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:50:51.320_887+00:00 [56771] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:50:51.320_902+00:00 [56771] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:50:51.320_912+00:00 [56771] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:50:51.320_919+00:00 [56771] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:50:51.320_923+00:00 [56771] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:50:51.320_941+00:00 [56771] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:50:51.320_991+00:00 [56799] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:50:51.320_998+00:00 [56799] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:50:51.321_008+00:00 [56799] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:50:51.411_863+00:00 [56764] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:50:51.412_263+00:00 [56771] [INFO] 0x558727c598b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:50:51.412_577+00:00 [56771] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:50:51.412_585+00:00 [56771] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:50:51.412_637+00:00 [56799] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:50:51.412_648+00:00 [56799] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:50:51.412_695+00:00 [56799] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:50:51.412_698+00:00 [56799] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:50:51.412_740+00:00 [56799] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:50:51.412_743+00:00 [56799] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:50:51.412_749+00:00 [56799] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:50:51.662_120+00:00 [56764] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:50:51.662_333+00:00 [56771] [INFO] 0x558727c59c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:50:51.662_814+00:00 [56771] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:50:51.662_819+00:00 [56771] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:50:51.662_962+00:00 [56771] [INFO] 0x7fb1e80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:50:51.663_139+00:00 [56771] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:50:51.663_347+00:00 [56799] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:50:51.663_362+00:00 [56799] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:50:51.663_417+00:00 [56799] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:50:51.663_419+00:00 [56799] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:50:51.663_459+00:00 [56799] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:50:51.663_463+00:00 [56799] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:50:51.663_470+00:00 [56799] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:50:52.164_140+00:00 [56769] [INFO] 0x558727c598b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:50:52.164_658+00:00 [56769] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:51:10.914_183+00:00 [56797] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.914_198+00:00 [56797] [INFO] session 1 got connection from 127.0.0.1:49474 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.914_458+00:00 [56776] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.914_465+00:00 [56776] [INFO] session 2 got connection from 127.0.0.1:49476 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.914_553+00:00 [56776] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.914_558+00:00 [56776] [INFO] session 3 got connection from 127.0.0.1:49478 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.914_777+00:00 [56789] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.914_783+00:00 [56789] [INFO] session 4 got connection from 127.0.0.1:49480 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.914_842+00:00 [56789] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.914_846+00:00 [56789] [INFO] session 5 got connection from 127.0.0.1:49482 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.914_942+00:00 [56773] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.914_947+00:00 [56773] [INFO] session 6 got connection from 127.0.0.1:49484 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.915_300+00:00 [56787] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.915_306+00:00 [56787] [INFO] session 7 got connection from 127.0.0.1:49486 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.915_363+00:00 [56787] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.915_367+00:00 [56787] [INFO] session 8 got connection from 127.0.0.1:49488 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.915_801+00:00 [56796] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.915_808+00:00 [56796] [INFO] session 9 got connection from 127.0.0.1:49490 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:10.915_863+00:00 [56768] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:51:10.915_867+00:00 [56768] [INFO] session 10 got connection from 127.0.0.1:49492 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:51:21.407_698+00:00 [56799] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:51:21.407_706+00:00 [56799] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:51:21.407_724+00:00 [56799] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:51:21.407_727+00:00 [56799] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:52:06.006_007+00:00 [57183] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:52:06.007_359+00:00 [57183] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:52:06.007_390+00:00 [57183] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:52:06.007_394+00:00 [57183] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:52:06.007_420+00:00 [57183] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:52:06.007_424+00:00 [57183] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:52:06.007_426+00:00 [57183] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:52:06.007_455+00:00 [57183] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:52:06.007_591+00:00 [57219] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:52:07.831_646+00:00 [57190] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:52:07.831_655+00:00 [57190] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:52:07.831_672+00:00 [57190] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:52:07.831_683+00:00 [57190] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:52:07.831_689+00:00 [57190] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:52:07.831_693+00:00 [57190] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:52:07.831_711+00:00 [57190] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:52:07.831_759+00:00 [57218] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:52:07.831_766+00:00 [57218] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:52:07.831_776+00:00 [57218] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:52:08.058_943+00:00 [57183] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:52:08.059_315+00:00 [57190] [INFO] 0x55f18f0298b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:52:08.059_644+00:00 [57190] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:52:08.059_653+00:00 [57190] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:52:08.059_706+00:00 [57218] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:52:08.059_717+00:00 [57218] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:52:08.059_766+00:00 [57218] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:52:08.059_769+00:00 [57218] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:52:08.059_813+00:00 [57218] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:52:08.059_817+00:00 [57218] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:52:08.059_822+00:00 [57218] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:52:08.309_148+00:00 [57183] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:52:08.309_315+00:00 [57190] [INFO] 0x55f18f029c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:52:08.309_738+00:00 [57190] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:52:08.309_742+00:00 [57190] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:52:08.309_883+00:00 [57190] [INFO] 0x7f5b900018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:52:08.310_055+00:00 [57190] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:52:08.310_242+00:00 [57218] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:52:08.310_255+00:00 [57218] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:52:08.310_297+00:00 [57218] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:52:08.310_299+00:00 [57218] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:52:08.310_333+00:00 [57218] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:52:08.310_336+00:00 [57218] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:52:08.310_342+00:00 [57218] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:52:08.810_573+00:00 [57188] [INFO] 0x55f18f0298b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:52:08.810_792+00:00 [57188] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:52:27.802_758+00:00 [57189] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.802_772+00:00 [57189] [INFO] session 1 got connection from 127.0.0.1:49496 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.802_913+00:00 [57205] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.802_919+00:00 [57205] [INFO] session 2 got connection from 127.0.0.1:49498 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.802_979+00:00 [57205] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.802_983+00:00 [57205] [INFO] session 3 got connection from 127.0.0.1:49500 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.803_237+00:00 [57205] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.803_243+00:00 [57205] [INFO] session 4 got connection from 127.0.0.1:49502 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.803_311+00:00 [57205] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.803_315+00:00 [57205] [INFO] session 5 got connection from 127.0.0.1:49504 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.803_432+00:00 [57186] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.803_437+00:00 [57186] [INFO] session 6 got connection from 127.0.0.1:49506 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.803_518+00:00 [57188] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.803_523+00:00 [57188] [INFO] session 7 got connection from 127.0.0.1:49508 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.803_607+00:00 [57190] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.803_612+00:00 [57190] [INFO] session 8 got connection from 127.0.0.1:49510 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.803_694+00:00 [57191] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.803_699+00:00 [57191] [INFO] session 9 got connection from 127.0.0.1:49512 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:27.803_777+00:00 [57192] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:52:27.803_783+00:00 [57192] [INFO] session 10 got connection from 127.0.0.1:49514 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:52:38.370_409+00:00 [57218] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:52:38.370_417+00:00 [57218] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:52:38.370_434+00:00 [57218] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:52:38.370_438+00:00 [57218] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:53:22.894_071+00:00 [57620] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:53:22.895_424+00:00 [57620] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:53:22.895_453+00:00 [57620] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:53:22.895_461+00:00 [57620] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:53:22.895_483+00:00 [57620] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:53:22.895_487+00:00 [57620] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:53:22.895_490+00:00 [57620] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:53:22.895_517+00:00 [57620] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:53:22.895_664+00:00 [57656] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:53:24.126_841+00:00 [57627] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:53:24.126_864+00:00 [57627] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:53:24.126_900+00:00 [57627] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:53:24.126_926+00:00 [57627] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:53:24.126_941+00:00 [57627] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:53:24.126_952+00:00 [57627] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:53:24.127_000+00:00 [57627] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:53:24.127_128+00:00 [57655] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:53:24.127_154+00:00 [57655] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:53:24.127_180+00:00 [57655] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:53:24.196_423+00:00 [57620] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:53:24.196_771+00:00 [57627] [INFO] 0x5569e5f658b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:53:24.197_076+00:00 [57627] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:53:24.197_083+00:00 [57627] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:53:24.197_132+00:00 [57655] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:53:24.197_142+00:00 [57655] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:53:24.197_192+00:00 [57655] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:53:24.197_195+00:00 [57655] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:53:24.197_236+00:00 [57655] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:53:24.197_240+00:00 [57655] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:53:24.197_245+00:00 [57655] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:53:24.446_634+00:00 [57620] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:53:24.446_821+00:00 [57627] [INFO] 0x5569e5f65c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:53:24.447_166+00:00 [57627] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:53:24.447_171+00:00 [57627] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:53:24.447_310+00:00 [57627] [INFO] 0x7f30cc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:53:24.447_483+00:00 [57627] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:53:24.447_682+00:00 [57655] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:53:24.447_694+00:00 [57655] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:53:24.447_740+00:00 [57655] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:53:24.447_742+00:00 [57655] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:53:24.447_776+00:00 [57655] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:53:24.447_779+00:00 [57655] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:53:24.447_784+00:00 [57655] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:53:24.948_370+00:00 [57625] [INFO] 0x5569e5f658b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:53:24.948_853+00:00 [57625] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:53:44.690_850+00:00 [57652] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.690_865+00:00 [57652] [INFO] session 1 got connection from 127.0.0.1:49516 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_125+00:00 [57623] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_132+00:00 [57623] [INFO] session 2 got connection from 127.0.0.1:49518 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_193+00:00 [57623] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_197+00:00 [57623] [INFO] session 3 got connection from 127.0.0.1:49520 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_333+00:00 [57632] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_339+00:00 [57632] [INFO] session 4 got connection from 127.0.0.1:49522 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_428+00:00 [57637] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_433+00:00 [57637] [INFO] session 5 got connection from 127.0.0.1:49526 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_497+00:00 [57633] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_501+00:00 [57633] [INFO] session 6 got connection from 127.0.0.1:49528 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_715+00:00 [57633] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_720+00:00 [57633] [INFO] session 7 got connection from 127.0.0.1:49530 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_772+00:00 [57633] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_776+00:00 [57633] [INFO] session 8 got connection from 127.0.0.1:49532 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_861+00:00 [57641] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_867+00:00 [57641] [INFO] session 9 got connection from 127.0.0.1:49534 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:44.691_966+00:00 [57641] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:53:44.691_971+00:00 [57641] [INFO] session 10 got connection from 127.0.0.1:49536 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:53:55.560_335+00:00 [57655] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:53:55.560_344+00:00 [57655] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:53:55.560_363+00:00 [57655] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:53:55.560_366+00:00 [57655] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:54:39.782_562+00:00 [58048] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:54:39.783_948+00:00 [58048] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:54:39.783_977+00:00 [58048] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:54:39.783_982+00:00 [58048] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:54:39.784_007+00:00 [58048] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:54:39.784_011+00:00 [58048] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:54:39.784_015+00:00 [58048] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:54:39.784_049+00:00 [58048] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:54:39.784_205+00:00 [58084] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:54:40.969_390+00:00 [58055] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:54:40.969_412+00:00 [58055] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:54:40.969_448+00:00 [58055] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:54:40.969_475+00:00 [58055] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:54:40.969_490+00:00 [58055] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:54:40.969_500+00:00 [58055] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:54:40.969_548+00:00 [58055] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:54:40.969_681+00:00 [58083] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:54:40.969_707+00:00 [58083] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:54:40.969_732+00:00 [58083] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:54:41.085_218+00:00 [58048] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:54:41.085_598+00:00 [58055] [INFO] 0x55bfca6ad8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:54:41.086_002+00:00 [58055] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:54:41.086_009+00:00 [58055] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:54:41.086_062+00:00 [58083] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:54:41.086_073+00:00 [58083] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:54:41.086_120+00:00 [58083] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:54:41.086_122+00:00 [58083] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:54:41.086_165+00:00 [58083] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:54:41.086_168+00:00 [58083] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:54:41.086_174+00:00 [58083] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:54:41.335_590+00:00 [58048] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:54:41.335_750+00:00 [58055] [INFO] 0x55bfca6adc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:54:41.336_080+00:00 [58055] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:54:41.336_084+00:00 [58055] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:54:41.336_221+00:00 [58055] [INFO] 0x7f6f940018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:54:41.336_386+00:00 [58055] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:54:41.336_636+00:00 [58083] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:54:41.336_657+00:00 [58083] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:54:41.336_724+00:00 [58083] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:54:41.336_728+00:00 [58083] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:54:41.336_773+00:00 [58083] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:54:41.336_779+00:00 [58083] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:54:41.336_789+00:00 [58083] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:54:41.837_049+00:00 [58053] [INFO] 0x55bfca6ad8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:54:41.837_279+00:00 [58053] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:55:01.079_340+00:00 [58080] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.079_354+00:00 [58080] [INFO] session 1 got connection from 127.0.0.1:49538 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.079_512+00:00 [58069] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.079_519+00:00 [58069] [INFO] session 2 got connection from 127.0.0.1:49540 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.079_739+00:00 [58071] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.079_746+00:00 [58071] [INFO] session 3 got connection from 127.0.0.1:49542 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.079_805+00:00 [58071] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.079_809+00:00 [58071] [INFO] session 4 got connection from 127.0.0.1:49544 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.079_898+00:00 [58060] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.079_903+00:00 [58060] [INFO] session 5 got connection from 127.0.0.1:49546 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.079_993+00:00 [58061] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.079_998+00:00 [58061] [INFO] session 6 got connection from 127.0.0.1:49548 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.080_079+00:00 [58075] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.080_085+00:00 [58075] [INFO] session 7 got connection from 127.0.0.1:49550 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.080_161+00:00 [58073] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.080_166+00:00 [58073] [INFO] session 8 got connection from 127.0.0.1:49552 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.080_241+00:00 [58054] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.080_246+00:00 [58054] [INFO] session 9 got connection from 127.0.0.1:49554 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:01.080_313+00:00 [58053] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:55:01.080_318+00:00 [58053] [INFO] session 10 got connection from 127.0.0.1:49556 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:55:12.206_087+00:00 [58083] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:55:12.206_098+00:00 [58083] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:55:12.206_116+00:00 [58083] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:55:12.206_121+00:00 [58083] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:55:56.171_950+00:00 [58475] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:55:56.173_279+00:00 [58475] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:55:56.173_316+00:00 [58475] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:55:56.173_320+00:00 [58475] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:55:56.173_346+00:00 [58475] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:55:56.173_350+00:00 [58475] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:55:56.173_353+00:00 [58475] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:55:56.173_381+00:00 [58475] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:55:56.173_521+00:00 [58511] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:55:57.529_548+00:00 [58482] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:55:57.529_559+00:00 [58482] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:55:57.529_573+00:00 [58482] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:55:57.529_583+00:00 [58482] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:55:57.529_589+00:00 [58482] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:55:57.529_592+00:00 [58482] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:55:57.529_610+00:00 [58482] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:55:57.529_659+00:00 [58510] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:55:57.529_667+00:00 [58510] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:55:57.529_677+00:00 [58510] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:55:57.724_285+00:00 [58475] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:55:57.724_724+00:00 [58482] [INFO] 0x562cc242b8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:55:57.725_030+00:00 [58482] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:55:57.725_039+00:00 [58482] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:55:57.725_092+00:00 [58510] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:55:57.725_103+00:00 [58510] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:55:57.725_151+00:00 [58510] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:55:57.725_153+00:00 [58510] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:55:57.725_198+00:00 [58510] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:55:57.725_202+00:00 [58510] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:55:57.725_207+00:00 [58510] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:55:57.974_480+00:00 [58475] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:55:57.974_651+00:00 [58482] [INFO] 0x562cc242bc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:55:57.975_040+00:00 [58492] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:55:57.975_047+00:00 [58492] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:55:57.975_192+00:00 [58492] [INFO] 0x7f9d4c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:55:57.975_355+00:00 [58492] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:55:57.975_565+00:00 [58510] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:55:57.975_579+00:00 [58510] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:55:57.975_633+00:00 [58510] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:55:57.975_635+00:00 [58510] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:55:57.975_674+00:00 [58510] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:55:57.975_678+00:00 [58510] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:55:57.975_684+00:00 [58510] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:55:58.475_955+00:00 [58492] [INFO] 0x562cc242b8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:55:58.476_166+00:00 [58492] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:56:18.218_239+00:00 [58501] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.218_253+00:00 [58501] [INFO] session 1 got connection from 127.0.0.1:49558 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.218_507+00:00 [58480] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.218_514+00:00 [58480] [INFO] session 2 got connection from 127.0.0.1:49560 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.218_577+00:00 [58480] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.218_582+00:00 [58480] [INFO] session 3 got connection from 127.0.0.1:49562 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.218_726+00:00 [58485] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.218_733+00:00 [58485] [INFO] session 4 got connection from 127.0.0.1:49564 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.218_832+00:00 [58489] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.218_838+00:00 [58489] [INFO] session 5 got connection from 127.0.0.1:49568 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.218_892+00:00 [58495] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.218_896+00:00 [58495] [INFO] session 6 got connection from 127.0.0.1:49570 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.219_101+00:00 [58495] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.219_106+00:00 [58495] [INFO] session 7 got connection from 127.0.0.1:49572 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.219_157+00:00 [58495] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.219_161+00:00 [58495] [INFO] session 8 got connection from 127.0.0.1:49574 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.219_249+00:00 [58508] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.219_254+00:00 [58508] [INFO] session 9 got connection from 127.0.0.1:49576 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:18.219_332+00:00 [58504] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:56:18.219_337+00:00 [58504] [INFO] session 10 got connection from 127.0.0.1:49578 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:56:29.702_492+00:00 [58510] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:56:29.702_500+00:00 [58510] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:56:29.702_521+00:00 [58510] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:56:29.702_525+00:00 [58510] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:57:13.295_706+00:00 [58916] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:57:13.297_049+00:00 [58916] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:57:13.297_078+00:00 [58916] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:57:13.297_086+00:00 [58916] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:57:13.297_111+00:00 [58916] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:57:13.297_115+00:00 [58916] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:57:13.297_118+00:00 [58916] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:57:13.297_148+00:00 [58916] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:57:13.297_288+00:00 [58952] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:57:14.725_327+00:00 [58923] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:57:14.725_338+00:00 [58923] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:57:14.725_354+00:00 [58923] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:57:14.725_365+00:00 [58923] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:57:14.725_371+00:00 [58923] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:57:14.725_375+00:00 [58923] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:57:14.725_392+00:00 [58923] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:57:14.725_442+00:00 [58951] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:57:14.725_449+00:00 [58951] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:57:14.725_459+00:00 [58951] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:57:14.847_990+00:00 [58916] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:57:14.848_416+00:00 [58923] [INFO] 0x56466f1f18b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:57:14.849_149+00:00 [58923] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:57:14.849_157+00:00 [58923] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:57:14.849_205+00:00 [58951] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:57:14.849_216+00:00 [58951] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:57:14.849_262+00:00 [58951] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:57:14.849_264+00:00 [58951] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:57:14.849_310+00:00 [58951] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:57:14.849_313+00:00 [58951] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:57:14.849_319+00:00 [58951] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:57:15.098_202+00:00 [58916] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:57:15.098_385+00:00 [58923] [INFO] 0x56466f1f1c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:57:15.098_885+00:00 [58923] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:57:15.098_890+00:00 [58923] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:57:15.099_029+00:00 [58923] [INFO] 0x7f1d2c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:57:15.099_193+00:00 [58923] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:57:15.099_399+00:00 [58951] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:57:15.099_413+00:00 [58951] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:57:15.099_462+00:00 [58951] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:57:15.099_465+00:00 [58951] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:57:15.099_503+00:00 [58951] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:57:15.099_507+00:00 [58951] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:57:15.099_513+00:00 [58951] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:57:15.599_748+00:00 [58921] [INFO] 0x56466f1f18b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:57:15.600_057+00:00 [58921] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:57:34.591_820+00:00 [58948] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.591_835+00:00 [58948] [INFO] session 1 got connection from 127.0.0.1:49580 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.591_927+00:00 [58948] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.591_932+00:00 [58948] [INFO] session 2 got connection from 127.0.0.1:49582 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_074+00:00 [58936] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_080+00:00 [58936] [INFO] session 3 got connection from 127.0.0.1:49584 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_325+00:00 [58936] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_331+00:00 [58936] [INFO] session 4 got connection from 127.0.0.1:49586 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_396+00:00 [58936] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_401+00:00 [58936] [INFO] session 5 got connection from 127.0.0.1:49588 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_483+00:00 [58923] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_488+00:00 [58923] [INFO] session 6 got connection from 127.0.0.1:49590 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_573+00:00 [58937] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_578+00:00 [58937] [INFO] session 7 got connection from 127.0.0.1:49592 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_661+00:00 [58944] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_666+00:00 [58944] [INFO] session 8 got connection from 127.0.0.1:49594 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_745+00:00 [58941] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_750+00:00 [58941] [INFO] session 9 got connection from 127.0.0.1:49596 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:34.592_824+00:00 [58945] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:57:34.592_829+00:00 [58945] [INFO] session 10 got connection from 127.0.0.1:49598 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:57:46.296_041+00:00 [58951] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-29T05:57:46.296_049+00:00 [58951] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-29T05:57:46.296_066+00:00 [58951] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-29T05:57:46.296_140+00:00 [58951] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-29T05:59:25.656_261+00:00 [59611] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T05:59:25.657_623+00:00 [59611] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T05:59:25.657_656+00:00 [59611] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T05:59:25.657_663+00:00 [59611] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T05:59:25.657_685+00:00 [59611] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T05:59:25.657_689+00:00 [59611] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T05:59:25.657_691+00:00 [59611] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T05:59:25.657_724+00:00 [59611] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T05:59:25.657_866+00:00 [59647] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T05:59:26.829_015+00:00 [59618] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T05:59:26.829_038+00:00 [59618] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T05:59:26.829_073+00:00 [59618] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T05:59:26.829_100+00:00 [59618] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T05:59:26.829_115+00:00 [59618] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T05:59:26.829_126+00:00 [59618] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T05:59:26.829_173+00:00 [59618] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T05:59:26.829_308+00:00 [59646] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:59:26.829_334+00:00 [59646] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:59:26.829_359+00:00 [59646] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:59:26.959_250+00:00 [59611] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:59:26.959_602+00:00 [59618] [INFO] 0x556ab2bb78b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:59:26.959_988+00:00 [59618] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:59:26.959_996+00:00 [59618] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:59:26.960_043+00:00 [59646] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:59:26.960_054+00:00 [59646] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:59:26.960_100+00:00 [59646] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:59:26.960_102+00:00 [59646] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:59:26.960_143+00:00 [59646] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:59:26.960_146+00:00 [59646] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:59:26.960_152+00:00 [59646] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:59:27.209_496+00:00 [59611] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T05:59:27.209_718+00:00 [59618] [INFO] 0x556ab2bb7c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:59:27.210_057+00:00 [59618] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T05:59:27.210_063+00:00 [59618] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T05:59:27.210_237+00:00 [59618] [INFO] 0x7f757c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:59:27.210_430+00:00 [59618] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:59:27.210_785+00:00 [59646] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T05:59:27.210_803+00:00 [59646] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T05:59:27.210_865+00:00 [59646] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T05:59:27.210_868+00:00 [59646] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T05:59:27.210_908+00:00 [59646] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T05:59:27.210_912+00:00 [59646] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T05:59:27.210_920+00:00 [59646] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T05:59:27.711_139+00:00 [59616] [INFO] 0x556ab2bb78b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T05:59:27.711_319+00:00 [59616] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T05:59:47.702_036+00:00 [59644] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:59:47.702_051+00:00 [59644] [INFO] session 1 got connection from 127.0.0.1:49600 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T05:59:47.702_145+00:00 [59644] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T05:59:47.702_150+00:00 [59644] [INFO] session 2 got connection from 127.0.0.1:49602 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:00:42.778_564+00:00 [60020] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:00:42.779_911+00:00 [60020] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:00:42.779_943+00:00 [60020] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:00:42.779_948+00:00 [60020] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:00:42.779_970+00:00 [60020] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:00:42.779_974+00:00 [60020] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:00:42.779_977+00:00 [60020] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:00:42.780_005+00:00 [60020] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:00:42.780_140+00:00 [60056] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:00:44.435_183+00:00 [60027] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:00:44.435_193+00:00 [60027] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:00:44.435_206+00:00 [60027] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:00:44.435_223+00:00 [60027] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:00:44.435_229+00:00 [60027] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:00:44.435_232+00:00 [60027] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:00:44.435_250+00:00 [60027] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:00:44.435_300+00:00 [60055] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:00:44.435_308+00:00 [60055] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:00:44.435_318+00:00 [60055] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:00:44.581_058+00:00 [60020] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:00:44.581_376+00:00 [60027] [INFO] 0x55fa0ed498b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:00:44.581_676+00:00 [60027] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:00:44.581_683+00:00 [60027] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:00:44.581_735+00:00 [60055] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:00:44.581_746+00:00 [60055] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:00:44.581_790+00:00 [60055] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:00:44.581_793+00:00 [60055] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:00:44.581_834+00:00 [60055] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:00:44.581_837+00:00 [60055] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:00:44.581_843+00:00 [60055] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:00:44.831_455+00:00 [60020] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:00:44.831_922+00:00 [60027] [INFO] 0x55fa0ed49c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:00:44.832_257+00:00 [60027] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:00:44.832_261+00:00 [60027] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:00:44.832_408+00:00 [60027] [INFO] 0x7fb3440018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:00:44.832_564+00:00 [60027] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:00:44.832_765+00:00 [60055] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:00:44.832_779+00:00 [60055] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:00:44.832_834+00:00 [60055] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:00:44.832_837+00:00 [60055] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:00:44.832_875+00:00 [60055] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:00:44.832_879+00:00 [60055] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:00:44.832_886+00:00 [60055] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:00:45.333_189+00:00 [60025] [INFO] 0x55fa0ed498b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:00:45.333_404+00:00 [60025] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:01:04.573_480+00:00 [60053] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:01:04.573_494+00:00 [60053] [INFO] session 1 got connection from 127.0.0.1:49636 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:01:04.573_642+00:00 [60043] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:01:04.573_648+00:00 [60043] [INFO] session 2 got connection from 127.0.0.1:49640 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:01:04.573_880+00:00 [60046] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:01:04.573_886+00:00 [60046] [INFO] session 3 got connection from 127.0.0.1:49642 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:01:04.574_008+00:00 [60027] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:01:04.574_013+00:00 [60027] [INFO] session 4 got connection from 127.0.0.1:49644 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:01:59.649_603+00:00 [60479] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:01:59.650_978+00:00 [60479] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:01:59.651_013+00:00 [60479] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:01:59.651_020+00:00 [60479] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:01:59.651_043+00:00 [60479] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:01:59.651_047+00:00 [60479] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:01:59.651_050+00:00 [60479] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:01:59.651_078+00:00 [60479] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:01:59.651_218+00:00 [60515] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:02:01.699_261+00:00 [60486] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:02:01.699_270+00:00 [60486] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:02:01.699_284+00:00 [60486] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:02:01.699_293+00:00 [60486] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:02:01.699_299+00:00 [60486] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:02:01.699_302+00:00 [60486] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:02:01.699_317+00:00 [60486] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:02:01.699_359+00:00 [60514] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:02:01.699_365+00:00 [60514] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:02:01.699_374+00:00 [60514] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:02:01.702_190+00:00 [60479] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:02:01.702_502+00:00 [60486] [INFO] 0x55b0cd74a8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:02:01.702_815+00:00 [60486] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:02:01.702_823+00:00 [60486] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:02:01.702_869+00:00 [60514] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:02:01.702_880+00:00 [60514] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:02:01.702_925+00:00 [60514] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:02:01.702_928+00:00 [60514] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:02:01.702_966+00:00 [60514] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:02:01.702_970+00:00 [60514] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:02:01.702_975+00:00 [60514] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:02:01.952_605+00:00 [60479] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:02:01.953_019+00:00 [60486] [INFO] 0x55b0cd74ac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:02:01.953_497+00:00 [60486] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:02:01.953_502+00:00 [60486] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:02:01.953_634+00:00 [60486] [INFO] 0x7f674c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:02:01.953_803+00:00 [60486] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:02:01.954_010+00:00 [60514] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:02:01.954_024+00:00 [60514] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:02:01.954_075+00:00 [60514] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:02:01.954_077+00:00 [60514] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:02:01.954_115+00:00 [60514] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:02:01.954_119+00:00 [60514] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:02:01.954_126+00:00 [60514] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:02:02.454_416+00:00 [60484] [INFO] 0x55b0cd74a8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:02:02.454_735+00:00 [60484] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:02:21.445_371+00:00 [60507] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:02:21.445_386+00:00 [60507] [INFO] session 1 got connection from 127.0.0.1:49688 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:02:21.445_524+00:00 [60495] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:02:21.445_530+00:00 [60495] [INFO] session 2 got connection from 127.0.0.1:49692 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:02:21.445_780+00:00 [60496] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:02:21.445_786+00:00 [60496] [INFO] session 3 got connection from 127.0.0.1:49694 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:02:21.445_844+00:00 [60496] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:02:21.445_849+00:00 [60496] [INFO] session 4 got connection from 127.0.0.1:49696 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:02:21.445_983+00:00 [60503] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:02:21.445_988+00:00 [60503] [INFO] session 5 got connection from 127.0.0.1:49698 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:02:21.446_118+00:00 [60506] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:02:21.446_124+00:00 [60506] [INFO] session 6 got connection from 127.0.0.1:49700 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:16.518_543+00:00 [60936] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:03:16.519_997+00:00 [60936] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:03:16.520_029+00:00 [60936] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:03:16.520_033+00:00 [60936] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:03:16.520_055+00:00 [60936] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:03:16.520_058+00:00 [60936] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:03:16.520_062+00:00 [60936] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:03:16.520_092+00:00 [60936] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:03:16.520_243+00:00 [60975] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:03:17.851_382+00:00 [60946] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:03:17.851_405+00:00 [60946] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:03:17.851_441+00:00 [60946] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:03:17.851_476+00:00 [60946] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:03:17.851_491+00:00 [60946] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:03:17.851_501+00:00 [60946] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:03:17.851_550+00:00 [60946] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:03:17.851_682+00:00 [60974] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:03:17.851_708+00:00 [60974] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:03:17.851_734+00:00 [60974] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:03:18.071_184+00:00 [60936] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:03:18.071_635+00:00 [60946] [INFO] 0x5581842538b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:03:18.072_074+00:00 [60946] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:03:18.072_084+00:00 [60946] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:03:18.072_138+00:00 [60974] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:03:18.072_149+00:00 [60974] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:03:18.072_202+00:00 [60974] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:03:18.072_205+00:00 [60974] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:03:18.072_252+00:00 [60974] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:03:18.072_256+00:00 [60974] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:03:18.072_261+00:00 [60974] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:03:18.321_418+00:00 [60936] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:03:18.321_585+00:00 [60946] [INFO] 0x558184253c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:03:18.322_011+00:00 [60946] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:03:18.322_015+00:00 [60946] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:03:18.322_152+00:00 [60946] [INFO] 0x7f15e40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:03:18.322_323+00:00 [60946] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:03:18.322_532+00:00 [60974] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:03:18.322_546+00:00 [60974] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:03:18.322_599+00:00 [60974] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:03:18.322_602+00:00 [60974] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:03:18.322_640+00:00 [60974] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:03:18.322_644+00:00 [60974] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:03:18.322_651+00:00 [60974] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:03:18.823_208+00:00 [60944] [INFO] 0x5581842538b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:03:18.823_404+00:00 [60944] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:03:38.568_296+00:00 [60949] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.568_311+00:00 [60949] [INFO] session 1 got connection from 127.0.0.1:49746 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:38.568_551+00:00 [60943] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.568_558+00:00 [60943] [INFO] session 2 got connection from 127.0.0.1:49748 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:38.568_618+00:00 [60943] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.568_622+00:00 [60943] [INFO] session 3 got connection from 127.0.0.1:49750 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:38.568_783+00:00 [60971] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.568_788+00:00 [60971] [INFO] session 4 got connection from 127.0.0.1:49752 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:38.568_876+00:00 [60942] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.568_881+00:00 [60942] [INFO] session 5 got connection from 127.0.0.1:49754 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:38.569_038+00:00 [60970] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.569_044+00:00 [60970] [INFO] session 6 got connection from 127.0.0.1:49756 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:38.569_095+00:00 [60970] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.569_099+00:00 [60970] [INFO] session 7 got connection from 127.0.0.1:49758 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:38.569_226+00:00 [60964] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:38.569_231+00:00 [60964] [INFO] session 8 got connection from 127.0.0.1:49760 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:03:43.038_595+00:00 [60951] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:03:43.038_606+00:00 [60951] [INFO] session 9 got connection from 127.0.0.1:49764 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:33.645_248+00:00 [61388] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:04:33.647_304+00:00 [61388] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:04:33.647_337+00:00 [61388] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:04:33.647_341+00:00 [61388] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:04:33.647_364+00:00 [61388] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:04:33.647_369+00:00 [61388] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:04:33.647_371+00:00 [61388] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:04:33.647_405+00:00 [61388] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:04:33.647_884+00:00 [61424] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:04:34.771_617+00:00 [61395] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:04:34.771_627+00:00 [61395] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:04:34.771_642+00:00 [61395] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:04:34.771_662+00:00 [61395] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:04:34.771_668+00:00 [61395] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:04:34.771_672+00:00 [61395] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:04:34.771_691+00:00 [61395] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:04:34.771_740+00:00 [61423] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:04:34.771_748+00:00 [61423] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:04:34.771_758+00:00 [61423] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:04:34.948_191+00:00 [61388] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:04:34.948_523+00:00 [61395] [INFO] 0x5580fad6f8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:04:34.948_821+00:00 [61395] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:04:34.948_828+00:00 [61395] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:04:34.948_881+00:00 [61423] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:04:34.948_892+00:00 [61423] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:04:34.948_935+00:00 [61423] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:04:34.948_938+00:00 [61423] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:04:34.948_976+00:00 [61423] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:04:34.948_979+00:00 [61423] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:04:34.948_985+00:00 [61423] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:04:35.198_408+00:00 [61388] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:04:35.198_583+00:00 [61395] [INFO] 0x5580fad6fc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:04:35.199_258+00:00 [61395] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:04:35.199_264+00:00 [61395] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:04:35.199_420+00:00 [61395] [INFO] 0x7f7efc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:04:35.199_596+00:00 [61395] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:04:35.199_806+00:00 [61423] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:04:35.199_819+00:00 [61423] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:04:35.199_866+00:00 [61423] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:04:35.199_868+00:00 [61423] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:04:35.199_915+00:00 [61423] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:04:35.199_918+00:00 [61423] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:04:35.199_924+00:00 [61423] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:04:35.700_126+00:00 [61422] [INFO] 0x5580fad6f8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:04:35.700_316+00:00 [61422] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:04:55.691_411+00:00 [61414] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.691_426+00:00 [61414] [INFO] session 1 got connection from 127.0.0.1:49812 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.691_680+00:00 [61394] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.691_686+00:00 [61394] [INFO] session 2 got connection from 127.0.0.1:49814 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.691_935+00:00 [61396] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.691_942+00:00 [61396] [INFO] session 3 got connection from 127.0.0.1:49816 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.692_002+00:00 [61396] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.692_006+00:00 [61396] [INFO] session 4 got connection from 127.0.0.1:49818 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.692_099+00:00 [61401] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.692_105+00:00 [61401] [INFO] session 5 got connection from 127.0.0.1:49820 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.692_184+00:00 [61398] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.692_189+00:00 [61398] [INFO] session 6 got connection from 127.0.0.1:49822 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.692_261+00:00 [61417] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.692_266+00:00 [61417] [INFO] session 7 got connection from 127.0.0.1:49824 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.692_335+00:00 [61403] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.692_340+00:00 [61403] [INFO] session 8 got connection from 127.0.0.1:49826 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.692_452+00:00 [61395] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.692_458+00:00 [61395] [INFO] session 9 got connection from 127.0.0.1:49828 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:04:55.692_627+00:00 [61419] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:04:55.692_632+00:00 [61419] [INFO] session 10 got connection from 127.0.0.1:49830 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:05:50.769_623+00:00 [61842] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:05:50.770_960+00:00 [61842] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:05:50.770_997+00:00 [61842] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:05:50.771_001+00:00 [61842] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:05:50.771_025+00:00 [61842] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:05:50.771_029+00:00 [61842] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:05:50.771_032+00:00 [61842] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:05:50.771_063+00:00 [61842] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:05:50.771_205+00:00 [61878] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:05:52.134_355+00:00 [61849] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:05:52.134_377+00:00 [61849] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:05:52.134_414+00:00 [61849] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:05:52.134_440+00:00 [61849] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:05:52.134_455+00:00 [61849] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:05:52.134_466+00:00 [61849] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:05:52.134_515+00:00 [61849] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:05:52.134_646+00:00 [61877] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:05:52.134_709+00:00 [61877] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:05:52.134_735+00:00 [61877] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:05:52.321_963+00:00 [61842] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:05:52.322_375+00:00 [61849] [INFO] 0x5635c5ad58b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:05:52.322_768+00:00 [61849] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:05:52.322_775+00:00 [61849] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:05:52.322_822+00:00 [61877] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:05:52.322_831+00:00 [61877] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:05:52.322_871+00:00 [61877] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:05:52.322_874+00:00 [61877] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:05:52.322_914+00:00 [61877] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:05:52.322_917+00:00 [61877] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:05:52.322_922+00:00 [61877] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:05:52.572_180+00:00 [61842] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:05:52.572_339+00:00 [61849] [INFO] 0x5635c5ad5c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:05:52.572_630+00:00 [61849] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:05:52.572_635+00:00 [61849] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:05:52.572_783+00:00 [61849] [INFO] 0x7efe900018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:05:52.572_928+00:00 [61849] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:05:52.573_124+00:00 [61877] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:05:52.573_139+00:00 [61877] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:05:52.573_190+00:00 [61877] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:05:52.573_193+00:00 [61877] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:05:52.573_230+00:00 [61877] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:05:52.573_234+00:00 [61877] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:05:52.573_241+00:00 [61877] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:05:53.073_511+00:00 [61847] [INFO] 0x5635c5ad58b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:05:53.073_809+00:00 [61847] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:06:12.566_320+00:00 [61876] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.566_336+00:00 [61876] [INFO] session 1 got connection from 127.0.0.1:49880 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.566_420+00:00 [61876] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.566_425+00:00 [61876] [INFO] session 2 got connection from 127.0.0.1:49882 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.566_650+00:00 [61876] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.566_656+00:00 [61876] [INFO] session 3 got connection from 127.0.0.1:49884 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.566_729+00:00 [61876] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.566_733+00:00 [61876] [INFO] session 4 got connection from 127.0.0.1:49886 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.566_878+00:00 [61869] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.566_883+00:00 [61869] [INFO] session 5 got connection from 127.0.0.1:49888 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.566_983+00:00 [61861] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.566_988+00:00 [61861] [INFO] session 6 got connection from 127.0.0.1:49890 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.567_294+00:00 [61864] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.567_301+00:00 [61864] [INFO] session 7 got connection from 127.0.0.1:49892 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.567_380+00:00 [61864] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.567_385+00:00 [61864] [INFO] session 8 got connection from 127.0.0.1:49894 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.567_806+00:00 [61849] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.567_812+00:00 [61849] [INFO] session 9 got connection from 127.0.0.1:49896 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:06:12.567_858+00:00 [61858] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:06:12.567_862+00:00 [61858] [INFO] session 10 got connection from 127.0.0.1:49898 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:07.633_505+00:00 [62301] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:07:07.634_883+00:00 [62301] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:07:07.634_918+00:00 [62301] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:07:07.634_923+00:00 [62301] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:07:07.634_950+00:00 [62301] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:07:07.634_954+00:00 [62301] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:07:07.634_958+00:00 [62301] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:07:07.634_987+00:00 [62301] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:07:07.635_129+00:00 [62337] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:07:09.437_169+00:00 [62308] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:07:09.437_180+00:00 [62308] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:07:09.437_195+00:00 [62308] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:07:09.437_205+00:00 [62308] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:07:09.437_211+00:00 [62308] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:07:09.437_215+00:00 [62308] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:07:09.437_233+00:00 [62308] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:07:09.437_284+00:00 [62336] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:07:09.437_292+00:00 [62336] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:07:09.437_301+00:00 [62336] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:07:09.686_332+00:00 [62301] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:07:09.686_738+00:00 [62308] [INFO] 0x55a02b37f8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:07:09.687_054+00:00 [62308] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:07:09.687_062+00:00 [62308] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:07:09.687_115+00:00 [62336] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:07:09.687_126+00:00 [62336] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:07:09.687_173+00:00 [62336] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:07:09.687_175+00:00 [62336] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:07:09.687_216+00:00 [62336] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:07:09.687_220+00:00 [62336] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:07:09.687_226+00:00 [62336] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:07:09.936_559+00:00 [62301] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:07:09.936_733+00:00 [62308] [INFO] 0x55a02b37fc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:07:09.937_091+00:00 [62308] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:07:09.937_095+00:00 [62308] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:07:09.937_230+00:00 [62308] [INFO] 0x7f84fc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:07:09.937_398+00:00 [62308] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:07:09.937_605+00:00 [62336] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:07:09.937_620+00:00 [62336] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:07:09.937_675+00:00 [62336] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:07:09.937_677+00:00 [62336] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:07:09.937_716+00:00 [62336] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:07:09.937_719+00:00 [62336] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:07:09.937_725+00:00 [62336] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:07:10.437_980+00:00 [62306] [INFO] 0x55a02b37f8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:07:10.438_264+00:00 [62306] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:07:29.179_607+00:00 [62335] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.179_622+00:00 [62335] [INFO] session 1 got connection from 127.0.0.1:49950 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.179_886+00:00 [62326] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.179_894+00:00 [62326] [INFO] session 2 got connection from 127.0.0.1:49952 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.179_988+00:00 [62326] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.179_993+00:00 [62326] [INFO] session 3 got connection from 127.0.0.1:49954 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.180_192+00:00 [62324] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.180_198+00:00 [62324] [INFO] session 4 got connection from 127.0.0.1:49956 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.180_257+00:00 [62324] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.180_261+00:00 [62324] [INFO] session 5 got connection from 127.0.0.1:49958 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.180_347+00:00 [62317] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.180_352+00:00 [62317] [INFO] session 6 got connection from 127.0.0.1:49960 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.180_814+00:00 [62311] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.180_821+00:00 [62311] [INFO] session 7 got connection from 127.0.0.1:49964 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.180_880+00:00 [62311] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.180_885+00:00 [62311] [INFO] session 8 got connection from 127.0.0.1:49966 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.180_978+00:00 [62327] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.180_983+00:00 [62327] [INFO] session 9 got connection from 127.0.0.1:49968 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:07:29.181_047+00:00 [62315] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:07:29.181_052+00:00 [62315] [INFO] session 10 got connection from 127.0.0.1:49972 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:24.257_307+00:00 [62758] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:08:24.258_656+00:00 [62758] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:08:24.258_705+00:00 [62758] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:08:24.258_711+00:00 [62758] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:08:24.258_737+00:00 [62758] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:08:24.258_741+00:00 [62758] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:08:24.258_744+00:00 [62758] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:08:24.258_776+00:00 [62758] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:08:24.258_923+00:00 [62794] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:08:26.118_050+00:00 [62765] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:08:26.118_073+00:00 [62765] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:08:26.118_110+00:00 [62765] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:08:26.118_136+00:00 [62765] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:08:26.118_152+00:00 [62765] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:08:26.118_162+00:00 [62765] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:08:26.118_212+00:00 [62765] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:08:26.118_344+00:00 [62793] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:08:26.118_369+00:00 [62793] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:08:26.118_395+00:00 [62793] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:08:26.310_267+00:00 [62758] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:08:26.310_656+00:00 [62765] [INFO] 0x5628cbc438b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:08:26.310_972+00:00 [62765] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:08:26.310_980+00:00 [62765] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:08:26.311_032+00:00 [62793] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:08:26.311_043+00:00 [62793] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:08:26.311_089+00:00 [62793] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:08:26.311_092+00:00 [62793] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:08:26.311_134+00:00 [62793] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:08:26.311_138+00:00 [62793] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:08:26.311_143+00:00 [62793] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:08:26.560_541+00:00 [62758] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:08:26.560_763+00:00 [62765] [INFO] 0x5628cbc43c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:08:26.561_224+00:00 [62765] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:08:26.561_228+00:00 [62765] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:08:26.561_372+00:00 [62765] [INFO] 0x7f68e80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:08:26.561_551+00:00 [62765] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:08:26.561_759+00:00 [62793] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:08:26.561_773+00:00 [62793] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:08:26.561_826+00:00 [62793] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:08:26.561_828+00:00 [62793] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:08:26.561_869+00:00 [62793] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:08:26.561_872+00:00 [62793] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:08:26.561_879+00:00 [62793] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:08:27.062_124+00:00 [62763] [INFO] 0x5628cbc438b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:08:27.062_422+00:00 [62763] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:08:46.303_941+00:00 [62787] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.303_955+00:00 [62787] [INFO] session 1 got connection from 127.0.0.1:50026 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_256+00:00 [62786] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_263+00:00 [62786] [INFO] session 2 got connection from 127.0.0.1:50028 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_336+00:00 [62786] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_340+00:00 [62786] [INFO] session 3 got connection from 127.0.0.1:50030 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_431+00:00 [62761] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_436+00:00 [62761] [INFO] session 4 got connection from 127.0.0.1:50032 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_525+00:00 [62769] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_530+00:00 [62769] [INFO] session 5 got connection from 127.0.0.1:50034 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_618+00:00 [62775] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_623+00:00 [62775] [INFO] session 6 got connection from 127.0.0.1:50036 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_695+00:00 [62789] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_700+00:00 [62789] [INFO] session 7 got connection from 127.0.0.1:50038 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_771+00:00 [62791] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_776+00:00 [62791] [INFO] session 8 got connection from 127.0.0.1:50040 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_849+00:00 [62765] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_854+00:00 [62765] [INFO] session 9 got connection from 127.0.0.1:50042 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:08:46.304_931+00:00 [62767] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:08:46.304_936+00:00 [62767] [INFO] session 10 got connection from 127.0.0.1:50044 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:09:41.381_060+00:00 [63215] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:09:41.383_062+00:00 [63215] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:09:41.383_094+00:00 [63215] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:09:41.383_102+00:00 [63215] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:09:41.383_126+00:00 [63215] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:09:41.383_131+00:00 [63215] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:09:41.383_134+00:00 [63215] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:09:41.383_164+00:00 [63215] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:09:41.383_647+00:00 [63251] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:09:43.205_433+00:00 [63222] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:09:43.205_455+00:00 [63222] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:09:43.205_491+00:00 [63222] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:09:43.205_517+00:00 [63222] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:09:43.205_532+00:00 [63222] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:09:43.205_543+00:00 [63222] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:09:43.205_591+00:00 [63222] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:09:43.205_721+00:00 [63250] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:09:43.205_747+00:00 [63250] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:09:43.205_773+00:00 [63250] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:09:43.434_147+00:00 [63215] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:09:43.434_522+00:00 [63222] [INFO] 0x55d4527cf8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:09:43.434_841+00:00 [63222] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:09:43.434_854+00:00 [63222] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:09:43.434_920+00:00 [63250] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:09:43.434_936+00:00 [63250] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:09:43.435_003+00:00 [63250] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:09:43.435_007+00:00 [63250] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:09:43.435_057+00:00 [63250] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:09:43.435_061+00:00 [63250] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:09:43.435_067+00:00 [63250] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:09:43.684_361+00:00 [63215] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:09:43.684_520+00:00 [63222] [INFO] 0x55d4527cfc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:09:43.684_870+00:00 [63222] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:09:43.684_875+00:00 [63222] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:09:43.685_017+00:00 [63222] [INFO] 0x7fb6080018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:09:43.685_358+00:00 [63222] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:09:43.685_567+00:00 [63250] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:09:43.685_583+00:00 [63250] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:09:43.685_632+00:00 [63250] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:09:43.685_634+00:00 [63250] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:09:43.685_673+00:00 [63250] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:09:43.685_677+00:00 [63250] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:09:43.685_684+00:00 [63250] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:09:44.185_959+00:00 [63249] [INFO] 0x55d4527cf8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:09:44.186_172+00:00 [63249] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:10:03.429_419+00:00 [63248] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.429_434+00:00 [63248] [INFO] session 1 got connection from 127.0.0.1:50104 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.429_587+00:00 [63233] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.429_597+00:00 [63233] [INFO] session 2 got connection from 127.0.0.1:50106 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.429_821+00:00 [63233] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.429_827+00:00 [63233] [INFO] session 3 got connection from 127.0.0.1:50108 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.429_893+00:00 [63233] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.429_898+00:00 [63233] [INFO] session 4 got connection from 127.0.0.1:50110 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.430_000+00:00 [63223] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.430_005+00:00 [63223] [INFO] session 5 got connection from 127.0.0.1:50112 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.430_090+00:00 [63224] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.430_095+00:00 [63224] [INFO] session 6 got connection from 127.0.0.1:50114 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.430_172+00:00 [63226] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.430_177+00:00 [63226] [INFO] session 7 got connection from 127.0.0.1:50116 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.430_258+00:00 [63219] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.430_263+00:00 [63219] [INFO] session 8 got connection from 127.0.0.1:50118 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.430_342+00:00 [63229] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.430_347+00:00 [63229] [INFO] session 9 got connection from 127.0.0.1:50120 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:03.430_421+00:00 [63236] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:10:03.430_425+00:00 [63236] [INFO] session 10 got connection from 127.0.0.1:50122 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:10:58.508_873+00:00 [63688] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:10:58.510_201+00:00 [63688] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:10:58.510_230+00:00 [63688] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:10:58.510_239+00:00 [63688] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:10:58.510_263+00:00 [63688] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:10:58.510_267+00:00 [63688] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:10:58.510_270+00:00 [63688] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:10:58.510_301+00:00 [63688] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:10:58.510_440+00:00 [63724] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:10:59.782_568+00:00 [63695] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:10:59.782_595+00:00 [63695] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:10:59.782_632+00:00 [63695] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:10:59.782_659+00:00 [63695] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:10:59.782_715+00:00 [63695] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:10:59.782_726+00:00 [63695] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:10:59.782_776+00:00 [63695] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:10:59.782_914+00:00 [63723] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:10:59.782_942+00:00 [63723] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:10:59.782_968+00:00 [63723] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:10:59.811_269+00:00 [63688] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:10:59.811_945+00:00 [63695] [INFO] 0x55fbfe6468b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:10:59.812_339+00:00 [63695] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:10:59.812_346+00:00 [63695] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:10:59.812_392+00:00 [63723] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:10:59.812_403+00:00 [63723] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:10:59.812_451+00:00 [63723] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:10:59.812_453+00:00 [63723] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:10:59.812_494+00:00 [63723] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:10:59.812_497+00:00 [63723] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:10:59.812_503+00:00 [63723] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:11:00.061_522+00:00 [63688] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:11:00.061_731+00:00 [63695] [INFO] 0x55fbfe646c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:11:00.062_087+00:00 [63695] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:11:00.062_092+00:00 [63695] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:11:00.062_230+00:00 [63695] [INFO] 0x7f9d1c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:11:00.062_403+00:00 [63695] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:11:00.062_615+00:00 [63723] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:11:00.062_631+00:00 [63723] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:11:00.062_712+00:00 [63723] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:11:00.062_715+00:00 [63723] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:11:00.062_756+00:00 [63723] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:11:00.062_760+00:00 [63723] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:11:00.062_768+00:00 [63723] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:11:00.563_018+00:00 [63693] [INFO] 0x55fbfe6468b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:11:00.563_284+00:00 [63693] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:11:20.304_905+00:00 [63691] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.304_920+00:00 [63691] [INFO] session 1 got connection from 127.0.0.1:50196 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_002+00:00 [63691] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_007+00:00 [63691] [INFO] session 2 got connection from 127.0.0.1:50198 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_152+00:00 [63715] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_158+00:00 [63715] [INFO] session 3 got connection from 127.0.0.1:50200 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_215+00:00 [63715] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_219+00:00 [63715] [INFO] session 4 got connection from 127.0.0.1:50202 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_464+00:00 [63715] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_470+00:00 [63715] [INFO] session 5 got connection from 127.0.0.1:50204 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_526+00:00 [63715] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_530+00:00 [63715] [INFO] session 6 got connection from 127.0.0.1:50206 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_616+00:00 [63719] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_621+00:00 [63719] [INFO] session 7 got connection from 127.0.0.1:50208 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_707+00:00 [63712] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_712+00:00 [63712] [INFO] session 8 got connection from 127.0.0.1:50210 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_784+00:00 [63693] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_789+00:00 [63693] [INFO] session 9 got connection from 127.0.0.1:50212 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:11:20.305_872+00:00 [63703] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:11:20.305_877+00:00 [63703] [INFO] session 10 got connection from 127.0.0.1:50214 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:13:56.762_371+00:00 [64547] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:13:56.763_745+00:00 [64547] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:13:56.763_775+00:00 [64547] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:13:56.763_782+00:00 [64547] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:13:56.763_805+00:00 [64547] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:13:56.763_809+00:00 [64547] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:13:56.763_811+00:00 [64547] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:13:56.763_843+00:00 [64547] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:13:56.764_322+00:00 [64583] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:13:58.089_031+00:00 [64554] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:13:58.089_043+00:00 [64554] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:13:58.089_057+00:00 [64554] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:13:58.089_068+00:00 [64554] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:13:58.089_074+00:00 [64554] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:13:58.089_078+00:00 [64554] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:13:58.089_097+00:00 [64554] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:13:58.089_483+00:00 [64582] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:13:58.089_496+00:00 [64582] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:13:58.089_508+00:00 [64582] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:13:58.315_202+00:00 [64547] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:13:58.315_552+00:00 [64554] [INFO] 0x56043ece88b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:13:58.315_848+00:00 [64554] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:13:58.315_855+00:00 [64554] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:13:58.315_905+00:00 [64582] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:13:58.315_915+00:00 [64582] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:13:58.315_962+00:00 [64582] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:13:58.315_964+00:00 [64582] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:13:58.316_003+00:00 [64582] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:13:58.316_007+00:00 [64582] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:13:58.316_012+00:00 [64582] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:13:58.565_431+00:00 [64547] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:13:58.565_623+00:00 [64554] [INFO] 0x56043ece8c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:13:58.566_083+00:00 [64554] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:13:58.566_088+00:00 [64554] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:13:58.566_233+00:00 [64554] [INFO] 0x7eff140018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:13:58.566_410+00:00 [64554] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:13:58.566_623+00:00 [64582] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:13:58.566_638+00:00 [64582] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:13:58.566_711+00:00 [64582] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:13:58.566_714+00:00 [64582] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:13:58.566_755+00:00 [64582] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:13:58.566_759+00:00 [64582] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:13:58.566_767+00:00 [64582] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:13:59.067_325+00:00 [64552] [INFO] 0x56043ece88b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:13:59.067_586+00:00 [64552] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:14:18.557_817+00:00 [64581] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:14:18.557_831+00:00 [64581] [INFO] session 1 got connection from 127.0.0.1:50278 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:14:18.558_145+00:00 [64577] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:14:18.558_152+00:00 [64577] [INFO] session 2 got connection from 127.0.0.1:50280 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:15:13.626_597+00:00 [64950] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:15:13.627_974+00:00 [64950] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:15:13.628_006+00:00 [64950] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:15:13.628_012+00:00 [64950] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:15:13.628_035+00:00 [64950] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:15:13.628_039+00:00 [64950] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:15:13.628_042+00:00 [64950] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:15:13.628_071+00:00 [64950] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:15:13.628_211+00:00 [64986] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:15:14.798_281+00:00 [64957] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:15:14.798_292+00:00 [64957] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:15:14.798_306+00:00 [64957] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:15:14.798_316+00:00 [64957] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:15:14.798_323+00:00 [64957] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:15:14.798_327+00:00 [64957] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:15:14.798_345+00:00 [64957] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:15:14.798_397+00:00 [64985] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:15:14.798_405+00:00 [64985] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:15:14.798_414+00:00 [64985] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:15:14.928_931+00:00 [64950] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:15:14.929_228+00:00 [64957] [INFO] 0x555eda6da8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:15:14.929_523+00:00 [64957] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:15:14.929_530+00:00 [64957] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:15:14.929_583+00:00 [64985] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:15:14.929_594+00:00 [64985] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:15:14.929_642+00:00 [64985] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:15:14.929_645+00:00 [64985] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:15:14.929_687+00:00 [64985] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:15:14.929_691+00:00 [64985] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:15:14.929_697+00:00 [64985] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:15:15.179_224+00:00 [64950] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:15:15.179_453+00:00 [64957] [INFO] 0x555eda6dac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:15:15.179_836+00:00 [64957] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:15:15.179_840+00:00 [64957] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:15:15.179_979+00:00 [64957] [INFO] 0x7f88cc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:15:15.180_146+00:00 [64957] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:15:15.180_359+00:00 [64985] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:15:15.180_374+00:00 [64985] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:15:15.180_426+00:00 [64985] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:15:15.180_429+00:00 [64985] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:15:15.180_468+00:00 [64985] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:15:15.180_472+00:00 [64985] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:15:15.180_480+00:00 [64985] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:15:15.680_743+00:00 [64955] [INFO] 0x555eda6da8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:15:15.680_963+00:00 [64955] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:15:35.677_561+00:00 [64956] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:15:35.677_576+00:00 [64956] [INFO] session 1 got connection from 127.0.0.1:50324 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:15:35.677_708+00:00 [64955] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:15:35.677_715+00:00 [64955] [INFO] session 2 got connection from 127.0.0.1:50326 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:15:35.677_775+00:00 [64955] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:15:35.677_779+00:00 [64955] [INFO] session 3 got connection from 127.0.0.1:50328 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:15:35.678_245+00:00 [64958] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:15:35.678_252+00:00 [64958] [INFO] session 4 got connection from 127.0.0.1:50332 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:16:30.742_216+00:00 [65405] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:16:30.743_592+00:00 [65405] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:16:30.743_623+00:00 [65405] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:16:30.743_628+00:00 [65405] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:16:30.743_652+00:00 [65405] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:16:30.743_656+00:00 [65405] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:16:30.743_660+00:00 [65405] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:16:30.743_695+00:00 [65405] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:16:30.743_833+00:00 [65441] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:16:32.200_913+00:00 [65412] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:16:32.200_923+00:00 [65412] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:16:32.200_937+00:00 [65412] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:16:32.200_953+00:00 [65412] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:16:32.200_959+00:00 [65412] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:16:32.200_963+00:00 [65412] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:16:32.200_981+00:00 [65412] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:16:32.201_030+00:00 [65440] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:16:32.201_038+00:00 [65440] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:16:32.201_047+00:00 [65440] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:16:32.294_719+00:00 [65405] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:16:32.295_143+00:00 [65412] [INFO] 0x55a42ba6b8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:16:32.295_450+00:00 [65412] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:16:32.295_458+00:00 [65412] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:16:32.295_513+00:00 [65440] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:16:32.295_524+00:00 [65440] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:16:32.295_573+00:00 [65440] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:16:32.295_576+00:00 [65440] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:16:32.295_622+00:00 [65440] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:16:32.295_626+00:00 [65440] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:16:32.295_632+00:00 [65440] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:16:32.544_959+00:00 [65405] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:16:32.545_140+00:00 [65412] [INFO] 0x55a42ba6bc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:16:32.545_610+00:00 [65412] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:16:32.545_614+00:00 [65412] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:16:32.545_751+00:00 [65412] [INFO] 0x7f1ea40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:16:32.545_924+00:00 [65412] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:16:32.546_133+00:00 [65440] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:16:32.546_148+00:00 [65440] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:16:32.546_198+00:00 [65440] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:16:32.546_201+00:00 [65440] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:16:32.546_240+00:00 [65440] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:16:32.546_244+00:00 [65440] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:16:32.546_251+00:00 [65440] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:16:33.046_534+00:00 [65410] [INFO] 0x55a42ba6b8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:16:33.046_817+00:00 [65410] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:16:52.787_977+00:00 [65425] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:16:52.787_991+00:00 [65425] [INFO] session 1 got connection from 127.0.0.1:50388 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:16:52.788_243+00:00 [65425] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:16:52.788_250+00:00 [65425] [INFO] session 2 got connection from 127.0.0.1:50390 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:16:52.788_316+00:00 [65425] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:16:52.788_321+00:00 [65425] [INFO] session 3 got connection from 127.0.0.1:50392 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:16:52.788_448+00:00 [65412] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:16:52.788_454+00:00 [65412] [INFO] session 4 got connection from 127.0.0.1:50394 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:16:52.788_581+00:00 [65429] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:16:52.788_586+00:00 [65429] [INFO] session 5 got connection from 127.0.0.1:50396 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:16:52.788_753+00:00 [65431] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:16:52.788_758+00:00 [65431] [INFO] session 6 got connection from 127.0.0.1:50398 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:16:53.045_306+00:00 [65421] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:16:53.045_317+00:00 [65421] [INFO] session 7 got connection from 127.0.0.1:50400 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:17:47.865_789+00:00 [65856] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:17:47.867_145+00:00 [65856] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:17:47.867_177+00:00 [65856] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:17:47.867_181+00:00 [65856] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:17:47.867_204+00:00 [65856] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:17:47.867_208+00:00 [65856] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:17:47.867_211+00:00 [65856] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:17:47.867_238+00:00 [65856] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:17:47.867_378+00:00 [65892] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:17:49.726_499+00:00 [65863] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:17:49.726_532+00:00 [65863] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:17:49.726_569+00:00 [65863] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:17:49.726_608+00:00 [65863] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:17:49.726_623+00:00 [65863] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:17:49.726_635+00:00 [65863] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:17:49.726_731+00:00 [65863] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:17:49.726_884+00:00 [65891] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:17:49.726_912+00:00 [65891] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:17:49.726_939+00:00 [65891] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:17:49.919_239+00:00 [65856] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:17:49.919_570+00:00 [65863] [INFO] 0x5624ff62e8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:17:49.919_867+00:00 [65863] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:17:49.919_874+00:00 [65863] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:17:49.919_923+00:00 [65891] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:17:49.919_933+00:00 [65891] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:17:49.919_977+00:00 [65891] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:17:49.919_979+00:00 [65891] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:17:49.920_019+00:00 [65891] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:17:49.920_023+00:00 [65891] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:17:49.920_028+00:00 [65891] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:17:50.169_643+00:00 [65856] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:17:50.170_005+00:00 [65863] [INFO] 0x5624ff62ec60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:17:50.170_424+00:00 [65863] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:17:50.170_428+00:00 [65863] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:17:50.170_574+00:00 [65863] [INFO] 0x7fdff00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:17:50.170_763+00:00 [65863] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:17:50.170_973+00:00 [65891] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:17:50.170_988+00:00 [65891] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:17:50.171_039+00:00 [65891] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:17:50.171_042+00:00 [65891] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:17:50.171_080+00:00 [65891] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:17:50.171_084+00:00 [65891] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:17:50.171_091+00:00 [65891] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:17:50.671_671+00:00 [65861] [INFO] 0x5624ff62e8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:17:50.671_942+00:00 [65861] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:18:09.911_670+00:00 [65889] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.911_685+00:00 [65889] [INFO] session 1 got connection from 127.0.0.1:50454 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:18:09.911_834+00:00 [65882] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.911_840+00:00 [65882] [INFO] session 2 got connection from 127.0.0.1:50456 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:18:09.912_067+00:00 [65882] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.912_073+00:00 [65882] [INFO] session 3 got connection from 127.0.0.1:50458 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:18:09.912_132+00:00 [65882] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.912_137+00:00 [65882] [INFO] session 4 got connection from 127.0.0.1:50460 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:18:09.912_220+00:00 [65863] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.912_225+00:00 [65863] [INFO] session 5 got connection from 127.0.0.1:50462 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:18:09.912_309+00:00 [65881] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.912_314+00:00 [65881] [INFO] session 6 got connection from 127.0.0.1:50464 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:18:09.912_444+00:00 [65876] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.912_450+00:00 [65876] [INFO] session 7 got connection from 127.0.0.1:50466 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:18:09.912_625+00:00 [65890] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:18:09.912_630+00:00 [65890] [INFO] session 8 got connection from 127.0.0.1:50468 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:04.987_222+00:00 [66313] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:19:04.988_571+00:00 [66313] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:19:04.988_606+00:00 [66313] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:19:04.988_612+00:00 [66313] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:19:04.988_635+00:00 [66313] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:19:04.988_639+00:00 [66313] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:19:04.988_641+00:00 [66313] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:19:04.988_674+00:00 [66313] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:19:04.988_811+00:00 [66349] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:19:06.646_899+00:00 [66320] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:19:06.646_910+00:00 [66320] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:19:06.646_925+00:00 [66320] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:19:06.646_935+00:00 [66320] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:19:06.646_942+00:00 [66320] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:19:06.646_946+00:00 [66320] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:19:06.646_964+00:00 [66320] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:19:06.647_015+00:00 [66348] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:19:06.647_024+00:00 [66348] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:19:06.647_033+00:00 [66348] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:19:06.789_762+00:00 [66313] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:19:06.790_128+00:00 [66320] [INFO] 0x561a95cb88b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:19:06.790_455+00:00 [66320] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:19:06.790_463+00:00 [66320] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:19:06.790_515+00:00 [66348] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:19:06.790_526+00:00 [66348] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:19:06.790_574+00:00 [66348] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:19:06.790_576+00:00 [66348] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:19:06.790_618+00:00 [66348] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:19:06.790_622+00:00 [66348] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:19:06.790_627+00:00 [66348] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:19:07.040_260+00:00 [66313] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:19:07.040_549+00:00 [66320] [INFO] 0x561a95cb8c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:19:07.040_902+00:00 [66320] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:19:07.040_907+00:00 [66320] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:19:07.041_049+00:00 [66320] [INFO] 0x7f50400018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:19:07.041_219+00:00 [66320] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:19:07.041_419+00:00 [66348] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:19:07.041_434+00:00 [66348] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:19:07.041_487+00:00 [66348] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:19:07.041_490+00:00 [66348] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:19:07.041_529+00:00 [66348] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:19:07.041_533+00:00 [66348] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:19:07.041_540+00:00 [66348] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:19:07.541_762+00:00 [66318] [INFO] 0x561a95cb88b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:19:07.541_947+00:00 [66318] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:19:26.783_928+00:00 [66347] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.783_942+00:00 [66347] [INFO] session 1 got connection from 127.0.0.1:50518 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_027+00:00 [66347] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_032+00:00 [66347] [INFO] session 2 got connection from 127.0.0.1:50520 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_310+00:00 [66333] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_316+00:00 [66333] [INFO] session 3 got connection from 127.0.0.1:50522 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_375+00:00 [66333] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_379+00:00 [66333] [INFO] session 4 got connection from 127.0.0.1:50524 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_473+00:00 [66326] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_478+00:00 [66326] [INFO] session 5 got connection from 127.0.0.1:50526 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_565+00:00 [66328] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_570+00:00 [66328] [INFO] session 6 got connection from 127.0.0.1:50528 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_672+00:00 [66334] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_679+00:00 [66334] [INFO] session 7 got connection from 127.0.0.1:50530 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_776+00:00 [66342] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_781+00:00 [66342] [INFO] session 8 got connection from 127.0.0.1:50534 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.784_851+00:00 [66319] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.784_856+00:00 [66319] [INFO] session 9 got connection from 127.0.0.1:50538 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:19:26.785_036+00:00 [66332] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:19:26.785_042+00:00 [66332] [INFO] session 10 got connection from 127.0.0.1:50540 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:21.850_403+00:00 [66763] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:20:21.851_796+00:00 [66763] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:20:21.851_827+00:00 [66763] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:20:21.851_831+00:00 [66763] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:20:21.851_855+00:00 [66763] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:20:21.851_859+00:00 [66763] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:20:21.851_862+00:00 [66763] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:20:21.851_897+00:00 [66763] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:20:21.852_041+00:00 [66799] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:20:23.441_046+00:00 [66770] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:20:23.441_058+00:00 [66770] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:20:23.441_072+00:00 [66770] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:20:23.441_088+00:00 [66770] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:20:23.441_094+00:00 [66770] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:20:23.441_097+00:00 [66770] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:20:23.441_113+00:00 [66770] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:20:23.441_154+00:00 [66798] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:20:23.441_161+00:00 [66798] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:20:23.441_169+00:00 [66798] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:20:23.652_899+00:00 [66763] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:20:23.653_226+00:00 [66770] [INFO] 0x55a00a4c38b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:20:23.653_517+00:00 [66770] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:20:23.653_525+00:00 [66770] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:20:23.653_577+00:00 [66798] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:20:23.653_588+00:00 [66798] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:20:23.653_633+00:00 [66798] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:20:23.653_635+00:00 [66798] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:20:23.653_678+00:00 [66798] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:20:23.653_682+00:00 [66798] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:20:23.653_687+00:00 [66798] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:20:23.903_391+00:00 [66763] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:20:23.903_737+00:00 [66770] [INFO] 0x55a00a4c3c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:20:23.904_122+00:00 [66770] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:20:23.904_126+00:00 [66770] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:20:23.904_270+00:00 [66770] [INFO] 0x7f00800018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:20:23.904_436+00:00 [66770] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:20:23.904_639+00:00 [66798] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:20:23.904_653+00:00 [66798] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:20:23.904_708+00:00 [66798] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:20:23.904_710+00:00 [66798] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:20:23.904_749+00:00 [66798] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:20:23.904_753+00:00 [66798] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:20:23.904_760+00:00 [66798] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:20:24.405_019+00:00 [66768] [INFO] 0x55a00a4c38b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:20:24.405_207+00:00 [66768] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:20:43.146_647+00:00 [66796] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.146_674+00:00 [66796] [INFO] session 1 got connection from 127.0.0.1:50584 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.146_832+00:00 [66777] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.146_838+00:00 [66777] [INFO] session 2 got connection from 127.0.0.1:50586 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.146_899+00:00 [66777] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.146_903+00:00 [66777] [INFO] session 3 got connection from 127.0.0.1:50588 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.147_196+00:00 [66778] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.147_203+00:00 [66778] [INFO] session 4 got connection from 127.0.0.1:50590 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.147_262+00:00 [66778] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.147_266+00:00 [66778] [INFO] session 5 got connection from 127.0.0.1:50592 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.147_395+00:00 [66771] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.147_400+00:00 [66771] [INFO] session 6 got connection from 127.0.0.1:50594 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.147_492+00:00 [66773] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.147_497+00:00 [66773] [INFO] session 7 got connection from 127.0.0.1:50596 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.147_582+00:00 [66776] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.147_586+00:00 [66776] [INFO] session 8 got connection from 127.0.0.1:50598 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.147_656+00:00 [66767] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.147_662+00:00 [66767] [INFO] session 9 got connection from 127.0.0.1:50600 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:20:43.147_735+00:00 [66770] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:20:43.147_740+00:00 [66770] [INFO] session 10 got connection from 127.0.0.1:50602 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:21:38.222_618+00:00 [67214] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:21:38.223_991+00:00 [67214] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:21:38.224_026+00:00 [67214] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:21:38.224_031+00:00 [67214] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:21:38.224_058+00:00 [67214] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:21:38.224_062+00:00 [67214] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:21:38.224_064+00:00 [67214] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:21:38.224_096+00:00 [67214] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:21:38.224_239+00:00 [67250] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:21:39.857_279+00:00 [67221] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:21:39.857_291+00:00 [67221] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:21:39.857_307+00:00 [67221] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:21:39.857_318+00:00 [67221] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:21:39.857_325+00:00 [67221] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:21:39.857_328+00:00 [67221] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:21:39.857_347+00:00 [67221] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:21:39.857_395+00:00 [67249] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:21:39.857_403+00:00 [67249] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:21:39.857_412+00:00 [67249] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:21:40.025_430+00:00 [67214] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:21:40.025_847+00:00 [67221] [INFO] 0x55eb94eed8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:21:40.026_229+00:00 [67221] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:21:40.026_237+00:00 [67221] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:21:40.026_289+00:00 [67249] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:21:40.026_299+00:00 [67249] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:21:40.026_344+00:00 [67249] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:21:40.026_346+00:00 [67249] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:21:40.026_390+00:00 [67249] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:21:40.026_393+00:00 [67249] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:21:40.026_399+00:00 [67249] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:21:40.275_671+00:00 [67214] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:21:40.275_861+00:00 [67221] [INFO] 0x55eb94eedc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:21:40.276_215+00:00 [67221] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:21:40.276_219+00:00 [67221] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:21:40.276_356+00:00 [67221] [INFO] 0x7f36080018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:21:40.276_524+00:00 [67221] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:21:40.276_738+00:00 [67249] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:21:40.276_757+00:00 [67249] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:21:40.276_826+00:00 [67249] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:21:40.276_828+00:00 [67249] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:21:40.276_868+00:00 [67249] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:21:40.276_872+00:00 [67249] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:21:40.276_879+00:00 [67249] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:21:40.777_125+00:00 [67219] [INFO] 0x55eb94eed8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:21:40.777_289+00:00 [67219] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:22:00.268_901+00:00 [67244] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.268_916+00:00 [67244] [INFO] session 1 got connection from 127.0.0.1:50662 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.269_245+00:00 [67238] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.269_252+00:00 [67238] [INFO] session 2 got connection from 127.0.0.1:50664 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.269_314+00:00 [67238] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.269_319+00:00 [67238] [INFO] session 3 got connection from 127.0.0.1:50666 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.269_553+00:00 [67225] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.269_559+00:00 [67225] [INFO] session 4 got connection from 127.0.0.1:50668 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.269_921+00:00 [67228] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.269_927+00:00 [67228] [INFO] session 5 got connection from 127.0.0.1:50670 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.269_974+00:00 [67228] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.269_977+00:00 [67228] [INFO] session 6 got connection from 127.0.0.1:50672 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.270_217+00:00 [67236] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.270_223+00:00 [67236] [INFO] session 7 got connection from 127.0.0.1:50674 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.270_274+00:00 [67236] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.270_278+00:00 [67236] [INFO] session 8 got connection from 127.0.0.1:50676 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.270_350+00:00 [67218] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.270_354+00:00 [67218] [INFO] session 9 got connection from 127.0.0.1:50678 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:00.270_396+00:00 [67224] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:22:00.270_400+00:00 [67224] [INFO] session 10 got connection from 127.0.0.1:50680 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:22:55.343_191+00:00 [67676] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:22:55.344_530+00:00 [67676] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:22:55.344_562+00:00 [67676] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:22:55.344_568+00:00 [67676] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:22:55.344_591+00:00 [67676] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:22:55.344_596+00:00 [67676] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:22:55.344_599+00:00 [67676] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:22:55.344_631+00:00 [67676] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:22:55.344_774+00:00 [67712] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:22:56.773_759+00:00 [67683] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:22:56.773_768+00:00 [67683] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:22:56.773_783+00:00 [67683] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:22:56.773_796+00:00 [67683] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:22:56.773_802+00:00 [67683] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:22:56.773_806+00:00 [67683] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:22:56.773_831+00:00 [67683] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:22:56.773_894+00:00 [67711] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:22:56.773_903+00:00 [67711] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:22:56.773_912+00:00 [67711] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:22:56.895_820+00:00 [67676] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:22:56.896_335+00:00 [67683] [INFO] 0x55bb400a28b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:22:56.896_665+00:00 [67683] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:22:56.896_672+00:00 [67683] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:22:56.896_720+00:00 [67711] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:22:56.896_731+00:00 [67711] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:22:56.896_779+00:00 [67711] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:22:56.896_781+00:00 [67711] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:22:56.896_822+00:00 [67711] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:22:56.896_825+00:00 [67711] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:22:56.896_831+00:00 [67711] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:22:57.146_286+00:00 [67676] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:22:57.146_586+00:00 [67683] [INFO] 0x55bb400a2c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:22:57.147_022+00:00 [67683] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:22:57.147_026+00:00 [67683] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:22:57.147_165+00:00 [67683] [INFO] 0x7ff1640018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:22:57.147_336+00:00 [67683] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:22:57.147_520+00:00 [67711] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:22:57.147_532+00:00 [67711] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:22:57.147_575+00:00 [67711] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:22:57.147_577+00:00 [67711] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:22:57.147_609+00:00 [67711] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:22:57.147_613+00:00 [67711] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:22:57.147_618+00:00 [67711] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:22:57.647_860+00:00 [67681] [INFO] 0x55bb400a28b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:22:57.648_136+00:00 [67681] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:23:16.639_241+00:00 [67703] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.639_255+00:00 [67703] [INFO] session 1 got connection from 127.0.0.1:50742 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.639_496+00:00 [67697] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.639_502+00:00 [67697] [INFO] session 2 got connection from 127.0.0.1:50746 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.639_566+00:00 [67697] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.639_570+00:00 [67697] [INFO] session 3 got connection from 127.0.0.1:50748 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.639_695+00:00 [67705] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.639_701+00:00 [67705] [INFO] session 4 got connection from 127.0.0.1:50750 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.639_757+00:00 [67705] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.639_762+00:00 [67705] [INFO] session 5 got connection from 127.0.0.1:50752 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.639_868+00:00 [67707] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.639_873+00:00 [67707] [INFO] session 6 got connection from 127.0.0.1:50754 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.639_924+00:00 [67707] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.639_927+00:00 [67707] [INFO] session 7 got connection from 127.0.0.1:50756 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.640_025+00:00 [67709] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.640_031+00:00 [67709] [INFO] session 8 got connection from 127.0.0.1:50758 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.640_078+00:00 [67709] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.640_081+00:00 [67709] [INFO] session 9 got connection from 127.0.0.1:50760 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:23:16.640_183+00:00 [67684] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:23:16.640_188+00:00 [67684] [INFO] session 10 got connection from 127.0.0.1:50764 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:11.699_495+00:00 [68134] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:24:11.700_848+00:00 [68134] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:24:11.700_879+00:00 [68134] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:24:11.700_883+00:00 [68134] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:24:11.700_906+00:00 [68134] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:24:11.700_909+00:00 [68134] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:24:11.700_912+00:00 [68134] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:24:11.700_940+00:00 [68134] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:24:11.701_081+00:00 [68170] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:24:12.844_288+00:00 [68141] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:24:12.844_311+00:00 [68141] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:24:12.844_348+00:00 [68141] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:24:12.844_375+00:00 [68141] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:24:12.844_390+00:00 [68141] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:24:12.844_400+00:00 [68141] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:24:12.844_448+00:00 [68141] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:24:12.844_537+00:00 [68169] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:24:12.844_545+00:00 [68169] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:24:12.844_554+00:00 [68169] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:24:13.002_229+00:00 [68134] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:24:13.002_738+00:00 [68141] [INFO] 0x561f3c42c8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:24:13.003_094+00:00 [68141] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:24:13.003_103+00:00 [68141] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:24:13.003_155+00:00 [68169] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:24:13.003_166+00:00 [68169] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:24:13.003_214+00:00 [68169] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:24:13.003_217+00:00 [68169] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:24:13.003_261+00:00 [68169] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:24:13.003_265+00:00 [68169] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:24:13.003_271+00:00 [68169] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:24:13.252_461+00:00 [68134] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:24:13.252_647+00:00 [68141] [INFO] 0x561f3c42cc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:24:13.252_992+00:00 [68141] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:24:13.252_997+00:00 [68141] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:24:13.253_137+00:00 [68141] [INFO] 0x7ff6240018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:24:13.253_300+00:00 [68141] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:24:13.253_509+00:00 [68169] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:24:13.253_524+00:00 [68169] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:24:13.253_570+00:00 [68169] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:24:13.253_572+00:00 [68169] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:24:13.253_612+00:00 [68169] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:24:13.253_616+00:00 [68169] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:24:13.253_623+00:00 [68169] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:24:13.753_822+00:00 [68139] [INFO] 0x561f3c42c8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:24:13.754_123+00:00 [68139] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:24:33.000_713+00:00 [68137] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.000_727+00:00 [68137] [INFO] session 1 got connection from 127.0.0.1:50832 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.000_821+00:00 [68137] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.000_827+00:00 [68137] [INFO] session 2 got connection from 127.0.0.1:50834 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_140+00:00 [68158] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_148+00:00 [68158] [INFO] session 3 got connection from 127.0.0.1:50836 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_214+00:00 [68158] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_219+00:00 [68158] [INFO] session 4 got connection from 127.0.0.1:50840 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_344+00:00 [68145] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_350+00:00 [68145] [INFO] session 5 got connection from 127.0.0.1:50842 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_443+00:00 [68144] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_449+00:00 [68144] [INFO] session 6 got connection from 127.0.0.1:50844 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_523+00:00 [68146] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_529+00:00 [68146] [INFO] session 7 got connection from 127.0.0.1:50846 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_766+00:00 [68146] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_773+00:00 [68146] [INFO] session 8 got connection from 127.0.0.1:50848 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_832+00:00 [68146] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_837+00:00 [68146] [INFO] session 9 got connection from 127.0.0.1:50852 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:24:33.001_901+00:00 [68162] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:24:33.001_906+00:00 [68162] [INFO] session 10 got connection from 127.0.0.1:50854 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:28.078_543+00:00 [68668] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-29T06:25:28.079_913+00:00 [68668] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-29T06:25:28.079_949+00:00 [68668] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-29T06:25:28.079_953+00:00 [68668] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-29T06:25:28.079_979+00:00 [68668] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-29T06:25:28.079_983+00:00 [68668] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-29T06:25:28.079_986+00:00 [68668] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-29T06:25:28.080_021+00:00 [68668] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-29T06:25:28.080_170+00:00 [68704] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-29T06:25:30.034_247+00:00 [68675] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-29T06:25:30.034_257+00:00 [68675] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-29T06:25:30.034_272+00:00 [68675] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-29T06:25:30.034_282+00:00 [68675] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-29T06:25:30.034_289+00:00 [68675] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-29T06:25:30.034_292+00:00 [68675] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-29T06:25:30.034_310+00:00 [68675] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-29T06:25:30.034_359+00:00 [68703] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:25:30.034_367+00:00 [68703] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:25:30.034_376+00:00 [68703] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:25:30.131_095+00:00 [68668] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:25:30.131_510+00:00 [68675] [INFO] 0x5623bf4818b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:25:30.131_879+00:00 [68675] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:25:30.131_886+00:00 [68675] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:25:30.131_935+00:00 [68703] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:25:30.131_946+00:00 [68703] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:25:30.131_993+00:00 [68703] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:25:30.131_995+00:00 [68703] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:25:30.132_038+00:00 [68703] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:25:30.132_042+00:00 [68703] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:25:30.132_048+00:00 [68703] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:25:30.381_309+00:00 [68668] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-29T06:25:30.381_475+00:00 [68675] [INFO] 0x5623bf481c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:25:30.381_888+00:00 [68675] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-29T06:25:30.381_892+00:00 [68675] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-29T06:25:30.382_027+00:00 [68675] [INFO] 0x7f8a900018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:25:30.382_190+00:00 [68675] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:25:30.382_395+00:00 [68703] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-29T06:25:30.382_409+00:00 [68703] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-29T06:25:30.382_459+00:00 [68703] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-29T06:25:30.382_461+00:00 [68703] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-29T06:25:30.382_495+00:00 [68703] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-29T06:25:30.382_498+00:00 [68703] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-29T06:25:30.382_504+00:00 [68703] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-29T06:25:30.883_174+00:00 [68673] [INFO] 0x5623bf4818b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-29T06:25:30.883_392+00:00 [68673] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-29T06:25:49.624_873+00:00 [68700] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.624_887+00:00 [68700] [INFO] session 1 got connection from 127.0.0.1:50926 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_029+00:00 [68681] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_035+00:00 [68681] [INFO] session 2 got connection from 127.0.0.1:50928 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_095+00:00 [68681] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_099+00:00 [68681] [INFO] session 3 got connection from 127.0.0.1:50930 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_393+00:00 [68684] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_401+00:00 [68684] [INFO] session 4 got connection from 127.0.0.1:50934 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_457+00:00 [68684] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_462+00:00 [68684] [INFO] session 5 got connection from 127.0.0.1:50936 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_541+00:00 [68701] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_546+00:00 [68701] [INFO] session 6 got connection from 127.0.0.1:50938 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_625+00:00 [68671] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_630+00:00 [68671] [INFO] session 7 got connection from 127.0.0.1:50940 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_701+00:00 [68673] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_705+00:00 [68673] [INFO] session 8 got connection from 127.0.0.1:50942 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_775+00:00 [68675] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_779+00:00 [68675] [INFO] session 9 got connection from 127.0.0.1:50944 (as a server)	[asio_service.cxx:248, prepare_handshake()]
2022-04-29T06:25:49.625_855+00:00 [68697] [INFO] receive a incoming rpc connection	[asio_service.cxx:809, handle_accept()]
2022-04-29T06:25:49.625_860+00:00 [68697] [INFO] session 10 got connection from 127.0.0.1:50946 (as a server)	[asio_service.cxx:248, prepare_handshake()]
