2022-04-27T12:03:18.758_516+00:00 [16126] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:03:18.759_907+00:00 [16126] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:03:18.759_939+00:00 [16126] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:03:18.759_943+00:00 [16126] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:03:18.759_965+00:00 [16126] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:03:18.759_969+00:00 [16126] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:03:18.759_972+00:00 [16126] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:03:18.760_004+00:00 [16126] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:03:18.760_154+00:00 [16162] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:03:19.977_283+00:00 [16133] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:03:19.977_307+00:00 [16133] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:03:19.977_344+00:00 [16133] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:03:19.977_372+00:00 [16133] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:03:19.977_388+00:00 [16133] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:03:19.977_399+00:00 [16133] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:03:19.977_447+00:00 [16133] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:03:19.977_523+00:00 [16161] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:03:19.977_530+00:00 [16161] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:03:19.977_539+00:00 [16161] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:03:20.060_939+00:00 [16126] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:03:20.061_357+00:00 [16133] [INFO] 0x563e2995f8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:03:20.061_920+00:00 [16133] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:03:20.061_928+00:00 [16133] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:03:20.061_980+00:00 [16161] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:03:20.061_991+00:00 [16161] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:03:20.062_036+00:00 [16161] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:03:20.062_039+00:00 [16161] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:03:20.062_083+00:00 [16161] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:03:20.062_087+00:00 [16161] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:03:20.062_093+00:00 [16161] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:03:20.311_354+00:00 [16126] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:03:20.311_591+00:00 [16133] [INFO] 0x563e2995fc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:03:20.311_952+00:00 [16133] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:03:20.311_957+00:00 [16133] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:03:20.312_098+00:00 [16133] [INFO] 0x7f51b80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:03:20.312_274+00:00 [16133] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:03:20.312_479+00:00 [16161] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:03:20.312_494+00:00 [16161] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:03:20.312_560+00:00 [16161] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:03:20.312_564+00:00 [16161] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:03:20.312_612+00:00 [16161] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:03:20.312_621+00:00 [16161] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:03:20.312_629+00:00 [16161] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:03:20.812_923+00:00 [16131] [INFO] 0x563e2995f8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:03:20.813_175+00:00 [16131] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:04:40.637_415+00:00 [16558] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:04:40.638_833+00:00 [16558] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:04:40.638_864+00:00 [16558] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:04:40.638_868+00:00 [16558] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:04:40.638_890+00:00 [16558] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:04:40.638_894+00:00 [16558] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:04:40.638_897+00:00 [16558] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:04:40.638_928+00:00 [16558] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:04:40.639_081+00:00 [16594] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:04:42.560_185+00:00 [16565] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:04:42.560_212+00:00 [16565] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:04:42.560_252+00:00 [16565] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:04:42.560_281+00:00 [16565] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:04:42.560_299+00:00 [16565] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:04:42.560_312+00:00 [16565] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:04:42.560_363+00:00 [16565] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:04:42.560_498+00:00 [16593] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:04:42.560_526+00:00 [16593] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:04:42.560_552+00:00 [16593] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:04:42.690_120+00:00 [16558] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:04:42.690_485+00:00 [16565] [INFO] 0x559d8675f8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:04:42.690_836+00:00 [16565] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:04:42.690_844+00:00 [16565] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:04:42.690_898+00:00 [16593] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:04:42.690_909+00:00 [16593] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:04:42.690_958+00:00 [16593] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:04:42.690_960+00:00 [16593] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:04:42.691_005+00:00 [16593] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:04:42.691_009+00:00 [16593] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:04:42.691_014+00:00 [16593] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:04:42.940_385+00:00 [16558] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:04:42.940_605+00:00 [16565] [INFO] 0x559d8675fc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:04:42.940_992+00:00 [16565] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:04:42.940_996+00:00 [16565] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:04:42.941_135+00:00 [16565] [INFO] 0x7f3a800018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:04:42.941_307+00:00 [16565] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:04:42.941_518+00:00 [16593] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:04:42.941_533+00:00 [16593] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:04:42.941_584+00:00 [16593] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:04:42.941_587+00:00 [16593] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:04:42.941_625+00:00 [16593] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:04:42.941_630+00:00 [16593] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:04:42.941_636+00:00 [16593] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:04:43.441_898+00:00 [16563] [INFO] 0x559d8675f8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:04:43.442_136+00:00 [16563] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:06:02.262_750+00:00 [17010] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:06:02.264_104+00:00 [17010] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:06:02.264_134+00:00 [17010] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:06:02.264_141+00:00 [17010] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:06:02.264_163+00:00 [17010] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:06:02.264_167+00:00 [17010] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:06:02.264_170+00:00 [17010] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:06:02.264_202+00:00 [17010] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:06:02.264_343+00:00 [17046] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:06:03.715_446+00:00 [17017] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:06:03.715_458+00:00 [17017] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:06:03.715_474+00:00 [17017] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:06:03.715_485+00:00 [17017] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:06:03.715_492+00:00 [17017] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:06:03.715_497+00:00 [17017] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:06:03.715_517+00:00 [17017] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:06:03.715_569+00:00 [17045] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:06:03.715_577+00:00 [17045] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:06:03.715_586+00:00 [17045] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:06:03.815_272+00:00 [17010] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:06:03.815_645+00:00 [17017] [INFO] 0x5630600b78b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:06:03.815_954+00:00 [17017] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:06:03.815_962+00:00 [17017] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:06:03.816_014+00:00 [17045] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:06:03.816_025+00:00 [17045] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:06:03.816_070+00:00 [17045] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:06:03.816_073+00:00 [17045] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:06:03.816_117+00:00 [17045] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:06:03.816_120+00:00 [17045] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:06:03.816_126+00:00 [17045] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:06:04.065_518+00:00 [17010] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:06:04.065_718+00:00 [17017] [INFO] 0x5630600b7c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:06:04.066_084+00:00 [17017] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:06:04.066_089+00:00 [17017] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:06:04.066_233+00:00 [17017] [INFO] 0x7f6acc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:06:04.066_404+00:00 [17017] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:06:04.066_608+00:00 [17045] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:06:04.066_623+00:00 [17045] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:06:04.066_694+00:00 [17045] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:06:04.066_697+00:00 [17045] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:06:04.066_735+00:00 [17045] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:06:04.066_739+00:00 [17045] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:06:04.066_747+00:00 [17045] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:06:04.567_043+00:00 [17015] [INFO] 0x5630600b78b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:06:04.567_345+00:00 [17015] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:07:24.144_831+00:00 [17444] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:07:24.146_170+00:00 [17444] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:07:24.146_202+00:00 [17444] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:07:24.146_208+00:00 [17444] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:07:24.146_232+00:00 [17444] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:07:24.146_237+00:00 [17444] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:07:24.146_240+00:00 [17444] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:07:24.146_272+00:00 [17444] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:07:24.146_425+00:00 [17480] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:07:25.884_560+00:00 [17451] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:07:25.884_571+00:00 [17451] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:07:25.884_587+00:00 [17451] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:07:25.884_598+00:00 [17451] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:07:25.884_605+00:00 [17451] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:07:25.884_609+00:00 [17451] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:07:25.884_630+00:00 [17451] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:07:25.884_686+00:00 [17479] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:07:25.884_695+00:00 [17479] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:07:25.884_705+00:00 [17479] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:07:25.947_564+00:00 [17444] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:07:25.947_976+00:00 [17451] [INFO] 0x55d603cc58b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:07:25.948_319+00:00 [17451] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:07:25.948_326+00:00 [17451] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:07:25.948_379+00:00 [17479] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:07:25.948_390+00:00 [17479] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:07:25.948_439+00:00 [17479] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:07:25.948_442+00:00 [17479] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:07:25.948_486+00:00 [17479] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:07:25.948_490+00:00 [17479] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:07:25.948_496+00:00 [17479] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:07:26.197_787+00:00 [17444] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:07:26.197_950+00:00 [17451] [INFO] 0x55d603cc5c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:07:26.198_296+00:00 [17451] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:07:26.198_301+00:00 [17451] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:07:26.198_437+00:00 [17451] [INFO] 0x7fbf500018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:07:26.198_602+00:00 [17451] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:07:26.198_832+00:00 [17479] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:07:26.198_846+00:00 [17479] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:07:26.198_904+00:00 [17479] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:07:26.198_907+00:00 [17479] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:07:26.198_959+00:00 [17479] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:07:26.198_965+00:00 [17479] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:07:26.198_975+00:00 [17479] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:07:26.699_219+00:00 [17449] [INFO] 0x55d603cc58b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:07:26.699_477+00:00 [17449] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:08:46.025_217+00:00 [17901] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:08:46.026_574+00:00 [17901] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:08:46.026_603+00:00 [17901] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:08:46.026_610+00:00 [17901] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:08:46.026_631+00:00 [17901] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:08:46.026_635+00:00 [17901] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:08:46.026_638+00:00 [17901] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:08:46.026_694+00:00 [17901] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:08:46.026_847+00:00 [17937] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:08:48.027_872+00:00 [17908] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:08:48.027_884+00:00 [17908] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:08:48.027_901+00:00 [17908] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:08:48.027_912+00:00 [17908] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:08:48.027_919+00:00 [17908] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:08:48.027_922+00:00 [17908] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:08:48.027_940+00:00 [17908] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:08:48.027_989+00:00 [17936] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:08:48.027_997+00:00 [17936] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:08:48.028_007+00:00 [17936] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:08:48.078_002+00:00 [17901] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:08:48.078_387+00:00 [17908] [INFO] 0x559bfe16e8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:08:48.078_736+00:00 [17908] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:08:48.078_746+00:00 [17908] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:08:48.078_799+00:00 [17936] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:08:48.078_810+00:00 [17936] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:08:48.078_862+00:00 [17936] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:08:48.078_865+00:00 [17936] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:08:48.078_910+00:00 [17936] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:08:48.078_914+00:00 [17936] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:08:48.078_920+00:00 [17936] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:08:48.328_215+00:00 [17901] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:08:48.328_384+00:00 [17908] [INFO] 0x559bfe16ec60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:08:48.328_732+00:00 [17908] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:08:48.328_736+00:00 [17908] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:08:48.328_875+00:00 [17908] [INFO] 0x7fee740018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:08:48.329_046+00:00 [17908] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:08:48.329_254+00:00 [17936] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:08:48.329_269+00:00 [17936] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:08:48.329_320+00:00 [17936] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:08:48.329_323+00:00 [17936] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:08:48.329_362+00:00 [17936] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:08:48.329_367+00:00 [17936] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:08:48.329_374+00:00 [17936] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:08:48.829_655+00:00 [17906] [INFO] 0x559bfe16e8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:08:48.829_889+00:00 [17906] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:10:07.902_840+00:00 [18345] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:10:07.904_237+00:00 [18345] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:10:07.904_267+00:00 [18345] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:10:07.904_273+00:00 [18345] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:10:07.904_297+00:00 [18345] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:10:07.904_302+00:00 [18345] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:10:07.904_305+00:00 [18345] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:10:07.904_333+00:00 [18345] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:10:07.904_493+00:00 [18381] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:10:09.726_537+00:00 [18352] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:10:09.726_552+00:00 [18352] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:10:09.726_579+00:00 [18352] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:10:09.726_597+00:00 [18352] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:10:09.726_605+00:00 [18352] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:10:09.726_609+00:00 [18352] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:10:09.726_629+00:00 [18352] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:10:09.726_701+00:00 [18380] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:10:09.726_711+00:00 [18380] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:10:09.726_722+00:00 [18380] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:10:09.955_469+00:00 [18345] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:10:09.955_888+00:00 [18352] [INFO] 0x55bc26a258b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:10:09.956_202+00:00 [18352] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:10:09.956_211+00:00 [18352] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:10:09.956_264+00:00 [18380] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:10:09.956_276+00:00 [18380] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:10:09.956_323+00:00 [18380] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:10:09.956_325+00:00 [18380] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:10:09.956_368+00:00 [18380] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:10:09.956_372+00:00 [18380] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:10:09.956_378+00:00 [18380] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:10:10.205_693+00:00 [18345] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:10:10.205_874+00:00 [18352] [INFO] 0x55bc26a25c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:10:10.206_236+00:00 [18352] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:10:10.206_240+00:00 [18352] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:10:10.206_383+00:00 [18352] [INFO] 0x7f56980018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:10:10.206_548+00:00 [18352] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:10:10.206_774+00:00 [18380] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:10:10.206_788+00:00 [18380] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:10:10.206_833+00:00 [18380] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:10:10.206_835+00:00 [18380] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:10:10.206_870+00:00 [18380] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:10:10.206_873+00:00 [18380] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:10:10.206_878+00:00 [18380] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:10:10.707_179+00:00 [18350] [INFO] 0x55bc26a258b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:10:10.707_395+00:00 [18350] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:11:29.274_224+00:00 [18772] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:11:29.275_603+00:00 [18772] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:11:29.275_637+00:00 [18772] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:11:29.275_641+00:00 [18772] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:11:29.275_666+00:00 [18772] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:11:29.275_670+00:00 [18772] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:11:29.275_673+00:00 [18772] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:11:29.275_706+00:00 [18772] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:11:29.275_849+00:00 [18808] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:11:30.472_937+00:00 [18779] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:11:30.472_949+00:00 [18779] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:11:30.472_964+00:00 [18779] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:11:30.472_975+00:00 [18779] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:11:30.472_982+00:00 [18779] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:11:30.472_986+00:00 [18779] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:11:30.473_006+00:00 [18779] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:11:30.473_069+00:00 [18807] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:11:30.473_079+00:00 [18807] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:11:30.473_089+00:00 [18807] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:11:30.576_586+00:00 [18772] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:11:30.577_008+00:00 [18779] [INFO] 0x56044e9608b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:11:30.577_346+00:00 [18779] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:11:30.577_354+00:00 [18779] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:11:30.577_408+00:00 [18807] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:11:30.577_419+00:00 [18807] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:11:30.577_467+00:00 [18807] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:11:30.577_470+00:00 [18807] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:11:30.577_514+00:00 [18807] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:11:30.577_518+00:00 [18807] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:11:30.577_524+00:00 [18807] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:11:30.827_455+00:00 [18772] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:11:30.827_880+00:00 [18779] [INFO] 0x56044e960c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:11:30.828_615+00:00 [18779] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:11:30.828_621+00:00 [18779] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:11:30.828_817+00:00 [18779] [INFO] 0x7f73280018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:11:30.829_086+00:00 [18779] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:11:30.829_347+00:00 [18807] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:11:30.829_365+00:00 [18807] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:11:30.829_448+00:00 [18807] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:11:30.829_452+00:00 [18807] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:11:30.829_512+00:00 [18807] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:11:30.829_517+00:00 [18807] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:11:30.829_526+00:00 [18807] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:11:31.329_759+00:00 [18777] [INFO] 0x56044e9608b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:11:31.329_949+00:00 [18777] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:12:50.653_831+00:00 [19205] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:12:50.655_534+00:00 [19205] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:12:50.655_565+00:00 [19205] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:12:50.655_571+00:00 [19205] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:12:50.655_590+00:00 [19205] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:12:50.655_594+00:00 [19205] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:12:50.655_597+00:00 [19205] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:12:50.655_945+00:00 [19205] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:12:50.656_432+00:00 [19241] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:12:52.237_137+00:00 [19212] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:12:52.237_149+00:00 [19212] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:12:52.237_164+00:00 [19212] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:12:52.237_175+00:00 [19212] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:12:52.237_181+00:00 [19212] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:12:52.237_185+00:00 [19212] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:12:52.237_204+00:00 [19212] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:12:52.237_255+00:00 [19240] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:12:52.237_264+00:00 [19240] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:12:52.237_275+00:00 [19240] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:12:52.457_277+00:00 [19205] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:12:52.457_608+00:00 [19212] [INFO] 0x556a7c56b8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:12:52.457_917+00:00 [19212] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:12:52.457_924+00:00 [19212] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:12:52.457_975+00:00 [19240] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:12:52.457_986+00:00 [19240] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:12:52.458_033+00:00 [19240] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:12:52.458_035+00:00 [19240] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:12:52.458_075+00:00 [19240] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:12:52.458_078+00:00 [19240] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:12:52.458_083+00:00 [19240] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:12:52.707_495+00:00 [19205] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:12:52.707_699+00:00 [19212] [INFO] 0x556a7c56bc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:12:52.708_098+00:00 [19212] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:12:52.708_104+00:00 [19212] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:12:52.708_265+00:00 [19212] [INFO] 0x7f94900018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:12:52.708_433+00:00 [19212] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:12:52.708_645+00:00 [19240] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:12:52.708_660+00:00 [19240] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:12:52.708_713+00:00 [19240] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:12:52.708_716+00:00 [19240] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:12:52.708_755+00:00 [19240] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:12:52.708_759+00:00 [19240] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:12:52.708_766+00:00 [19240] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:12:53.209_042+00:00 [19210] [INFO] 0x556a7c56b8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:12:53.209_245+00:00 [19210] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:14:12.534_916+00:00 [19653] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:14:12.536_252+00:00 [19653] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:14:12.536_286+00:00 [19653] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:14:12.536_292+00:00 [19653] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:14:12.536_318+00:00 [19653] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:14:12.536_322+00:00 [19653] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:14:12.536_325+00:00 [19653] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:14:12.536_353+00:00 [19653] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:14:12.536_496+00:00 [19689] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:14:13.870_555+00:00 [19660] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:14:13.870_566+00:00 [19660] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:14:13.870_581+00:00 [19660] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:14:13.870_593+00:00 [19660] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:14:13.870_599+00:00 [19660] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:14:13.870_603+00:00 [19660] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:14:13.870_621+00:00 [19660] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:14:13.870_688+00:00 [19688] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:14:13.870_696+00:00 [19688] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:14:13.870_706+00:00 [19688] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:14:14.087_603+00:00 [19653] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:14:14.088_004+00:00 [19660] [INFO] 0x55ad331868b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:14:14.088_317+00:00 [19660] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:14:14.088_325+00:00 [19660] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:14:14.088_375+00:00 [19688] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:14:14.088_386+00:00 [19688] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:14:14.088_432+00:00 [19688] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:14:14.088_435+00:00 [19688] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:14:14.088_478+00:00 [19688] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:14:14.088_482+00:00 [19688] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:14:14.088_487+00:00 [19688] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:14:14.337_900+00:00 [19653] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:14:14.338_129+00:00 [19660] [INFO] 0x55ad33186c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:14:14.338_513+00:00 [19660] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:14:14.338_518+00:00 [19660] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:14:14.338_700+00:00 [19660] [INFO] 0x7f85b00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:14:14.338_852+00:00 [19660] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:14:14.339_046+00:00 [19688] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:14:14.339_059+00:00 [19688] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:14:14.339_104+00:00 [19688] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:14:14.339_106+00:00 [19688] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:14:14.339_140+00:00 [19688] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:14:14.339_144+00:00 [19688] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:14:14.339_149+00:00 [19688] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:14:14.839_445+00:00 [19658] [INFO] 0x55ad331868b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:14:14.839_670+00:00 [19658] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:15:34.158_761+00:00 [20097] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:15:34.160_087+00:00 [20097] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:15:34.160_123+00:00 [20097] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:15:34.160_127+00:00 [20097] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:15:34.160_151+00:00 [20097] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:15:34.160_155+00:00 [20097] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:15:34.160_157+00:00 [20097] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:15:34.160_185+00:00 [20097] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:15:34.160_324+00:00 [20133] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:15:35.769_375+00:00 [20104] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:15:35.769_387+00:00 [20104] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:15:35.769_401+00:00 [20104] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:15:35.769_412+00:00 [20104] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:15:35.769_418+00:00 [20104] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:15:35.769_422+00:00 [20104] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:15:35.769_441+00:00 [20104] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:15:35.769_492+00:00 [20132] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:15:35.769_500+00:00 [20132] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:15:35.769_510+00:00 [20132] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:15:35.961_179+00:00 [20097] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:15:35.961_532+00:00 [20104] [INFO] 0x5583cbf6c8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:15:35.961_851+00:00 [20104] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:15:35.961_859+00:00 [20104] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:15:35.961_910+00:00 [20132] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:15:35.961_921+00:00 [20132] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:15:35.961_968+00:00 [20132] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:15:35.961_970+00:00 [20132] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:15:35.962_014+00:00 [20132] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:15:35.962_018+00:00 [20132] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:15:35.962_024+00:00 [20132] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:15:36.211_410+00:00 [20097] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:15:36.211_667+00:00 [20104] [INFO] 0x5583cbf6cc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:15:36.212_077+00:00 [20104] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:15:36.212_082+00:00 [20104] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:15:36.212_228+00:00 [20104] [INFO] 0x7fc5100018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:15:36.212_398+00:00 [20104] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:15:36.212_601+00:00 [20132] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:15:36.212_616+00:00 [20132] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:15:36.212_670+00:00 [20132] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:15:36.212_672+00:00 [20132] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:15:36.212_713+00:00 [20132] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:15:36.212_717+00:00 [20132] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:15:36.212_724+00:00 [20132] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:15:36.713_257+00:00 [20102] [INFO] 0x5583cbf6c8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:15:36.713_791+00:00 [20102] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:30:32.280_885+00:00 [23437] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:30:32.282_277+00:00 [23437] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:30:32.282_308+00:00 [23437] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:30:32.282_314+00:00 [23437] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:30:32.282_337+00:00 [23437] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:30:32.282_341+00:00 [23437] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:30:32.282_344+00:00 [23437] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:30:32.282_371+00:00 [23437] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:30:32.282_516+00:00 [23473] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:30:33.763_680+00:00 [23444] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:30:33.763_693+00:00 [23444] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:30:33.763_710+00:00 [23444] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:30:33.763_727+00:00 [23444] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:30:33.763_733+00:00 [23444] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:30:33.763_737+00:00 [23444] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:30:33.763_757+00:00 [23444] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:30:33.763_812+00:00 [23472] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:30:33.763_821+00:00 [23472] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:30:33.763_832+00:00 [23472] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:30:33.833_678+00:00 [23437] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:30:33.834_116+00:00 [23444] [INFO] 0x5570d2d148b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:30:33.834_437+00:00 [23444] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:30:33.834_445+00:00 [23444] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:30:33.834_497+00:00 [23472] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:30:33.834_509+00:00 [23472] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:30:33.834_555+00:00 [23472] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:30:33.834_558+00:00 [23472] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:30:33.834_605+00:00 [23472] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:30:33.834_609+00:00 [23472] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:30:33.834_615+00:00 [23472] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:30:34.084_049+00:00 [23437] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:30:34.084_277+00:00 [23444] [INFO] 0x5570d2d14c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:30:34.084_674+00:00 [23444] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:30:34.084_678+00:00 [23444] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:30:34.084_822+00:00 [23444] [INFO] 0x7f02d40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:30:34.085_030+00:00 [23444] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:30:34.085_244+00:00 [23472] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:30:34.085_259+00:00 [23472] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:30:34.085_317+00:00 [23472] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:30:34.085_319+00:00 [23472] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:30:34.085_360+00:00 [23472] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:30:34.085_364+00:00 [23472] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:30:34.085_371+00:00 [23472] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:30:34.585_701+00:00 [23442] [INFO] 0x5570d2d148b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:30:34.585_929+00:00 [23442] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:31:54.146_382+00:00 [23575] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:31:54.147_765+00:00 [23575] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:31:54.147_794+00:00 [23575] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:31:54.147_801+00:00 [23575] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:31:54.147_824+00:00 [23575] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:31:54.147_828+00:00 [23575] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:31:54.147_831+00:00 [23575] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:31:54.147_861+00:00 [23575] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:31:54.148_003+00:00 [23611] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:31:56.163_070+00:00 [23582] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:31:56.163_084+00:00 [23582] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:31:56.163_102+00:00 [23582] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:31:56.163_116+00:00 [23582] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:31:56.163_125+00:00 [23582] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:31:56.163_130+00:00 [23582] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:31:56.163_153+00:00 [23582] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:31:56.163_228+00:00 [23610] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:31:56.163_235+00:00 [23610] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:31:56.163_244+00:00 [23610] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:31:56.199_129+00:00 [23575] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:31:56.199_628+00:00 [23582] [INFO] 0x55812b5bf8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:31:56.199_925+00:00 [23582] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:31:56.199_938+00:00 [23582] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:31:56.200_012+00:00 [23610] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:31:56.200_029+00:00 [23610] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:31:56.200_086+00:00 [23610] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:31:56.200_089+00:00 [23610] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:31:56.200_139+00:00 [23610] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:31:56.200_144+00:00 [23610] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:31:56.200_152+00:00 [23610] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:31:56.449_411+00:00 [23575] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:31:56.449_645+00:00 [23582] [INFO] 0x55812b5bfc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:31:56.450_034+00:00 [23582] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:31:56.450_039+00:00 [23582] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:31:56.450_183+00:00 [23582] [INFO] 0x7fb9f40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:31:56.450_356+00:00 [23582] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:31:56.450_570+00:00 [23610] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:31:56.450_585+00:00 [23610] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:31:56.450_638+00:00 [23610] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:31:56.450_640+00:00 [23610] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:31:56.450_695+00:00 [23610] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:31:56.450_700+00:00 [23610] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:31:56.450_707+00:00 [23610] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:31:56.951_006+00:00 [23580] [INFO] 0x55812b5bf8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:31:56.951_248+00:00 [23580] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:33:15.522_825+00:00 [23760] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:33:15.524_178+00:00 [23760] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:33:15.524_214+00:00 [23760] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:33:15.524_219+00:00 [23760] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:33:15.524_240+00:00 [23760] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:33:15.524_244+00:00 [23760] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:33:15.524_247+00:00 [23760] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:33:15.524_273+00:00 [23760] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:33:15.524_415+00:00 [23796] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:33:17.427_459+00:00 [23767] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:33:17.427_469+00:00 [23767] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:33:17.427_484+00:00 [23767] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:33:17.427_495+00:00 [23767] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:33:17.427_501+00:00 [23767] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:33:17.427_504+00:00 [23767] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:33:17.427_523+00:00 [23767] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:33:17.427_574+00:00 [23795] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:33:17.427_582+00:00 [23795] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:33:17.427_593+00:00 [23795] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:33:17.575_530+00:00 [23760] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:33:17.575_990+00:00 [23767] [INFO] 0x564e94c748b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:33:17.576_292+00:00 [23767] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:33:17.576_300+00:00 [23767] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:33:17.576_352+00:00 [23795] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:33:17.576_364+00:00 [23795] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:33:17.576_409+00:00 [23795] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:33:17.576_411+00:00 [23795] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:33:17.576_454+00:00 [23795] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:33:17.576_457+00:00 [23795] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:33:17.576_463+00:00 [23795] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:33:17.825_773+00:00 [23760] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:33:17.825_989+00:00 [23767] [INFO] 0x564e94c74c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:33:17.826_378+00:00 [23767] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:33:17.826_382+00:00 [23767] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:33:17.826_522+00:00 [23767] [INFO] 0x7f27080018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:33:17.826_718+00:00 [23767] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:33:17.826_928+00:00 [23795] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:33:17.826_943+00:00 [23795] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:33:17.826_998+00:00 [23795] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:33:17.826_999+00:00 [23795] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:33:17.827_034+00:00 [23795] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:33:17.827_037+00:00 [23795] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:33:17.827_043+00:00 [23795] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:33:18.327_369+00:00 [23765] [INFO] 0x564e94c748b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:33:18.327_606+00:00 [23765] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:34:37.401_116+00:00 [23982] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:34:37.402_458+00:00 [23982] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:34:37.402_487+00:00 [23982] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:34:37.402_493+00:00 [23982] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:34:37.402_515+00:00 [23982] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:34:37.402_519+00:00 [23982] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:34:37.402_522+00:00 [23982] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:34:37.402_554+00:00 [23982] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:34:37.402_730+00:00 [24018] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:34:38.917_804+00:00 [23989] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:34:38.917_817+00:00 [23989] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:34:38.917_833+00:00 [23989] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:34:38.917_849+00:00 [23989] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:34:38.917_855+00:00 [23989] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:34:38.917_859+00:00 [23989] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:34:38.917_877+00:00 [23989] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:34:38.917_929+00:00 [24017] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:34:38.917_938+00:00 [24017] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:34:38.917_948+00:00 [24017] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:34:38.953_659+00:00 [23982] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:34:38.954_033+00:00 [23989] [INFO] 0x5593e7fc68b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:34:38.954_355+00:00 [23989] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:34:38.954_364+00:00 [23989] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:34:38.954_413+00:00 [24017] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:34:38.954_424+00:00 [24017] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:34:38.954_469+00:00 [24017] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:34:38.954_472+00:00 [24017] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:34:38.954_516+00:00 [24017] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:34:38.954_519+00:00 [24017] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:34:38.954_525+00:00 [24017] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:34:39.203_913+00:00 [23982] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:34:39.204_132+00:00 [23989] [INFO] 0x5593e7fc6c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:34:39.204_596+00:00 [23989] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:34:39.204_603+00:00 [23989] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:34:39.204_780+00:00 [23989] [INFO] 0x7fe5340018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:34:39.204_945+00:00 [23989] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:34:39.205_154+00:00 [24017] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:34:39.205_169+00:00 [24017] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:34:39.205_224+00:00 [24017] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:34:39.205_227+00:00 [24017] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:34:39.205_265+00:00 [24017] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:34:39.205_269+00:00 [24017] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:34:39.205_276+00:00 [24017] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:34:39.705_586+00:00 [23987] [INFO] 0x5593e7fc68b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:34:39.705_819+00:00 [23987] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:37:15.252_789+00:00 [24299] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:37:15.254_136+00:00 [24299] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:37:15.254_167+00:00 [24299] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:37:15.254_173+00:00 [24299] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:37:15.254_194+00:00 [24299] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:37:15.254_198+00:00 [24299] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:37:15.254_201+00:00 [24299] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:37:15.254_236+00:00 [24299] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:37:15.254_384+00:00 [24335] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:37:17.303_424+00:00 [24306] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:37:17.303_436+00:00 [24306] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:37:17.303_452+00:00 [24306] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:37:17.303_464+00:00 [24306] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:37:17.303_471+00:00 [24306] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:37:17.303_475+00:00 [24306] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:37:17.303_493+00:00 [24306] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:37:17.303_545+00:00 [24334] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:37:17.303_553+00:00 [24334] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:37:17.303_562+00:00 [24334] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:37:17.305_249+00:00 [24299] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:37:17.305_610+00:00 [24306] [INFO] 0x55664e9278b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:37:17.305_929+00:00 [24306] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:37:17.305_936+00:00 [24306] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:37:17.305_982+00:00 [24334] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:37:17.305_992+00:00 [24334] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:37:17.306_038+00:00 [24334] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:37:17.306_041+00:00 [24334] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:37:17.306_082+00:00 [24334] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:37:17.306_085+00:00 [24334] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:37:17.306_090+00:00 [24334] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:37:17.555_469+00:00 [24299] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:37:17.555_658+00:00 [24306] [INFO] 0x55664e927c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:37:17.556_045+00:00 [24306] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:37:17.556_050+00:00 [24306] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:37:17.556_191+00:00 [24306] [INFO] 0x7fb37c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:37:17.556_366+00:00 [24306] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:37:17.556_573+00:00 [24334] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:37:17.556_588+00:00 [24334] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:37:17.556_642+00:00 [24334] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:37:17.556_644+00:00 [24334] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:37:17.556_684+00:00 [24334] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:37:17.556_688+00:00 [24334] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:37:17.556_695+00:00 [24334] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:37:18.056_980+00:00 [24304] [INFO] 0x55664e9278b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:37:18.057_226+00:00 [24304] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:39:56.934_406+00:00 [25126] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:39:56.936_468+00:00 [25126] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:39:56.936_503+00:00 [25126] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:39:56.936_508+00:00 [25126] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:39:56.936_533+00:00 [25126] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:39:56.936_538+00:00 [25126] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:39:56.936_541+00:00 [25126] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:39:56.936_569+00:00 [25126] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:39:56.937_063+00:00 [25162] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:39:58.642_797+00:00 [25133] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:39:58.642_808+00:00 [25133] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:39:58.642_822+00:00 [25133] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:39:58.642_832+00:00 [25133] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:39:58.642_838+00:00 [25133] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:39:58.642_841+00:00 [25133] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:39:58.642_859+00:00 [25133] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:39:58.642_906+00:00 [25161] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:39:58.642_913+00:00 [25161] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:39:58.642_922+00:00 [25161] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:39:58.737_930+00:00 [25126] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:39:58.738_294+00:00 [25133] [INFO] 0x5563093bf8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:39:58.738_638+00:00 [25133] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:39:58.738_645+00:00 [25133] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:39:58.738_731+00:00 [25161] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:39:58.738_743+00:00 [25161] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:39:58.738_789+00:00 [25161] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:39:58.738_791+00:00 [25161] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:39:58.738_835+00:00 [25161] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:39:58.738_839+00:00 [25161] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:39:58.738_844+00:00 [25161] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:39:58.988_180+00:00 [25126] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:39:58.988_370+00:00 [25133] [INFO] 0x5563093bfc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:39:58.988_721+00:00 [25133] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:39:58.988_725+00:00 [25133] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:39:58.988_872+00:00 [25133] [INFO] 0x7f0dcc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:39:58.989_026+00:00 [25133] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:39:58.989_231+00:00 [25161] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:39:58.989_245+00:00 [25161] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:39:58.989_297+00:00 [25161] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:39:58.989_300+00:00 [25161] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:39:58.989_338+00:00 [25161] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:39:58.989_342+00:00 [25161] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:39:58.989_349+00:00 [25161] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:39:59.489_607+00:00 [25160] [INFO] 0x5563093bf8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:39:59.489_852+00:00 [25160] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:41:18.317_027+00:00 [25476] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:41:18.318_401+00:00 [25476] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:41:18.318_432+00:00 [25476] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:41:18.318_436+00:00 [25476] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:41:18.318_459+00:00 [25476] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:41:18.318_463+00:00 [25476] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:41:18.318_466+00:00 [25476] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:41:18.318_504+00:00 [25476] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:41:18.318_652+00:00 [25512] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:41:20.043_698+00:00 [25483] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:41:20.043_709+00:00 [25483] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:41:20.043_724+00:00 [25483] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:41:20.043_740+00:00 [25483] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:41:20.043_747+00:00 [25483] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:41:20.043_751+00:00 [25483] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:41:20.043_769+00:00 [25483] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:41:20.043_822+00:00 [25511] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:41:20.043_830+00:00 [25511] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:41:20.043_840+00:00 [25511] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:41:20.119_538+00:00 [25476] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:41:20.119_931+00:00 [25483] [INFO] 0x5625663ad8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:41:20.120_284+00:00 [25483] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:41:20.120_292+00:00 [25483] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:41:20.120_345+00:00 [25511] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:41:20.120_356+00:00 [25511] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:41:20.120_404+00:00 [25511] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:41:20.120_407+00:00 [25511] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:41:20.120_452+00:00 [25511] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:41:20.120_455+00:00 [25511] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:41:20.120_461+00:00 [25511] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:41:20.369_773+00:00 [25476] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:41:20.369_995+00:00 [25483] [INFO] 0x5625663adc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:41:20.370_427+00:00 [25483] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:41:20.370_433+00:00 [25483] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:41:20.370_594+00:00 [25483] [INFO] 0x7fcb440018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:41:20.370_790+00:00 [25483] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:41:20.371_004+00:00 [25511] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:41:20.371_020+00:00 [25511] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:41:20.371_075+00:00 [25511] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:41:20.371_077+00:00 [25511] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:41:20.371_117+00:00 [25511] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:41:20.371_121+00:00 [25511] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:41:20.371_128+00:00 [25511] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:41:20.871_387+00:00 [25481] [INFO] 0x5625663ad8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:41:20.871_605+00:00 [25481] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:42:47.747_790+00:00 [25945] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:42:47.749_178+00:00 [25945] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:42:47.749_218+00:00 [25945] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:42:47.749_224+00:00 [25945] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:42:47.749_246+00:00 [25945] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:42:47.749_250+00:00 [25945] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:42:47.749_253+00:00 [25945] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:42:47.749_286+00:00 [25945] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:42:47.749_441+00:00 [25981] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:42:48.843_568+00:00 [25952] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:42:48.843_579+00:00 [25952] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:42:48.843_594+00:00 [25952] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:42:48.843_604+00:00 [25952] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:42:48.843_610+00:00 [25952] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:42:48.843_614+00:00 [25952] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:42:48.843_633+00:00 [25952] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:42:48.843_685+00:00 [25980] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:42:48.843_693+00:00 [25980] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:42:48.843_703+00:00 [25980] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:42:49.050_226+00:00 [25945] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:42:49.050_646+00:00 [25952] [INFO] 0x558ddaadb8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:42:49.051_015+00:00 [25952] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:42:49.051_023+00:00 [25952] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:42:49.051_077+00:00 [25980] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:42:49.051_088+00:00 [25980] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:42:49.051_136+00:00 [25980] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:42:49.051_139+00:00 [25980] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:42:49.051_182+00:00 [25980] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:42:49.051_186+00:00 [25980] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:42:49.051_192+00:00 [25980] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:42:49.300_625+00:00 [25945] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:42:49.300_835+00:00 [25952] [INFO] 0x558ddaadbc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:42:49.301_220+00:00 [25952] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:42:49.301_225+00:00 [25952] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:42:49.301_366+00:00 [25952] [INFO] 0x7f5f300018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:42:49.301_546+00:00 [25952] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:42:49.301_759+00:00 [25980] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:42:49.301_774+00:00 [25980] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:42:49.301_827+00:00 [25980] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:42:49.301_830+00:00 [25980] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:42:49.301_865+00:00 [25980] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:42:49.301_869+00:00 [25980] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:42:49.301_877+00:00 [25980] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:42:49.802_180+00:00 [25950] [INFO] 0x558ddaadb8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:42:49.802_881+00:00 [25950] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:44:09.387_105+00:00 [26303] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:44:09.389_293+00:00 [26303] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:44:09.389_325+00:00 [26303] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:44:09.389_329+00:00 [26303] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:44:09.389_356+00:00 [26303] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:44:09.389_359+00:00 [26303] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:44:09.389_362+00:00 [26303] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:44:09.389_394+00:00 [26303] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:44:09.389_926+00:00 [26339] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:44:11.088_706+00:00 [26310] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:44:11.088_720+00:00 [26310] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:44:11.088_735+00:00 [26310] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:44:11.088_747+00:00 [26310] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:44:11.088_754+00:00 [26310] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:44:11.088_757+00:00 [26310] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:44:11.088_776+00:00 [26310] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:44:11.088_827+00:00 [26338] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:44:11.088_835+00:00 [26338] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:44:11.088_846+00:00 [26338] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:44:11.190_599+00:00 [26303] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:44:11.191_190+00:00 [26310] [INFO] 0x55b555c848b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:44:11.191_503+00:00 [26310] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:44:11.191_510+00:00 [26310] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:44:11.191_556+00:00 [26338] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:44:11.191_565+00:00 [26338] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:44:11.191_602+00:00 [26338] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:44:11.191_604+00:00 [26338] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:44:11.191_644+00:00 [26338] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:44:11.191_648+00:00 [26338] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:44:11.191_652+00:00 [26338] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:44:11.441_021+00:00 [26303] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:44:11.441_446+00:00 [26310] [INFO] 0x55b555c84c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:44:11.441_996+00:00 [26310] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:44:11.442_002+00:00 [26310] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:44:11.442_161+00:00 [26310] [INFO] 0x7f56e80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:44:11.442_321+00:00 [26310] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:44:11.442_524+00:00 [26338] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:44:11.442_539+00:00 [26338] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:44:11.442_590+00:00 [26338] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:44:11.442_593+00:00 [26338] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:44:11.442_632+00:00 [26338] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:44:11.442_636+00:00 [26338] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:44:11.442_642+00:00 [26338] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:44:11.942_982+00:00 [26337] [INFO] 0x55b555c848b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:44:11.943_195+00:00 [26337] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:45:31.017_270+00:00 [26651] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:45:31.018_632+00:00 [26651] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:45:31.018_678+00:00 [26651] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:45:31.018_685+00:00 [26651] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:45:31.018_709+00:00 [26651] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:45:31.018_713+00:00 [26651] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:45:31.018_716+00:00 [26651] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:45:31.018_746+00:00 [26651] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:45:31.018_898+00:00 [26687] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:45:32.200_060+00:00 [26658] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:45:32.200_073+00:00 [26658] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:45:32.200_090+00:00 [26658] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:45:32.200_101+00:00 [26658] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:45:32.200_108+00:00 [26658] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:45:32.200_111+00:00 [26658] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:45:32.200_131+00:00 [26658] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:45:32.200_187+00:00 [26686] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:45:32.200_195+00:00 [26686] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:45:32.200_207+00:00 [26686] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:45:32.320_057+00:00 [26651] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:45:32.320_464+00:00 [26658] [INFO] 0x5588f4df98b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:45:32.320_829+00:00 [26658] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:45:32.320_836+00:00 [26658] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:45:32.320_889+00:00 [26686] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:45:32.320_900+00:00 [26686] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:45:32.320_946+00:00 [26686] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:45:32.320_949+00:00 [26686] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:45:32.320_992+00:00 [26686] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:45:32.320_996+00:00 [26686] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:45:32.321_002+00:00 [26686] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:45:32.570_285+00:00 [26651] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:45:32.570_472+00:00 [26658] [INFO] 0x5588f4df9c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:45:32.570_996+00:00 [26658] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:45:32.570_999+00:00 [26658] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:45:32.571_131+00:00 [26658] [INFO] 0x7f0cc40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:45:32.571_299+00:00 [26658] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:45:32.571_540+00:00 [26686] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:45:32.571_553+00:00 [26686] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:45:32.571_600+00:00 [26686] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:45:32.571_602+00:00 [26686] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:45:32.571_637+00:00 [26686] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:45:32.571_640+00:00 [26686] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:45:32.571_646+00:00 [26686] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:45:33.071_978+00:00 [26656] [INFO] 0x5588f4df98b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:45:33.072_166+00:00 [26656] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:47:26.138_714+00:00 [27186] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:47:26.140_103+00:00 [27186] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:47:26.140_132+00:00 [27186] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:47:26.140_138+00:00 [27186] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:47:26.140_161+00:00 [27186] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:47:26.140_165+00:00 [27186] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:47:26.140_168+00:00 [27186] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:47:26.140_199+00:00 [27186] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:47:26.140_351+00:00 [27222] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:47:27.326_408+00:00 [27193] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:47:27.326_419+00:00 [27193] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:47:27.326_434+00:00 [27193] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:47:27.326_452+00:00 [27193] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:47:27.326_459+00:00 [27193] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:47:27.326_463+00:00 [27193] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:47:27.326_483+00:00 [27193] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:47:27.326_539+00:00 [27221] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:47:27.326_547+00:00 [27221] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:47:27.326_564+00:00 [27221] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:47:27.441_080+00:00 [27186] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:47:27.441_469+00:00 [27193] [INFO] 0x563f25b4a8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:47:27.441_806+00:00 [27193] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:47:27.441_812+00:00 [27193] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:47:27.441_857+00:00 [27221] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:47:27.441_867+00:00 [27221] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:47:27.441_906+00:00 [27221] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:47:27.441_908+00:00 [27221] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:47:27.441_947+00:00 [27221] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:47:27.441_950+00:00 [27221] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:47:27.441_955+00:00 [27221] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:47:27.691_310+00:00 [27186] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:47:27.691_515+00:00 [27193] [INFO] 0x563f25b4ac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:47:27.691_919+00:00 [27193] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:47:27.691_923+00:00 [27193] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:47:27.692_065+00:00 [27193] [INFO] 0x7fc4c00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:47:27.692_248+00:00 [27193] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:47:27.692_459+00:00 [27221] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:47:27.692_474+00:00 [27221] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:47:27.692_531+00:00 [27221] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:47:27.692_533+00:00 [27221] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:47:27.692_566+00:00 [27221] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:47:27.692_570+00:00 [27221] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:47:27.692_575+00:00 [27221] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:47:28.192_859+00:00 [27191] [INFO] 0x563f25b4a8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:47:28.193_075+00:00 [27191] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:48:48.269_854+00:00 [27370] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:48:48.271_260+00:00 [27370] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:48:48.271_296+00:00 [27370] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:48:48.271_300+00:00 [27370] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:48:48.271_324+00:00 [27370] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:48:48.271_329+00:00 [27370] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:48:48.271_332+00:00 [27370] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:48:48.271_360+00:00 [27370] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:48:48.271_512+00:00 [27406] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:48:50.256_565+00:00 [27377] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:48:50.256_578+00:00 [27377] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:48:50.256_592+00:00 [27377] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:48:50.256_604+00:00 [27377] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:48:50.256_610+00:00 [27377] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:48:50.256_614+00:00 [27377] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:48:50.256_634+00:00 [27377] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:48:50.256_686+00:00 [27405] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:48:50.256_694+00:00 [27405] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:48:50.256_704+00:00 [27405] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:48:50.322_628+00:00 [27370] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:48:50.323_142+00:00 [27377] [INFO] 0x55d3bbb1a8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:48:50.323_498+00:00 [27377] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:48:50.323_507+00:00 [27377] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:48:50.323_560+00:00 [27405] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:48:50.323_572+00:00 [27405] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:48:50.323_618+00:00 [27405] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:48:50.323_620+00:00 [27405] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:48:50.323_666+00:00 [27405] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:48:50.323_670+00:00 [27405] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:48:50.323_676+00:00 [27405] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:48:50.572_905+00:00 [27370] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:48:50.573_132+00:00 [27377] [INFO] 0x55d3bbb1ac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:48:50.573_523+00:00 [27377] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:48:50.573_528+00:00 [27377] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:48:50.573_672+00:00 [27377] [INFO] 0x7fbc4c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:48:50.573_849+00:00 [27377] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:48:50.574_060+00:00 [27405] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:48:50.574_076+00:00 [27405] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:48:50.574_128+00:00 [27405] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:48:50.574_131+00:00 [27405] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:48:50.574_171+00:00 [27405] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:48:50.574_176+00:00 [27405] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:48:50.574_183+00:00 [27405] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:48:51.074_520+00:00 [27375] [INFO] 0x55d3bbb1a8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:48:51.074_784+00:00 [27375] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:50:10.149_469+00:00 [27581] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:50:10.150_855+00:00 [27581] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:50:10.150_886+00:00 [27581] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:50:10.150_891+00:00 [27581] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:50:10.150_913+00:00 [27581] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:50:10.150_917+00:00 [27581] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:50:10.150_920+00:00 [27581] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:50:10.150_949+00:00 [27581] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:50:10.151_100+00:00 [27617] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:50:12.052_212+00:00 [27588] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:50:12.052_235+00:00 [27588] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:50:12.052_272+00:00 [27588] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:50:12.052_300+00:00 [27588] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:50:12.052_315+00:00 [27588] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:50:12.052_326+00:00 [27588] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:50:12.052_373+00:00 [27588] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:50:12.052_504+00:00 [27616] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:50:12.052_530+00:00 [27616] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:50:12.052_557+00:00 [27616] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:50:12.202_371+00:00 [27581] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:50:12.202_804+00:00 [27588] [INFO] 0x55c9bab3e8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:50:12.203_112+00:00 [27588] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:50:12.203_120+00:00 [27588] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:50:12.203_174+00:00 [27616] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:50:12.203_185+00:00 [27616] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:50:12.203_233+00:00 [27616] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:50:12.203_235+00:00 [27616] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:50:12.203_278+00:00 [27616] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:50:12.203_282+00:00 [27616] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:50:12.203_288+00:00 [27616] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:50:12.452_817+00:00 [27581] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:50:12.453_025+00:00 [27588] [INFO] 0x55c9bab3ec60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:50:12.453_623+00:00 [27588] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:50:12.453_628+00:00 [27588] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:50:12.453_772+00:00 [27588] [INFO] 0x7f57280018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:50:12.453_955+00:00 [27588] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:50:12.454_149+00:00 [27616] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:50:12.454_161+00:00 [27616] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:50:12.454_206+00:00 [27616] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:50:12.454_208+00:00 [27616] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:50:12.454_241+00:00 [27616] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:50:12.454_245+00:00 [27616] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:50:12.454_250+00:00 [27616] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:50:12.954_569+00:00 [27586] [INFO] 0x55c9bab3e8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:50:12.954_836+00:00 [27586] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:51:32.021_537+00:00 [27794] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:51:32.022_932+00:00 [27794] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:51:32.022_961+00:00 [27794] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:51:32.022_967+00:00 [27794] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:51:32.022_992+00:00 [27794] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:51:32.022_996+00:00 [27794] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:51:32.022_999+00:00 [27794] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:51:32.023_031+00:00 [27794] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:51:32.023_174+00:00 [27830] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:51:34.020_309+00:00 [27801] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:51:34.020_321+00:00 [27801] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:51:34.020_335+00:00 [27801] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:51:34.020_346+00:00 [27801] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:51:34.020_352+00:00 [27801] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:51:34.020_356+00:00 [27801] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:51:34.020_375+00:00 [27801] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:51:34.020_428+00:00 [27829] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:51:34.020_435+00:00 [27829] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:51:34.020_445+00:00 [27829] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:51:34.074_418+00:00 [27794] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:51:34.074_809+00:00 [27801] [INFO] 0x55b0ede388b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:51:34.075_122+00:00 [27801] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:51:34.075_130+00:00 [27801] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:51:34.075_180+00:00 [27829] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:51:34.075_191+00:00 [27829] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:51:34.075_238+00:00 [27829] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:51:34.075_241+00:00 [27829] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:51:34.075_282+00:00 [27829] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:51:34.075_286+00:00 [27829] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:51:34.075_292+00:00 [27829] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:51:34.324_737+00:00 [27794] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:51:34.324_918+00:00 [27801] [INFO] 0x55b0ede38c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:51:34.325_272+00:00 [27801] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:51:34.325_276+00:00 [27801] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:51:34.325_412+00:00 [27801] [INFO] 0x7f4b1c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:51:34.325_582+00:00 [27801] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:51:34.325_789+00:00 [27829] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:51:34.325_803+00:00 [27829] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:51:34.325_854+00:00 [27829] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:51:34.325_856+00:00 [27829] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:51:34.325_894+00:00 [27829] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:51:34.325_898+00:00 [27829] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:51:34.325_905+00:00 [27829] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:51:34.826_580+00:00 [27799] [INFO] 0x55b0ede388b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:51:34.827_201+00:00 [27806] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:52:53.904_514+00:00 [28018] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:52:53.905_881+00:00 [28018] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:52:53.905_911+00:00 [28018] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:52:53.905_917+00:00 [28018] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:52:53.905_940+00:00 [28018] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:52:53.905_944+00:00 [28018] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:52:53.905_947+00:00 [28018] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:52:53.905_974+00:00 [28018] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:52:53.906_121+00:00 [28054] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:52:55.107_214+00:00 [28025] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:52:55.107_226+00:00 [28025] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:52:55.107_240+00:00 [28025] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:52:55.107_256+00:00 [28025] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:52:55.107_262+00:00 [28025] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:52:55.107_266+00:00 [28025] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:52:55.107_283+00:00 [28025] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:52:55.107_338+00:00 [28053] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:52:55.107_346+00:00 [28053] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:52:55.107_356+00:00 [28053] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:52:55.206_853+00:00 [28018] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:52:55.207_197+00:00 [28025] [INFO] 0x55a6382048b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:52:55.207_528+00:00 [28025] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:52:55.207_536+00:00 [28025] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:52:55.207_584+00:00 [28053] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:52:55.207_594+00:00 [28053] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:52:55.207_635+00:00 [28053] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:52:55.207_637+00:00 [28053] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:52:55.207_678+00:00 [28053] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:52:55.207_681+00:00 [28053] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:52:55.207_686+00:00 [28053] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:52:55.457_291+00:00 [28018] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:52:55.457_500+00:00 [28025] [INFO] 0x55a638204c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:52:55.457_879+00:00 [28025] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:52:55.457_884+00:00 [28025] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:52:55.458_028+00:00 [28025] [INFO] 0x7f8dfc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:52:55.458_203+00:00 [28025] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:52:55.458_415+00:00 [28053] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:52:55.458_430+00:00 [28053] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:52:55.458_484+00:00 [28053] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:52:55.458_487+00:00 [28053] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:52:55.458_529+00:00 [28053] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:52:55.458_534+00:00 [28053] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:52:55.458_544+00:00 [28053] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:52:55.959_170+00:00 [28023] [INFO] 0x55a6382048b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:52:55.959_722+00:00 [28023] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:54:15.316_767+00:00 [28227] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:54:15.318_117+00:00 [28227] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:54:15.318_152+00:00 [28227] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:54:15.318_158+00:00 [28227] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:54:15.318_184+00:00 [28227] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:54:15.318_188+00:00 [28227] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:54:15.318_191+00:00 [28227] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:54:15.318_217+00:00 [28227] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:54:15.318_365+00:00 [28263] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:54:16.782_514+00:00 [28234] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:54:16.782_526+00:00 [28234] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:54:16.782_540+00:00 [28234] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:54:16.782_556+00:00 [28234] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:54:16.782_563+00:00 [28234] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:54:16.782_566+00:00 [28234] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:54:16.782_584+00:00 [28234] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:54:16.782_636+00:00 [28262] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:54:16.782_644+00:00 [28262] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:54:16.782_654+00:00 [28262] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:54:16.869_766+00:00 [28227] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:54:16.870_152+00:00 [28234] [INFO] 0x56287adff8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:54:16.870_463+00:00 [28234] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:54:16.870_471+00:00 [28234] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:54:16.870_524+00:00 [28262] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:54:16.870_534+00:00 [28262] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:54:16.870_580+00:00 [28262] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:54:16.870_583+00:00 [28262] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:54:16.870_628+00:00 [28262] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:54:16.870_631+00:00 [28262] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:54:16.870_637+00:00 [28262] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:54:17.120_028+00:00 [28227] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:54:17.120_250+00:00 [28234] [INFO] 0x56287adffc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:54:17.120_643+00:00 [28234] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:54:17.120_648+00:00 [28234] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:54:17.120_798+00:00 [28234] [INFO] 0x7f9d5c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:54:17.121_002+00:00 [28234] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:54:17.121_220+00:00 [28262] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:54:17.121_235+00:00 [28262] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:54:17.121_288+00:00 [28262] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:54:17.121_290+00:00 [28262] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:54:17.121_331+00:00 [28262] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:54:17.121_335+00:00 [28262] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:54:17.121_342+00:00 [28262] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:54:17.621_682+00:00 [28232] [INFO] 0x56287adff8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:54:17.621_925+00:00 [28232] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:55:36.950_757+00:00 [28439] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:55:36.952_468+00:00 [28439] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:55:36.952_499+00:00 [28439] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:55:36.952_503+00:00 [28439] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:55:36.952_525+00:00 [28439] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:55:36.952_529+00:00 [28439] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:55:36.952_532+00:00 [28439] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:55:36.952_897+00:00 [28439] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:55:36.953_412+00:00 [28475] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:55:38.946_071+00:00 [28446] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:55:38.946_083+00:00 [28446] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:55:38.946_098+00:00 [28446] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:55:38.946_109+00:00 [28446] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:55:38.946_115+00:00 [28446] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:55:38.946_119+00:00 [28446] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:55:38.946_138+00:00 [28446] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:55:38.946_193+00:00 [28474] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:55:38.946_201+00:00 [28474] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:55:38.946_211+00:00 [28474] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:55:39.004_081+00:00 [28439] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:55:39.004_456+00:00 [28446] [INFO] 0x5622556948b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:55:39.004_829+00:00 [28446] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:55:39.004_838+00:00 [28446] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:55:39.004_892+00:00 [28474] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:55:39.004_903+00:00 [28474] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:55:39.004_952+00:00 [28474] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:55:39.004_955+00:00 [28474] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:55:39.005_003+00:00 [28474] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:55:39.005_007+00:00 [28474] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:55:39.005_013+00:00 [28474] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:55:39.254_343+00:00 [28439] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:55:39.254_562+00:00 [28446] [INFO] 0x562255694c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:55:39.254_949+00:00 [28446] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:55:39.254_954+00:00 [28446] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:55:39.255_097+00:00 [28446] [INFO] 0x7fc6a80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:55:39.255_270+00:00 [28446] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:55:39.255_480+00:00 [28474] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:55:39.255_495+00:00 [28474] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:55:39.255_549+00:00 [28474] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:55:39.255_551+00:00 [28474] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:55:39.255_591+00:00 [28474] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:55:39.255_594+00:00 [28474] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:55:39.255_601+00:00 [28474] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:55:39.755_905+00:00 [28444] [INFO] 0x5622556948b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:55:39.756_167+00:00 [28444] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:56:58.595_110+00:00 [28646] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:56:58.596_507+00:00 [28646] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:56:58.596_539+00:00 [28646] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:56:58.596_543+00:00 [28646] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:56:58.596_567+00:00 [28646] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:56:58.596_571+00:00 [28646] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:56:58.596_574+00:00 [28646] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:56:58.596_608+00:00 [28646] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:56:58.596_751+00:00 [28682] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:56:59.989_847+00:00 [28653] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:56:59.989_860+00:00 [28653] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:56:59.989_875+00:00 [28653] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:56:59.989_893+00:00 [28653] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:56:59.989_900+00:00 [28653] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:56:59.989_904+00:00 [28653] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:56:59.989_924+00:00 [28653] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:56:59.989_984+00:00 [28681] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:56:59.989_993+00:00 [28681] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:56:59.990_005+00:00 [28681] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:57:00.147_711+00:00 [28646] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:57:00.148_140+00:00 [28653] [INFO] 0x55a7dbef28b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:57:00.148_448+00:00 [28653] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:57:00.148_455+00:00 [28653] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:57:00.148_500+00:00 [28681] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:57:00.148_509+00:00 [28681] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:57:00.148_555+00:00 [28681] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:57:00.148_557+00:00 [28681] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:57:00.148_595+00:00 [28681] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:57:00.148_598+00:00 [28681] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:57:00.148_603+00:00 [28681] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:57:00.397_966+00:00 [28646] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:57:00.398_178+00:00 [28653] [INFO] 0x55a7dbef2c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:57:00.398_565+00:00 [28653] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:57:00.398_570+00:00 [28653] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:57:00.398_743+00:00 [28653] [INFO] 0x7f49e40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:57:00.398_921+00:00 [28653] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:57:00.399_132+00:00 [28681] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:57:00.399_147+00:00 [28681] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:57:00.399_198+00:00 [28681] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:57:00.399_200+00:00 [28681] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:57:00.399_240+00:00 [28681] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:57:00.399_244+00:00 [28681] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:57:00.399_251+00:00 [28681] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:57:00.899_535+00:00 [28651] [INFO] 0x55a7dbef28b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:57:00.899_770+00:00 [28651] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:58:19.974_194+00:00 [28876] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:58:19.975_587+00:00 [28876] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:58:19.975_617+00:00 [28876] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:58:19.975_624+00:00 [28876] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:58:19.975_647+00:00 [28876] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:58:19.975_651+00:00 [28876] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:58:19.975_654+00:00 [28876] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:58:19.975_686+00:00 [28876] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:58:19.975_831+00:00 [28912] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:58:21.103_929+00:00 [28883] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:58:21.103_941+00:00 [28883] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:58:21.103_956+00:00 [28883] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:58:21.103_968+00:00 [28883] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:58:21.103_974+00:00 [28883] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:58:21.103_978+00:00 [28883] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:58:21.103_997+00:00 [28883] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:58:21.104_049+00:00 [28911] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:58:21.104_057+00:00 [28911] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:58:21.104_067+00:00 [28911] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:58:21.276_674+00:00 [28876] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:58:21.277_094+00:00 [28883] [INFO] 0x55bce9dce8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:58:21.277_456+00:00 [28883] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:58:21.277_464+00:00 [28883] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:58:21.277_517+00:00 [28911] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:58:21.277_528+00:00 [28911] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:58:21.277_575+00:00 [28911] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:58:21.277_578+00:00 [28911] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:58:21.277_621+00:00 [28911] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:58:21.277_625+00:00 [28911] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:58:21.277_630+00:00 [28911] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:58:21.526_942+00:00 [28876] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:58:21.527_176+00:00 [28883] [INFO] 0x55bce9dcec60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:58:21.527_569+00:00 [28883] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:58:21.527_574+00:00 [28883] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:58:21.527_716+00:00 [28883] [INFO] 0x7fcaa00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:58:21.527_887+00:00 [28883] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:58:21.528_096+00:00 [28911] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:58:21.528_111+00:00 [28911] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:58:21.528_165+00:00 [28911] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:58:21.528_168+00:00 [28911] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:58:21.528_206+00:00 [28911] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:58:21.528_211+00:00 [28911] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:58:21.528_218+00:00 [28911] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:58:22.028_503+00:00 [28881] [INFO] 0x55bce9dce8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:58:22.028_745+00:00 [28881] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:59:42.107_127+00:00 [29102] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T12:59:42.108_485+00:00 [29102] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T12:59:42.108_517+00:00 [29102] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T12:59:42.108_523+00:00 [29102] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T12:59:42.108_545+00:00 [29102] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T12:59:42.108_549+00:00 [29102] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T12:59:42.108_552+00:00 [29102] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T12:59:42.108_584+00:00 [29102] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T12:59:42.108_734+00:00 [29138] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T12:59:43.634_820+00:00 [29109] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T12:59:43.634_833+00:00 [29109] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T12:59:43.634_849+00:00 [29109] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T12:59:43.634_867+00:00 [29109] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T12:59:43.634_874+00:00 [29109] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T12:59:43.634_879+00:00 [29109] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T12:59:43.634_900+00:00 [29109] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T12:59:43.634_959+00:00 [29137] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:59:43.634_968+00:00 [29137] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:59:43.634_979+00:00 [29137] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:59:43.659_742+00:00 [29102] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:59:43.660_142+00:00 [29109] [INFO] 0x55f71e0288b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:59:43.660_484+00:00 [29109] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:59:43.660_491+00:00 [29109] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:59:43.660_543+00:00 [29137] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:59:43.660_554+00:00 [29137] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:59:43.660_601+00:00 [29137] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:59:43.660_603+00:00 [29137] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:59:43.660_647+00:00 [29137] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:59:43.660_651+00:00 [29137] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:59:43.660_656+00:00 [29137] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:59:43.910_018+00:00 [29102] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T12:59:43.910_256+00:00 [29109] [INFO] 0x55f71e028c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:59:43.910_635+00:00 [29109] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T12:59:43.910_640+00:00 [29109] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T12:59:43.910_805+00:00 [29109] [INFO] 0x7fc3900018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:59:43.910_975+00:00 [29109] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T12:59:43.911_187+00:00 [29137] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T12:59:43.911_202+00:00 [29137] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T12:59:43.911_256+00:00 [29137] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T12:59:43.911_258+00:00 [29137] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T12:59:43.911_299+00:00 [29137] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T12:59:43.911_303+00:00 [29137] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T12:59:43.911_310+00:00 [29137] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T12:59:44.411_635+00:00 [29107] [INFO] 0x55f71e0288b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T12:59:44.412_046+00:00 [29107] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:04:35.077_866+00:00 [29533] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:04:35.079_265+00:00 [29533] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:04:35.079_296+00:00 [29533] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:04:35.079_303+00:00 [29533] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:04:35.079_326+00:00 [29533] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:04:35.079_330+00:00 [29533] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:04:35.079_333+00:00 [29533] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:04:35.079_368+00:00 [29533] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:04:35.079_521+00:00 [29569] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:04:37.109_567+00:00 [29540] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:04:37.109_579+00:00 [29540] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:04:37.109_593+00:00 [29540] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:04:37.109_609+00:00 [29540] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:04:37.109_615+00:00 [29540] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:04:37.109_619+00:00 [29540] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:04:37.109_638+00:00 [29540] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:04:37.109_690+00:00 [29568] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:04:37.109_698+00:00 [29568] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:04:37.109_707+00:00 [29568] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:04:37.130_912+00:00 [29533] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:04:37.131_292+00:00 [29540] [INFO] 0x564bef42e8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:04:37.131_633+00:00 [29540] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:04:37.131_641+00:00 [29540] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:04:37.131_689+00:00 [29568] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:04:37.131_700+00:00 [29568] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:04:37.131_745+00:00 [29568] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:04:37.131_748+00:00 [29568] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:04:37.131_789+00:00 [29568] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:04:37.131_793+00:00 [29568] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:04:37.131_799+00:00 [29568] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:04:37.381_162+00:00 [29533] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:04:37.381_387+00:00 [29540] [INFO] 0x564bef42ec60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:04:37.381_793+00:00 [29540] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:04:37.381_799+00:00 [29540] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:04:37.381_960+00:00 [29540] [INFO] 0x7f26980018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:04:37.382_319+00:00 [29540] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:04:37.382_529+00:00 [29568] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:04:37.382_544+00:00 [29568] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:04:37.382_598+00:00 [29568] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:04:37.382_601+00:00 [29568] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:04:37.382_646+00:00 [29568] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:04:37.382_650+00:00 [29568] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:04:37.382_657+00:00 [29568] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:04:37.882_990+00:00 [29538] [INFO] 0x564bef42e8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:04:37.883_210+00:00 [29538] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:05:56.934_877+00:00 [29726] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:05:56.936_216+00:00 [29726] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:05:56.936_245+00:00 [29726] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:05:56.936_253+00:00 [29726] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:05:56.936_275+00:00 [29726] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:05:56.936_279+00:00 [29726] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:05:56.936_283+00:00 [29726] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:05:56.936_314+00:00 [29726] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:05:56.936_459+00:00 [29762] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:05:58.685_513+00:00 [29733] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:05:58.685_524+00:00 [29733] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:05:58.685_539+00:00 [29733] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:05:58.685_549+00:00 [29733] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:05:58.685_556+00:00 [29733] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:05:58.685_559+00:00 [29733] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:05:58.685_577+00:00 [29733] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:05:58.685_624+00:00 [29761] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:05:58.685_632+00:00 [29761] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:05:58.685_642+00:00 [29761] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:05:58.737_418+00:00 [29726] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:05:58.737_784+00:00 [29733] [INFO] 0x55ff643658b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:05:58.738_130+00:00 [29733] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:05:58.738_139+00:00 [29733] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:05:58.738_191+00:00 [29761] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:05:58.738_202+00:00 [29761] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:05:58.738_253+00:00 [29761] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:05:58.738_255+00:00 [29761] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:05:58.738_298+00:00 [29761] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:05:58.738_302+00:00 [29761] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:05:58.738_307+00:00 [29761] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:05:58.987_679+00:00 [29726] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:05:58.987_905+00:00 [29733] [INFO] 0x55ff64365c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:05:58.988_282+00:00 [29733] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:05:58.988_286+00:00 [29733] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:05:58.988_432+00:00 [29733] [INFO] 0x7f56b40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:05:58.988_604+00:00 [29733] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:05:58.988_815+00:00 [29761] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:05:58.988_830+00:00 [29761] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:05:58.988_886+00:00 [29761] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:05:58.988_889+00:00 [29761] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:05:58.988_931+00:00 [29761] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:05:58.988_936+00:00 [29761] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:05:58.988_943+00:00 [29761] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:05:59.489_237+00:00 [29731] [INFO] 0x55ff643658b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:05:59.489_482+00:00 [29731] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:07:18.330_970+00:00 [29945] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:07:18.332_358+00:00 [29945] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:07:18.332_388+00:00 [29945] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:07:18.332_396+00:00 [29945] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:07:18.332_418+00:00 [29945] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:07:18.332_423+00:00 [29945] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:07:18.332_426+00:00 [29945] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:07:18.332_453+00:00 [29945] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:07:18.332_596+00:00 [29981] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:07:20.352_660+00:00 [29952] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:07:20.352_671+00:00 [29952] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:07:20.352_686+00:00 [29952] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:07:20.352_698+00:00 [29952] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:07:20.352_705+00:00 [29952] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:07:20.352_709+00:00 [29952] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:07:20.352_728+00:00 [29952] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:07:20.352_779+00:00 [29980] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:07:20.352_788+00:00 [29980] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:07:20.352_799+00:00 [29980] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:07:20.383_687+00:00 [29945] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:07:20.384_088+00:00 [29952] [INFO] 0x55f8c21628b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:07:20.384_407+00:00 [29952] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:07:20.384_414+00:00 [29952] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:07:20.384_465+00:00 [29980] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:07:20.384_476+00:00 [29980] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:07:20.384_523+00:00 [29980] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:07:20.384_525+00:00 [29980] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:07:20.384_571+00:00 [29980] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:07:20.384_575+00:00 [29980] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:07:20.384_581+00:00 [29980] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:07:20.633_941+00:00 [29945] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:07:20.634_162+00:00 [29952] [INFO] 0x55f8c2162c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:07:20.634_681+00:00 [29952] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:07:20.634_687+00:00 [29952] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:07:20.634_988+00:00 [29952] [INFO] 0x7f25e80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:07:20.635_230+00:00 [29952] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:07:20.635_443+00:00 [29980] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:07:20.635_459+00:00 [29980] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:07:20.635_513+00:00 [29980] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:07:20.635_515+00:00 [29980] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:07:20.635_556+00:00 [29980] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:07:20.635_560+00:00 [29980] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:07:20.635_567+00:00 [29980] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:07:21.135_860+00:00 [29952] [INFO] 0x55f8c21628b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:07:21.136_099+00:00 [29952] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:08:39.973_783+00:00 [30166] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:08:39.975_178+00:00 [30166] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:08:39.975_215+00:00 [30166] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:08:39.975_220+00:00 [30166] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:08:39.975_244+00:00 [30166] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:08:39.975_248+00:00 [30166] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:08:39.975_252+00:00 [30166] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:08:39.975_286+00:00 [30166] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:08:39.975_441+00:00 [30202] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:08:41.886_496+00:00 [30173] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:08:41.886_508+00:00 [30173] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:08:41.886_522+00:00 [30173] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:08:41.886_533+00:00 [30173] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:08:41.886_539+00:00 [30173] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:08:41.886_542+00:00 [30173] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:08:41.886_560+00:00 [30173] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:08:41.886_612+00:00 [30201] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:08:41.886_621+00:00 [30201] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:08:41.886_631+00:00 [30201] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:08:42.026_460+00:00 [30166] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:08:42.026_870+00:00 [30173] [INFO] 0x55e793ae78b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:08:42.028_400+00:00 [30173] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:08:42.028_412+00:00 [30173] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:08:42.028_479+00:00 [30201] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:08:42.028_490+00:00 [30201] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:08:42.028_538+00:00 [30201] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:08:42.028_541+00:00 [30201] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:08:42.028_586+00:00 [30201] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:08:42.028_590+00:00 [30201] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:08:42.028_595+00:00 [30201] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:08:42.276_730+00:00 [30166] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:08:42.276_951+00:00 [30173] [INFO] 0x55e793ae7c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:08:42.277_348+00:00 [30173] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:08:42.277_353+00:00 [30173] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:08:42.277_505+00:00 [30173] [INFO] 0x7fa3180018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:08:42.278_135+00:00 [30173] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:08:42.278_351+00:00 [30201] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:08:42.278_366+00:00 [30201] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:08:42.278_421+00:00 [30201] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:08:42.278_423+00:00 [30201] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:08:42.278_464+00:00 [30201] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:08:42.278_468+00:00 [30201] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:08:42.278_475+00:00 [30201] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:08:42.778_813+00:00 [30171] [INFO] 0x55e793ae78b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:08:42.779_152+00:00 [30171] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:10:01.855_989+00:00 [30390] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:10:01.857_361+00:00 [30390] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:10:01.857_396+00:00 [30390] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:10:01.857_401+00:00 [30390] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:10:01.857_427+00:00 [30390] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:10:01.857_431+00:00 [30390] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:10:01.857_434+00:00 [30390] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:10:01.857_462+00:00 [30390] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:10:01.857_613+00:00 [30426] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:10:02.945_878+00:00 [30397] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:10:02.945_890+00:00 [30397] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:10:02.945_906+00:00 [30397] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:10:02.945_919+00:00 [30397] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:10:02.945_926+00:00 [30397] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:10:02.945_930+00:00 [30397] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:10:02.945_949+00:00 [30397] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:10:02.946_007+00:00 [30425] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:10:02.946_016+00:00 [30425] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:10:02.946_028+00:00 [30425] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:10:03.158_357+00:00 [30390] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:10:03.158_771+00:00 [30397] [INFO] 0x5645545e88b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:10:03.159_135+00:00 [30397] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:10:03.159_145+00:00 [30397] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:10:03.159_199+00:00 [30425] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:10:03.159_211+00:00 [30425] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:10:03.159_267+00:00 [30425] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:10:03.159_269+00:00 [30425] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:10:03.159_319+00:00 [30425] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:10:03.159_323+00:00 [30425] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:10:03.159_329+00:00 [30425] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:10:03.408_593+00:00 [30390] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:10:03.408_854+00:00 [30397] [INFO] 0x5645545e8c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:10:03.409_279+00:00 [30397] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:10:03.409_285+00:00 [30397] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:10:03.409_448+00:00 [30397] [INFO] 0x7fa78c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:10:03.409_741+00:00 [30397] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:10:03.409_925+00:00 [30425] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:10:03.409_938+00:00 [30425] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:10:03.409_984+00:00 [30425] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:10:03.409_986+00:00 [30425] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:10:03.410_022+00:00 [30425] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:10:03.410_026+00:00 [30425] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:10:03.410_032+00:00 [30425] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:10:03.910_319+00:00 [30395] [INFO] 0x5645545e88b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:10:03.910_602+00:00 [30395] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:11:23.987_936+00:00 [30600] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:11:23.989_310+00:00 [30600] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:11:23.989_349+00:00 [30600] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:11:23.989_353+00:00 [30600] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:11:23.989_376+00:00 [30600] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:11:23.989_380+00:00 [30600] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:11:23.989_383+00:00 [30600] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:11:23.989_410+00:00 [30600] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:11:23.989_562+00:00 [30636] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:11:25.063_592+00:00 [30607] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:11:25.063_602+00:00 [30607] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:11:25.063_617+00:00 [30607] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:11:25.063_628+00:00 [30607] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:11:25.063_634+00:00 [30607] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:11:25.063_637+00:00 [30607] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:11:25.063_656+00:00 [30607] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:11:25.063_707+00:00 [30635] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:11:25.063_715+00:00 [30635] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:11:25.063_725+00:00 [30635] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:11:25.290_333+00:00 [30600] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:11:25.290_773+00:00 [30607] [INFO] 0x556832ad38b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:11:25.291_132+00:00 [30607] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:11:25.291_141+00:00 [30607] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:11:25.291_194+00:00 [30635] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:11:25.291_205+00:00 [30635] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:11:25.291_252+00:00 [30635] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:11:25.291_255+00:00 [30635] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:11:25.291_298+00:00 [30635] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:11:25.291_302+00:00 [30635] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:11:25.291_308+00:00 [30635] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:11:25.540_746+00:00 [30600] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:11:25.540_974+00:00 [30607] [INFO] 0x556832ad3c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:11:25.541_361+00:00 [30607] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:11:25.541_367+00:00 [30607] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:11:25.541_523+00:00 [30607] [INFO] 0x7f05a40018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:11:25.541_695+00:00 [30607] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:11:25.541_898+00:00 [30635] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:11:25.541_914+00:00 [30635] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:11:25.541_989+00:00 [30635] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:11:25.541_992+00:00 [30635] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:11:25.542_043+00:00 [30635] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:11:25.542_048+00:00 [30635] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:11:25.542_056+00:00 [30635] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:11:26.042_380+00:00 [30605] [INFO] 0x556832ad38b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:11:26.042_608+00:00 [30605] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:12:45.906_188+00:00 [30833] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:12:45.907_611+00:00 [30833] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:12:45.907_643+00:00 [30833] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:12:45.907_649+00:00 [30833] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:12:45.907_673+00:00 [30833] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:12:45.907_677+00:00 [30833] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:12:45.907_679+00:00 [30833] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:12:45.907_707+00:00 [30833] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:12:45.907_862+00:00 [30869] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:12:47.813_899+00:00 [30840] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:12:47.813_911+00:00 [30840] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:12:47.813_927+00:00 [30840] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:12:47.813_939+00:00 [30840] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:12:47.813_945+00:00 [30840] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:12:47.813_950+00:00 [30840] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:12:47.813_971+00:00 [30840] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:12:47.814_023+00:00 [30868] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:12:47.814_031+00:00 [30868] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:12:47.814_040+00:00 [30868] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:12:47.958_987+00:00 [30833] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:12:47.959_438+00:00 [30840] [INFO] 0x56469f6828b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:12:47.959_746+00:00 [30840] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:12:47.959_754+00:00 [30840] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:12:47.959_806+00:00 [30868] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:12:47.959_818+00:00 [30868] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:12:47.959_864+00:00 [30868] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:12:47.959_866+00:00 [30868] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:12:47.959_910+00:00 [30868] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:12:47.959_914+00:00 [30868] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:12:47.959_920+00:00 [30868] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:12:48.209_214+00:00 [30833] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:12:48.209_396+00:00 [30840] [INFO] 0x56469f682c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:12:48.209_775+00:00 [30840] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:12:48.209_779+00:00 [30840] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:12:48.209_923+00:00 [30840] [INFO] 0x7fa0bc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:12:48.210_235+00:00 [30840] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:12:48.210_447+00:00 [30868] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:12:48.210_462+00:00 [30868] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:12:48.210_514+00:00 [30868] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:12:48.210_516+00:00 [30868] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:12:48.210_556+00:00 [30868] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:12:48.210_560+00:00 [30868] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:12:48.210_567+00:00 [30868] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:12:48.710_864+00:00 [30838] [INFO] 0x56469f6828b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:12:48.711_102+00:00 [30838] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:14:07.534_889+00:00 [31063] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:14:07.536_257+00:00 [31063] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:14:07.536_290+00:00 [31063] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:14:07.536_297+00:00 [31063] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:14:07.536_320+00:00 [31063] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:14:07.536_324+00:00 [31063] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:14:07.536_327+00:00 [31063] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:14:07.536_357+00:00 [31063] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:14:07.536_507+00:00 [31099] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:14:09.384_544+00:00 [31070] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:14:09.384_555+00:00 [31070] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:14:09.384_570+00:00 [31070] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:14:09.384_581+00:00 [31070] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:14:09.384_588+00:00 [31070] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:14:09.384_592+00:00 [31070] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:14:09.384_610+00:00 [31070] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:14:09.384_658+00:00 [31098] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:14:09.384_666+00:00 [31098] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:14:09.384_676+00:00 [31098] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:14:09.587_655+00:00 [31063] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:14:09.588_024+00:00 [31070] [INFO] 0x5605969598b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:14:09.588_331+00:00 [31070] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:14:09.588_339+00:00 [31070] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:14:09.588_392+00:00 [31098] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:14:09.588_404+00:00 [31098] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:14:09.588_451+00:00 [31098] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:14:09.588_453+00:00 [31098] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:14:09.588_498+00:00 [31098] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:14:09.588_501+00:00 [31098] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:14:09.588_507+00:00 [31098] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:14:09.837_898+00:00 [31063] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:14:09.838_118+00:00 [31070] [INFO] 0x560596959c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:14:09.838_502+00:00 [31070] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:14:09.838_507+00:00 [31070] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:14:09.838_648+00:00 [31070] [INFO] 0x7f77380018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:14:09.838_843+00:00 [31070] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:14:09.839_051+00:00 [31098] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:14:09.839_067+00:00 [31098] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:14:09.839_119+00:00 [31098] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:14:09.839_122+00:00 [31098] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:14:09.839_161+00:00 [31098] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:14:09.839_165+00:00 [31098] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:14:09.839_172+00:00 [31098] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:14:10.339_459+00:00 [31068] [INFO] 0x5605969598b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:14:10.339_758+00:00 [31068] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:15:29.413_358+00:00 [31295] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:15:29.414_796+00:00 [31295] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:15:29.414_827+00:00 [31295] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:15:29.414_834+00:00 [31295] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:15:29.414_857+00:00 [31295] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:15:29.414_861+00:00 [31295] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:15:29.414_863+00:00 [31295] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:15:29.414_896+00:00 [31295] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:15:29.415_050+00:00 [31331] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:15:30.929_102+00:00 [31302] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:15:30.929_116+00:00 [31302] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:15:30.929_131+00:00 [31302] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:15:30.929_142+00:00 [31302] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:15:30.929_149+00:00 [31302] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:15:30.929_153+00:00 [31302] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:15:30.929_172+00:00 [31302] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:15:30.929_229+00:00 [31330] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:15:30.929_237+00:00 [31330] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:15:30.929_248+00:00 [31330] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:15:30.965_861+00:00 [31295] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:15:30.966_287+00:00 [31302] [INFO] 0x55ddf445b8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:15:30.966_683+00:00 [31302] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:15:30.966_695+00:00 [31302] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:15:30.966_758+00:00 [31330] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:15:30.966_770+00:00 [31330] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:15:30.966_819+00:00 [31330] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:15:30.966_821+00:00 [31330] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:15:30.966_869+00:00 [31330] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:15:30.966_873+00:00 [31330] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:15:30.966_879+00:00 [31330] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:15:31.216_093+00:00 [31295] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:15:31.216_295+00:00 [31302] [INFO] 0x55ddf445bc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:15:31.216_694+00:00 [31302] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:15:31.216_699+00:00 [31302] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:15:31.216_841+00:00 [31302] [INFO] 0x7f1d9c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:15:31.217_019+00:00 [31302] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:15:31.217_223+00:00 [31330] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:15:31.217_238+00:00 [31330] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:15:31.217_292+00:00 [31330] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:15:31.217_295+00:00 [31330] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:15:31.217_336+00:00 [31330] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:15:31.217_340+00:00 [31330] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:15:31.217_348+00:00 [31330] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:15:31.717_674+00:00 [31300] [INFO] 0x55ddf445b8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:15:31.717_913+00:00 [31300] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:16:51.051_784+00:00 [31522] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:16:51.053_150+00:00 [31522] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:16:51.053_186+00:00 [31522] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:16:51.053_193+00:00 [31522] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:16:51.053_216+00:00 [31522] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:16:51.053_220+00:00 [31522] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:16:51.053_223+00:00 [31522] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:16:51.053_256+00:00 [31522] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:16:51.053_406+00:00 [31558] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:16:52.507_465+00:00 [31529] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:16:52.507_478+00:00 [31529] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:16:52.507_492+00:00 [31529] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:16:52.507_504+00:00 [31529] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:16:52.507_510+00:00 [31529] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:16:52.507_514+00:00 [31529] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:16:52.507_532+00:00 [31529] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:16:52.507_584+00:00 [31557] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:16:52.507_593+00:00 [31557] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:16:52.507_602+00:00 [31557] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:16:52.604_220+00:00 [31522] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:16:52.604_685+00:00 [31529] [INFO] 0x5598ecbb48b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:16:52.604_988+00:00 [31529] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:16:52.605_002+00:00 [31529] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:16:52.605_057+00:00 [31557] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:16:52.605_069+00:00 [31557] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:16:52.605_117+00:00 [31557] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:16:52.605_120+00:00 [31557] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:16:52.605_165+00:00 [31557] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:16:52.605_168+00:00 [31557] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:16:52.605_174+00:00 [31557] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:16:52.854_511+00:00 [31522] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:16:52.854_753+00:00 [31529] [INFO] 0x5598ecbb4c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:16:52.855_130+00:00 [31529] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:16:52.855_135+00:00 [31529] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:16:52.855_277+00:00 [31529] [INFO] 0x7f79880018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:16:52.855_448+00:00 [31529] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:16:52.855_650+00:00 [31557] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:16:52.855_666+00:00 [31557] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:16:52.855_717+00:00 [31557] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:16:52.855_740+00:00 [31557] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:16:52.855_781+00:00 [31557] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:16:52.855_785+00:00 [31557] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:16:52.855_792+00:00 [31557] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:16:53.356_092+00:00 [31527] [INFO] 0x5598ecbb48b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:16:53.356_319+00:00 [31527] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:20:35.474_419+00:00 [31873] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:20:35.475_818+00:00 [31873] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:20:35.475_852+00:00 [31873] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:20:35.475_856+00:00 [31873] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:20:35.475_878+00:00 [31873] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:20:35.475_882+00:00 [31873] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:20:35.475_885+00:00 [31873] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:20:35.475_916+00:00 [31873] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:20:35.476_072+00:00 [31909] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:20:36.563_141+00:00 [31880] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:20:36.563_153+00:00 [31880] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:20:36.563_168+00:00 [31880] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:20:36.563_178+00:00 [31880] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:20:36.563_185+00:00 [31880] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:20:36.563_188+00:00 [31880] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:20:36.563_207+00:00 [31880] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:20:36.563_258+00:00 [31908] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:20:36.563_266+00:00 [31908] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:20:36.563_276+00:00 [31908] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:20:36.776_832+00:00 [31873] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:20:36.777_228+00:00 [31880] [INFO] 0x559536f8e8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:20:36.777_576+00:00 [31880] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:20:36.777_584+00:00 [31880] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:20:36.777_639+00:00 [31908] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:20:36.777_649+00:00 [31908] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:20:36.777_693+00:00 [31908] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:20:36.777_696+00:00 [31908] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:20:36.777_739+00:00 [31908] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:20:36.777_743+00:00 [31908] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:20:36.777_748+00:00 [31908] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:20:37.027_094+00:00 [31873] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:20:37.027_323+00:00 [31880] [INFO] 0x559536f8ec60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:20:37.027_736+00:00 [31880] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:20:37.027_741+00:00 [31880] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:20:37.027_879+00:00 [31880] [INFO] 0x7f4f2c0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:20:37.028_083+00:00 [31880] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:20:37.028_298+00:00 [31908] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:20:37.028_313+00:00 [31908] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:20:37.028_366+00:00 [31908] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:20:37.028_369+00:00 [31908] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:20:37.028_410+00:00 [31908] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:20:37.028_414+00:00 [31908] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:20:37.028_421+00:00 [31908] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:20:37.528_725+00:00 [31878] [INFO] 0x559536f8e8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:20:37.528_955+00:00 [31878] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:21:57.102_563+00:00 [32090] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:21:57.104_636+00:00 [32090] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:21:57.104_667+00:00 [32090] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:21:57.104_671+00:00 [32090] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:21:57.104_696+00:00 [32090] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:21:57.104_700+00:00 [32090] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:21:57.104_703+00:00 [32090] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:21:57.104_737+00:00 [32090] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:21:57.105_279+00:00 [32126] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:21:58.437_957+00:00 [32096] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:21:58.437_969+00:00 [32096] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:21:58.437_985+00:00 [32096] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:21:58.437_998+00:00 [32096] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:21:58.438_005+00:00 [32096] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:21:58.438_009+00:00 [32096] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:21:58.438_029+00:00 [32096] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:21:58.438_086+00:00 [32125] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:21:58.438_094+00:00 [32125] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:21:58.438_105+00:00 [32125] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:21:58.655_742+00:00 [32090] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:21:58.656_178+00:00 [32096] [INFO] 0x56141e99a8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:21:58.656_686+00:00 [32096] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:21:58.656_693+00:00 [32096] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:21:58.656_753+00:00 [32125] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:21:58.656_765+00:00 [32125] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:21:58.656_882+00:00 [32125] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:21:58.656_886+00:00 [32125] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:21:58.656_943+00:00 [32125] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:21:58.656_947+00:00 [32125] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:21:58.656_954+00:00 [32125] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:21:58.906_139+00:00 [32090] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:21:58.906_338+00:00 [32096] [INFO] 0x56141e99ac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:21:58.906_732+00:00 [32096] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:21:58.906_737+00:00 [32096] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:21:58.906_881+00:00 [32096] [INFO] 0x7f0bb80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:21:58.907_054+00:00 [32096] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:21:58.907_261+00:00 [32125] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:21:58.907_277+00:00 [32125] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:21:58.907_328+00:00 [32125] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:21:58.907_331+00:00 [32125] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:21:58.907_371+00:00 [32125] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:21:58.907_375+00:00 [32125] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:21:58.907_381+00:00 [32125] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:21:59.408_080+00:00 [32124] [INFO] 0x56141e99a8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:21:59.408_310+00:00 [32124] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:23:18.749_712+00:00 [32310] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:23:18.751_815+00:00 [32310] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:23:18.751_848+00:00 [32310] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:23:18.751_852+00:00 [32310] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:23:18.751_876+00:00 [32310] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:23:18.751_881+00:00 [32310] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:23:18.751_884+00:00 [32310] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:23:18.751_921+00:00 [32310] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:23:18.752_427+00:00 [32346] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:23:20.078_115+00:00 [32317] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:23:20.078_128+00:00 [32317] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:23:20.078_144+00:00 [32317] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:23:20.078_161+00:00 [32317] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:23:20.078_168+00:00 [32317] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:23:20.078_172+00:00 [32317] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:23:20.078_191+00:00 [32317] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:23:20.078_248+00:00 [32345] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:23:20.078_256+00:00 [32345] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:23:20.078_268+00:00 [32345] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:23:20.302_880+00:00 [32310] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:23:20.303_326+00:00 [32317] [INFO] 0x55640d3bf8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:23:20.303_821+00:00 [32317] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:23:20.303_829+00:00 [32317] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:23:20.303_884+00:00 [32345] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:23:20.303_899+00:00 [32345] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:23:20.303_949+00:00 [32345] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:23:20.303_951+00:00 [32345] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:23:20.303_998+00:00 [32345] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:23:20.304_002+00:00 [32345] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:23:20.304_008+00:00 [32345] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:23:20.553_142+00:00 [32310] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:23:20.553_371+00:00 [32317] [INFO] 0x55640d3bfc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:23:20.553_811+00:00 [32317] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:23:20.553_816+00:00 [32317] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:23:20.553_969+00:00 [32317] [INFO] 0x7fb1980018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:23:20.554_146+00:00 [32317] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:23:20.554_356+00:00 [32345] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:23:20.554_371+00:00 [32345] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:23:20.554_425+00:00 [32345] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:23:20.554_427+00:00 [32345] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:23:20.554_469+00:00 [32345] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:23:20.554_473+00:00 [32345] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:23:20.554_480+00:00 [32345] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:23:21.054_815+00:00 [32344] [INFO] 0x55640d3bf8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:23:21.055_060+00:00 [32344] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:24:40.902_180+00:00 [32525] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:24:40.903_540+00:00 [32525] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:24:40.903_573+00:00 [32525] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:24:40.903_577+00:00 [32525] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:24:40.903_600+00:00 [32525] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:24:40.903_605+00:00 [32525] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:24:40.903_607+00:00 [32525] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:24:40.903_641+00:00 [32525] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:24:40.903_785+00:00 [32561] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:24:41.960_889+00:00 [32532] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:24:41.960_900+00:00 [32532] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:24:41.960_915+00:00 [32532] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:24:41.960_932+00:00 [32532] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:24:41.960_938+00:00 [32532] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:24:41.960_942+00:00 [32532] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:24:41.960_961+00:00 [32532] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:24:41.961_015+00:00 [32560] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:24:41.961_024+00:00 [32560] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:24:41.961_034+00:00 [32560] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:24:42.204_640+00:00 [32525] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:24:42.205_037+00:00 [32532] [INFO] 0x555ea05228b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:24:42.205_386+00:00 [32532] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:24:42.205_393+00:00 [32532] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:24:42.205_446+00:00 [32560] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:24:42.205_457+00:00 [32560] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:24:42.205_502+00:00 [32560] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:24:42.205_504+00:00 [32560] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:24:42.205_548+00:00 [32560] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:24:42.205_552+00:00 [32560] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:24:42.205_558+00:00 [32560] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:24:42.455_012+00:00 [32525] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:24:42.455_292+00:00 [32532] [INFO] 0x555ea0522c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:24:42.455_645+00:00 [32532] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:24:42.455_649+00:00 [32532] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:24:42.455_844+00:00 [32532] [INFO] 0x7fd0040018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:24:42.456_017+00:00 [32532] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:24:42.456_256+00:00 [32560] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:24:42.456_277+00:00 [32560] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:24:42.456_402+00:00 [32560] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:24:42.456_406+00:00 [32560] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:24:42.456_463+00:00 [32560] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:24:42.456_468+00:00 [32560] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:24:42.456_489+00:00 [32560] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:24:42.956_734+00:00 [32530] [INFO] 0x555ea05228b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:24:42.956_923+00:00 [32530] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:26:03.034_248+00:00 [32740] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:26:03.035_590+00:00 [32740] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:26:03.035_633+00:00 [32740] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:26:03.035_638+00:00 [32740] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:26:03.035_659+00:00 [32740] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:26:03.035_664+00:00 [32740] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:26:03.035_666+00:00 [32740] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:26:03.035_698+00:00 [32740] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:26:03.035_838+00:00 [32776] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:26:04.925_918+00:00 [32747] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:26:04.925_929+00:00 [32747] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:26:04.925_943+00:00 [32747] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:26:04.925_953+00:00 [32747] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:26:04.925_960+00:00 [32747] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:26:04.925_964+00:00 [32747] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:26:04.925_982+00:00 [32747] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:26:04.926_040+00:00 [32775] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:26:04.926_048+00:00 [32775] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:26:04.926_058+00:00 [32775] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:26:05.086_930+00:00 [32740] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:26:05.087_292+00:00 [32747] [INFO] 0x56479fa4d8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:26:05.087_605+00:00 [32747] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:26:05.087_613+00:00 [32747] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:26:05.087_665+00:00 [32775] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:26:05.087_677+00:00 [32775] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:26:05.087_730+00:00 [32775] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:26:05.087_732+00:00 [32775] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:26:05.087_775+00:00 [32775] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:26:05.087_779+00:00 [32775] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:26:05.087_784+00:00 [32775] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:26:05.337_197+00:00 [32740] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:26:05.337_431+00:00 [32747] [INFO] 0x56479fa4dc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:26:05.337_816+00:00 [32747] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:26:05.337_821+00:00 [32747] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:26:05.337_958+00:00 [32747] [INFO] 0x7fe8a00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:26:05.338_129+00:00 [32747] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:26:05.338_337+00:00 [32775] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:26:05.338_351+00:00 [32775] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:26:05.338_403+00:00 [32775] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:26:05.338_405+00:00 [32775] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:26:05.338_444+00:00 [32775] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:26:05.338_448+00:00 [32775] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:26:05.338_455+00:00 [32775] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:26:05.839_065+00:00 [32745] [INFO] 0x56479fa4d8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:26:05.839_297+00:00 [32745] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:27:24.702_778+00:00 [32967] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:27:24.704_154+00:00 [32967] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:27:24.704_185+00:00 [32967] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:27:24.704_191+00:00 [32967] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:27:24.704_214+00:00 [32967] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:27:24.704_218+00:00 [32967] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:27:24.704_221+00:00 [32967] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:27:24.704_249+00:00 [32967] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:27:24.704_400+00:00 [33003] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:27:25.850_461+00:00 [32974] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:27:25.850_473+00:00 [32974] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:27:25.850_488+00:00 [32974] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:27:25.850_506+00:00 [32974] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:27:25.850_513+00:00 [32974] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:27:25.850_517+00:00 [32974] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:27:25.850_536+00:00 [32974] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:27:25.850_588+00:00 [33002] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:27:25.850_596+00:00 [33002] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:27:25.850_606+00:00 [33002] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:27:26.005_205+00:00 [32967] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:27:26.005_615+00:00 [32974] [INFO] 0x5644690eb8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:27:26.005_958+00:00 [32974] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:27:26.005_968+00:00 [32974] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:27:26.006_017+00:00 [33002] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:27:26.006_026+00:00 [33002] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:27:26.006_069+00:00 [33002] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:27:26.006_071+00:00 [33002] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:27:26.006_113+00:00 [33002] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:27:26.006_116+00:00 [33002] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:27:26.006_121+00:00 [33002] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:27:26.255_524+00:00 [32967] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:27:26.255_743+00:00 [32974] [INFO] 0x5644690ebc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:27:26.256_250+00:00 [32974] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:27:26.256_255+00:00 [32974] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:27:26.256_395+00:00 [32974] [INFO] 0x7f15b80018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:27:26.256_569+00:00 [32974] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:27:26.256_821+00:00 [33002] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:27:26.256_841+00:00 [33002] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:27:26.256_915+00:00 [33002] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:27:26.256_918+00:00 [33002] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:27:26.256_971+00:00 [33002] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:27:26.256_975+00:00 [33002] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:27:26.256_982+00:00 [33002] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:27:26.757_408+00:00 [32972] [INFO] 0x5644690eb8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:27:26.757_601+00:00 [32972] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:28:46.621_286+00:00 [33192] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:28:46.622_618+00:00 [33192] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:28:46.622_656+00:00 [33192] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:28:46.622_689+00:00 [33192] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:28:46.622_712+00:00 [33192] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:28:46.622_716+00:00 [33192] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:28:46.622_719+00:00 [33192] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:28:46.622_747+00:00 [33192] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:28:46.622_893+00:00 [33228] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:28:48.131_968+00:00 [33199] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:28:48.131_980+00:00 [33199] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:28:48.131_996+00:00 [33199] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:28:48.132_017+00:00 [33199] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:28:48.132_023+00:00 [33199] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:28:48.132_028+00:00 [33199] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:28:48.132_047+00:00 [33199] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:28:48.132_104+00:00 [33227] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:28:48.132_113+00:00 [33227] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:28:48.132_124+00:00 [33227] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:28:48.174_104+00:00 [33192] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:28:48.174_497+00:00 [33199] [INFO] 0x563b50adf8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:28:48.174_859+00:00 [33199] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:28:48.174_866+00:00 [33199] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:28:48.174_913+00:00 [33227] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:28:48.174_922+00:00 [33227] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:28:48.174_964+00:00 [33227] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:28:48.174_966+00:00 [33227] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:28:48.175_005+00:00 [33227] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:28:48.175_009+00:00 [33227] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:28:48.175_013+00:00 [33227] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:28:48.424_351+00:00 [33192] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:28:48.424_553+00:00 [33199] [INFO] 0x563b50adfc60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:28:48.424_942+00:00 [33199] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:28:48.424_947+00:00 [33199] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:28:48.425_104+00:00 [33199] [INFO] 0x7fc6640018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:28:48.425_290+00:00 [33199] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:28:48.425_486+00:00 [33227] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:28:48.425_499+00:00 [33227] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:28:48.425_547+00:00 [33227] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:28:48.425_549+00:00 [33227] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:28:48.425_586+00:00 [33227] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:28:48.425_589+00:00 [33227] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:28:48.425_596+00:00 [33227] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:28:48.925_903+00:00 [33197] [INFO] 0x563b50adf8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:28:48.926_138+00:00 [33197] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:30:08.257_620+00:00 [33414] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:30:08.259_003+00:00 [33414] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:30:08.259_037+00:00 [33414] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:30:08.259_043+00:00 [33414] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:30:08.259_066+00:00 [33414] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:30:08.259_070+00:00 [33414] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:30:08.259_073+00:00 [33414] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:30:08.259_107+00:00 [33414] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:30:08.259_259+00:00 [33450] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:30:10.071_275+00:00 [33421] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:30:10.071_284+00:00 [33421] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:30:10.071_297+00:00 [33421] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:30:10.071_307+00:00 [33421] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:30:10.071_313+00:00 [33421] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:30:10.071_316+00:00 [33421] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:30:10.071_332+00:00 [33421] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:30:10.071_372+00:00 [33449] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:30:10.071_378+00:00 [33449] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:30:10.071_387+00:00 [33449] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:30:10.310_383+00:00 [33414] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:30:10.310_824+00:00 [33421] [INFO] 0x557d9faaa8b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:30:10.311_253+00:00 [33421] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:30:10.311_261+00:00 [33421] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:30:10.311_314+00:00 [33449] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:30:10.311_326+00:00 [33449] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:30:10.311_373+00:00 [33449] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:30:10.311_375+00:00 [33449] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:30:10.311_419+00:00 [33449] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:30:10.311_422+00:00 [33449] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:30:10.311_428+00:00 [33449] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:30:10.560_652+00:00 [33414] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:30:10.560_883+00:00 [33421] [INFO] 0x557d9faaac60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:30:10.561_270+00:00 [33421] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:30:10.561_275+00:00 [33421] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:30:10.561_417+00:00 [33421] [INFO] 0x7f88e00018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:30:10.561_611+00:00 [33421] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:30:10.561_834+00:00 [33449] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:30:10.561_849+00:00 [33449] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:30:10.561_909+00:00 [33449] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:30:10.561_912+00:00 [33449] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:30:10.561_953+00:00 [33449] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:30:10.561_957+00:00 [33449] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:30:10.561_964+00:00 [33449] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:30:11.062_204+00:00 [33419] [INFO] 0x557d9faaa8b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:30:11.062_415+00:00 [33419] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:31:30.387_303+00:00 [33622] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:31:30.388_649+00:00 [33622] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:31:30.388_681+00:00 [33622] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:31:30.388_688+00:00 [33622] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:31:30.388_709+00:00 [33622] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:31:30.388_714+00:00 [33622] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:31:30.388_717+00:00 [33622] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:31:30.388_745+00:00 [33622] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:31:30.388_897+00:00 [33658] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:31:32.127_942+00:00 [33629] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:31:32.127_954+00:00 [33629] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:31:32.127_968+00:00 [33629] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:31:32.127_980+00:00 [33629] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:31:32.127_986+00:00 [33629] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:31:32.127_990+00:00 [33629] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:31:32.128_011+00:00 [33629] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:31:32.128_062+00:00 [33657] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:31:32.128_070+00:00 [33657] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:31:32.128_080+00:00 [33657] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:31:32.189_920+00:00 [33622] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:31:32.190_347+00:00 [33629] [INFO] 0x55dd255f58b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:31:32.190_751+00:00 [33629] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:31:32.190_759+00:00 [33629] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:31:32.190_813+00:00 [33657] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:31:32.190_824+00:00 [33657] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:31:32.190_878+00:00 [33657] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:31:32.190_881+00:00 [33657] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:31:32.190_920+00:00 [33657] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:31:32.190_924+00:00 [33657] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:31:32.190_928+00:00 [33657] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:31:32.440_211+00:00 [33622] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:31:32.440_420+00:00 [33629] [INFO] 0x55dd255f5c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:31:32.440_795+00:00 [33629] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:31:32.440_800+00:00 [33629] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:31:32.440_942+00:00 [33629] [INFO] 0x7faacc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:31:32.441_113+00:00 [33629] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:31:32.441_324+00:00 [33657] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:31:32.441_339+00:00 [33657] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:31:32.441_390+00:00 [33657] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:31:32.441_393+00:00 [33657] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:31:32.441_431+00:00 [33657] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:31:32.441_436+00:00 [33657] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:31:32.441_445+00:00 [33657] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:31:32.941_748+00:00 [33627] [INFO] 0x55dd255f58b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:31:32.941_932+00:00 [33627] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:32:52.270_622+00:00 [33855] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-27T13:32:52.271_995+00:00 [33855] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-27T13:32:52.272_027+00:00 [33855] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-27T13:32:52.272_031+00:00 [33855] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-27T13:32:52.272_054+00:00 [33855] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-27T13:32:52.272_058+00:00 [33855] [INFO] peer 1: DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-27T13:32:52.272_061+00:00 [33855] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-27T13:32:52.272_089+00:00 [33855] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-27T13:32:52.272_229+00:00 [33891] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-27T13:32:54.294_296+00:00 [33862] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-27T13:32:54.294_306+00:00 [33862] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-27T13:32:54.294_321+00:00 [33862] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-27T13:32:54.294_332+00:00 [33862] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-27T13:32:54.294_338+00:00 [33862] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-27T13:32:54.294_341+00:00 [33862] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-27T13:32:54.294_361+00:00 [33862] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-27T13:32:54.294_417+00:00 [33890] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:32:54.294_425+00:00 [33890] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:32:54.294_436+00:00 [33890] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:32:54.323_322+00:00 [33855] [INFO] sent join request to peer 2, tcp://localhost:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:32:54.323_653+00:00 [33862] [INFO] 0x55d1664878b0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:32:54.324_001+00:00 [33862] [INFO] new server (2) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:32:54.324_014+00:00 [33862] [INFO] [SYNC LOG] LogSync is done for server 2 with log gap 0 (1 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:32:54.324_084+00:00 [33890] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:32:54.324_101+00:00 [33890] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:32:54.324_161+00:00 [33890] [INFO] server 2 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:32:54.324_165+00:00 [33890] [INFO] enable heartbeating for server 2	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:32:54.324_223+00:00 [33890] [INFO] add peer 2, tcp://localhost:12345, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:32:54.324_228+00:00 [33890] [INFO] clearing uncommitted config at log 2, prev 1	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:32:54.324_237+00:00 [33890] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:32:54.573_546+00:00 [33855] [INFO] sent join request to peer 3, tcp://localhost:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-27T13:32:54.573_738+00:00 [33862] [INFO] 0x55d166487c60 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:32:54.574_172+00:00 [33862] [INFO] new server (3) confirms it will join, start syncing logs to it	[handle_join_leave.cxx:199, handle_join_cluster_resp()]
2022-04-27T13:32:54.574_177+00:00 [33862] [INFO] [SYNC LOG] LogSync is done for server 3 with log gap 1 (2 - 1, limit 99999), now put the server into cluster	[handle_join_leave.cxx:222, sync_log_to_new_srv()]
2022-04-27T13:32:54.574_313+00:00 [33862] [INFO] 0x7fbdcc0018d0 connected to localhost:12345 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:32:54.574_488+00:00 [33862] [INFO] declined append: peer 2, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
2022-04-27T13:32:54.574_722+00:00 [33890] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:396, commit_conf()]
2022-04-27T13:32:54.574_738+00:00 [33890] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:589, reconfigure()]
2022-04-27T13:32:54.574_789+00:00 [33890] [INFO] server 3 is added to cluster	[handle_commit.cxx:667, reconfigure()]
2022-04-27T13:32:54.574_792+00:00 [33890] [INFO] enable heartbeating for server 3	[handle_commit.cxx:671, reconfigure()]
2022-04-27T13:32:54.574_834+00:00 [33890] [INFO] add peer 3, tcp://localhost:12346, voting member	[handle_commit.cxx:766, reconfigure()]
2022-04-27T13:32:54.574_839+00:00 [33890] [INFO] clearing uncommitted config at log 3, prev 2	[handle_commit.cxx:774, reconfigure()]
2022-04-27T13:32:54.574_845+00:00 [33890] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 1, tcp://localhost:12347, voting member, 50
peer 2, DC ID 1, tcp://localhost:12345, voting member, 50
peer 3, DC ID 1, tcp://localhost:12346, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-27T13:32:55.075_123+00:00 [33860] [INFO] 0x55d1664878b0 connected to localhost:12346 (as a client)	[asio_service.cxx:1233, connected()]
2022-04-27T13:32:55.075_360+00:00 [33860] [INFO] declined append: peer 3, prev next log idx 4, resp next 2, new next log idx 2	[handle_append_entries.cxx:946, handle_append_entries_resp()]
