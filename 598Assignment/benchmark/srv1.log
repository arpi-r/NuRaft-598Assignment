2022-04-23T12:56:12.521_257-05:00 [106323] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T12:56:12.523_917-05:00 [106323] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T12:56:12.523_945-05:00 [106323] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T12:56:12.523_949-05:00 [106323] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T12:56:12.523_991-05:00 [106323] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T12:56:12.523_997-05:00 [106323] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T12:56:12.524_000-05:00 [106323] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T12:56:12.524_046-05:00 [106323] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T12:56:12.524_117-05:00 [106359] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T12:56:13.594_349-05:00 [106356] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T12:56:13.594_378-05:00 [106356] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T12:56:13.594_405-05:00 [106356] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T12:56:13.594_427-05:00 [106356] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T12:56:13.594_442-05:00 [106356] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T12:56:13.594_452-05:00 [106356] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T12:56:13.594_470-05:00 [106356] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T12:56:13.594_599-05:00 [106358] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T12:56:13.594_630-05:00 [106358] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T12:56:13.594_661-05:00 [106358] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T12:56:13.825_637-05:00 [106323] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T12:56:23.834_481-05:00 [106323] [WARN] previous adding server (2) is in progress, last activity: 10009 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T12:56:23.834_502-05:00 [106323] [WARN] activity timeout (last activity 10009 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T12:56:23.834_744-05:00 [106323] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:41:58.020_437+00:00 [12323] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:41:58.021_887+00:00 [12323] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:41:58.021_914+00:00 [12323] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:41:58.021_920+00:00 [12323] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:41:58.021_943+00:00 [12323] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:41:58.021_947+00:00 [12323] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:41:58.021_949+00:00 [12323] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:41:58.021_987+00:00 [12323] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:41:58.022_024+00:00 [12359] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:41:59.639_155+00:00 [12326] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:41:59.639_164+00:00 [12326] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:41:59.639_178+00:00 [12326] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:41:59.639_186+00:00 [12326] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:41:59.639_192+00:00 [12326] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:41:59.639_194+00:00 [12326] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:41:59.639_210+00:00 [12326] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:41:59.639_282+00:00 [12358] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:41:59.639_295+00:00 [12358] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:41:59.639_305+00:00 [12358] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:41:59.823_039+00:00 [12323] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:42:09.826_927+00:00 [12323] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:42:09.826_935+00:00 [12323] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:42:09.827_030+00:00 [12323] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:42:22.637_948+00:00 [12358] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:22.637_957+00:00 [12358] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:22.637_975+00:00 [12358] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:22.637_980+00:00 [12358] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:25.465_255+00:00 [12358] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:25.465_265+00:00 [12358] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:25.465_283+00:00 [12358] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:25.465_288+00:00 [12358] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:28.269_783+00:00 [12358] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:28.269_793+00:00 [12358] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:28.269_811+00:00 [12358] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:28.269_814+00:00 [12358] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:31.108_136+00:00 [12358] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:31.108_149+00:00 [12358] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:31.108_170+00:00 [12358] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:31.108_174+00:00 [12358] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:33.900_681+00:00 [12358] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:33.900_691+00:00 [12358] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:33.900_709+00:00 [12358] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:33.900_713+00:00 [12358] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:36.728_479+00:00 [12358] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:36.728_494+00:00 [12358] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:36.728_520+00:00 [12358] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:36.728_524+00:00 [12358] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:39.528_928+00:00 [12358] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:39.528_937+00:00 [12358] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:39.528_954+00:00 [12358] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:39.528_961+00:00 [12358] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:53.622_266+00:00 [12526] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:42:53.623_741+00:00 [12526] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:42:53.623_775+00:00 [12526] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:42:53.623_783+00:00 [12526] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:42:53.623_805+00:00 [12526] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:42:53.623_809+00:00 [12526] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:42:53.623_812+00:00 [12526] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:42:53.623_853+00:00 [12526] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:42:53.623_873+00:00 [12562] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:42:54.959_008+00:00 [12529] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:42:54.959_018+00:00 [12529] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:42:54.959_030+00:00 [12529] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:42:54.959_040+00:00 [12529] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:42:54.959_046+00:00 [12529] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:42:54.959_048+00:00 [12529] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:42:54.959_064+00:00 [12529] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:42:54.959_131+00:00 [12561] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:42:54.959_145+00:00 [12561] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:42:54.959_155+00:00 [12561] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:42:55.174_727+00:00 [12526] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:43:05.178_499+00:00 [12526] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:43:05.178_507+00:00 [12526] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:43:05.178_610+00:00 [12526] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:43:17.984_856+00:00 [12561] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:17.984_866+00:00 [12561] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:17.984_890+00:00 [12561] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:17.984_895+00:00 [12561] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:20.829_383+00:00 [12561] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:20.829_396+00:00 [12561] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:20.829_417+00:00 [12561] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:20.829_422+00:00 [12561] [INFO] create snapshot idx 200000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:23.706_848+00:00 [12561] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:23.706_857+00:00 [12561] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:23.706_874+00:00 [12561] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:23.706_879+00:00 [12561] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:26.475_249+00:00 [12561] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:26.475_260+00:00 [12561] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:26.475_289+00:00 [12561] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:26.475_294+00:00 [12561] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:29.276_697+00:00 [12561] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:29.276_707+00:00 [12561] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:29.276_724+00:00 [12561] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:29.276_731+00:00 [12561] [INFO] create snapshot idx 500000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:32.128_292+00:00 [12561] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:32.128_305+00:00 [12561] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:32.128_330+00:00 [12561] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:32.128_335+00:00 [12561] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:34.979_564+00:00 [12561] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:34.979_574+00:00 [12561] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:34.979_595+00:00 [12561] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:34.979_599+00:00 [12561] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:44.698_348+00:00 [12738] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:43:44.699_840+00:00 [12738] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:43:44.699_867+00:00 [12738] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:43:44.699_874+00:00 [12738] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:43:44.699_895+00:00 [12738] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:43:44.699_899+00:00 [12738] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:43:44.699_902+00:00 [12738] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:43:44.699_944+00:00 [12738] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:43:44.699_974+00:00 [12774] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:43:46.380_101+00:00 [12741] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:43:46.380_110+00:00 [12741] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:43:46.380_124+00:00 [12741] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:43:46.380_134+00:00 [12741] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:43:46.380_139+00:00 [12741] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:43:46.380_142+00:00 [12741] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:43:46.380_158+00:00 [12741] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:43:46.380_221+00:00 [12773] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:43:46.380_235+00:00 [12773] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:43:46.380_245+00:00 [12773] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:43:46.501_157+00:00 [12738] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:43:56.504_700+00:00 [12738] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:43:56.504_707+00:00 [12738] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:43:56.504_795+00:00 [12738] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:44:09.842_061+00:00 [12773] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:09.842_073+00:00 [12773] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:09.842_096+00:00 [12773] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:09.842_100+00:00 [12773] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:13.175_252+00:00 [12773] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:13.175_262+00:00 [12773] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:13.175_282+00:00 [12773] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:13.175_288+00:00 [12773] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:16.508_555+00:00 [12773] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:16.508_564+00:00 [12773] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:16.508_581+00:00 [12773] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:16.508_585+00:00 [12773] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:19.841_967+00:00 [12773] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:19.841_976+00:00 [12773] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:19.841_994+00:00 [12773] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:19.841_999+00:00 [12773] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:23.175_126+00:00 [12773] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:23.175_135+00:00 [12773] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:23.175_159+00:00 [12773] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:23.175_163+00:00 [12773] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:20.960_452+00:00 [13210] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:45:20.961_896+00:00 [13210] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:45:20.961_932+00:00 [13210] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:45:20.961_937+00:00 [13210] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:45:20.961_959+00:00 [13210] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:45:20.961_963+00:00 [13210] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:45:20.961_966+00:00 [13210] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:45:20.962_008+00:00 [13210] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:45:20.962_038+00:00 [13246] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:45:22.085_159+00:00 [13213] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:45:22.085_167+00:00 [13213] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:45:22.085_181+00:00 [13213] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:45:22.085_190+00:00 [13213] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:45:22.085_196+00:00 [13213] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:45:22.085_199+00:00 [13213] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:45:22.085_215+00:00 [13213] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:45:22.085_270+00:00 [13245] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:45:22.085_278+00:00 [13245] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:45:22.085_288+00:00 [13245] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:45:22.262_712+00:00 [13210] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:45:32.266_589+00:00 [13210] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:45:32.266_596+00:00 [13210] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:45:32.266_691+00:00 [13210] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:45:45.078_818+00:00 [13245] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:45.078_828+00:00 [13245] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:45.078_845+00:00 [13245] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:45.078_852+00:00 [13245] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:47.893_137+00:00 [13245] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:47.893_146+00:00 [13245] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:47.893_165+00:00 [13245] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:47.893_170+00:00 [13245] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:50.729_030+00:00 [13245] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:50.729_041+00:00 [13245] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:50.729_064+00:00 [13245] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:50.729_069+00:00 [13245] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:53.572_639+00:00 [13245] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:53.572_648+00:00 [13245] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:53.572_667+00:00 [13245] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:53.572_677+00:00 [13245] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:56.457_333+00:00 [13245] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:56.457_342+00:00 [13245] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:56.457_362+00:00 [13245] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:56.457_370+00:00 [13245] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:59.279_998+00:00 [13245] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:59.280_009+00:00 [13245] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:59.280_033+00:00 [13245] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:59.280_038+00:00 [13245] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:02.331_902+00:00 [13339] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:46:02.333_334+00:00 [13339] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:46:02.333_371+00:00 [13339] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:46:02.333_377+00:00 [13339] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:46:02.333_399+00:00 [13339] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:46:02.333_402+00:00 [13339] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:46:02.333_405+00:00 [13339] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:46:02.333_439+00:00 [13339] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:46:02.333_464+00:00 [13375] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:46:03.626_611+00:00 [13344] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:46:03.626_621+00:00 [13344] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:46:03.626_633+00:00 [13344] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:46:03.626_643+00:00 [13344] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:46:03.626_648+00:00 [13344] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:46:03.626_651+00:00 [13344] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:46:03.626_667+00:00 [13344] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:46:03.626_739+00:00 [13374] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:46:03.626_753+00:00 [13374] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:46:03.626_763+00:00 [13374] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:46:03.634_482+00:00 [13339] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:46:13.638_555+00:00 [13339] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:46:13.638_569+00:00 [13339] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:46:13.638_661+00:00 [13339] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:46:25.872_332+00:00 [13374] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:25.872_344+00:00 [13374] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:25.872_367+00:00 [13374] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:25.872_375+00:00 [13374] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:28.091_515+00:00 [13374] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:28.091_524+00:00 [13374] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:28.091_541+00:00 [13374] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:28.091_545+00:00 [13374] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:30.319_867+00:00 [13374] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:30.319_880+00:00 [13374] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:30.319_903+00:00 [13374] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:30.319_908+00:00 [13374] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:32.556_612+00:00 [13374] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:32.556_627+00:00 [13374] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:32.556_649+00:00 [13374] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:32.556_653+00:00 [13374] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:34.792_257+00:00 [13374] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:34.792_269+00:00 [13374] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:34.792_290+00:00 [13374] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:34.792_294+00:00 [13374] [INFO] create snapshot idx 500000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:37.033_664+00:00 [13374] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:37.033_675+00:00 [13374] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:37.033_695+00:00 [13374] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:37.033_703+00:00 [13374] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:39.266_900+00:00 [13374] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:39.266_909+00:00 [13374] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:39.266_925+00:00 [13374] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:39.266_929+00:00 [13374] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:41.511_133+00:00 [13374] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:41.511_145+00:00 [13374] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:41.511_166+00:00 [13374] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:41.511_175+00:00 [13374] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:43.728_130+00:00 [13431] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:46:43.729_579+00:00 [13431] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:46:43.729_618+00:00 [13431] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:46:43.729_623+00:00 [13431] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:46:43.729_648+00:00 [13431] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:46:43.729_652+00:00 [13431] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:46:43.729_655+00:00 [13431] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:46:43.729_697+00:00 [13431] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:46:43.729_721+00:00 [13467] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:46:45.332_879+00:00 [13434] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:46:45.332_889+00:00 [13434] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:46:45.332_901+00:00 [13434] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:46:45.332_910+00:00 [13434] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:46:45.332_916+00:00 [13434] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:46:45.332_919+00:00 [13434] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:46:45.332_934+00:00 [13434] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:46:45.333_004+00:00 [13466] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:46:45.333_018+00:00 [13466] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:46:45.333_029+00:00 [13466] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:46:45.530_757+00:00 [13431] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:46:55.534_826+00:00 [13431] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:46:55.534_834+00:00 [13431] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:46:55.534_930+00:00 [13431] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:47:07.619_783+00:00 [13466] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:07.619_796+00:00 [13466] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:07.619_816+00:00 [13466] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:07.619_820+00:00 [13466] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:09.665_461+00:00 [13466] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:09.665_474+00:00 [13466] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:09.665_497+00:00 [13466] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:09.665_501+00:00 [13466] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:11.747_895+00:00 [13466] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:11.747_906+00:00 [13466] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:11.747_926+00:00 [13466] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:11.747_931+00:00 [13466] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:13.821_635+00:00 [13466] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:13.821_645+00:00 [13466] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:13.821_668+00:00 [13466] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:13.821_672+00:00 [13466] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:15.902_586+00:00 [13466] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:15.902_600+00:00 [13466] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:15.902_620+00:00 [13466] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:15.902_624+00:00 [13466] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:17.993_289+00:00 [13466] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:17.993_301+00:00 [13466] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:17.993_325+00:00 [13466] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:17.993_330+00:00 [13466] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:20.072_363+00:00 [13466] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:20.072_375+00:00 [13466] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:20.072_412+00:00 [13466] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:20.072_422+00:00 [13466] [INFO] create snapshot idx 700000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:22.155_678+00:00 [13466] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:22.155_690+00:00 [13466] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:22.155_725+00:00 [13466] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:22.155_730+00:00 [13466] [INFO] create snapshot idx 800000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:24.233_225+00:00 [13466] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:24.233_238+00:00 [13466] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:24.233_258+00:00 [13466] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:24.233_263+00:00 [13466] [INFO] create snapshot idx 900000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:25.632_258+00:00 [13513] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:47:25.633_710+00:00 [13513] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:47:25.633_739+00:00 [13513] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:47:25.633_743+00:00 [13513] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:47:25.633_765+00:00 [13513] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:47:25.633_769+00:00 [13513] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:47:25.633_772+00:00 [13513] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:47:25.633_803+00:00 [13513] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:47:25.633_836+00:00 [13549] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:47:27.354_970+00:00 [13516] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:47:27.354_979+00:00 [13516] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:47:27.354_993+00:00 [13516] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:47:27.355_002+00:00 [13516] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:47:27.355_008+00:00 [13516] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:47:27.355_012+00:00 [13516] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:47:27.355_029+00:00 [13516] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:47:27.355_088+00:00 [13548] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:47:27.355_096+00:00 [13548] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:47:27.355_104+00:00 [13548] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:47:27.434_775+00:00 [13513] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:47:37.439_020+00:00 [13513] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:47:37.439_028+00:00 [13513] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:47:37.439_123+00:00 [13513] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:47:49.500_056+00:00 [13548] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:49.500_069+00:00 [13548] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:49.500_093+00:00 [13548] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:49.500_099+00:00 [13548] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:51.535_024+00:00 [13548] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:51.535_036+00:00 [13548] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:51.535_058+00:00 [13548] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:51.535_068+00:00 [13548] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:53.575_062+00:00 [13548] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:53.575_074+00:00 [13548] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:53.575_097+00:00 [13548] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:53.575_102+00:00 [13548] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:55.610_872+00:00 [13548] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:55.610_885+00:00 [13548] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:55.610_909+00:00 [13548] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:55.610_913+00:00 [13548] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:57.661_708+00:00 [13548] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:57.661_724+00:00 [13548] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:57.661_755+00:00 [13548] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:57.661_764+00:00 [13548] [INFO] create snapshot idx 500000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:59.713_422+00:00 [13548] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:59.713_433+00:00 [13548] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:59.713_451+00:00 [13548] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:59.713_454+00:00 [13548] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:01.773_245+00:00 [13548] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:01.773_258+00:00 [13548] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:01.773_287+00:00 [13548] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:01.773_292+00:00 [13548] [INFO] create snapshot idx 700000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:03.838_808+00:00 [13548] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:03.838_821+00:00 [13548] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:03.838_860+00:00 [13548] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:03.838_865+00:00 [13548] [INFO] create snapshot idx 800000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:05.893_194+00:00 [13548] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:05.893_204+00:00 [13548] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:05.893_227+00:00 [13548] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:05.893_232+00:00 [13548] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:07.540_432+00:00 [13617] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:48:07.541_889+00:00 [13617] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:48:07.541_923+00:00 [13617] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:48:07.541_928+00:00 [13617] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:48:07.541_952+00:00 [13617] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:48:07.541_956+00:00 [13617] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:48:07.541_959+00:00 [13617] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:48:07.541_995+00:00 [13617] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:48:07.542_028+00:00 [13653] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:48:09.189_184+00:00 [13620] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:48:09.189_193+00:00 [13620] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:48:09.189_205+00:00 [13620] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:48:09.189_216+00:00 [13620] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:48:09.189_221+00:00 [13620] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:48:09.189_224+00:00 [13620] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:48:09.189_239+00:00 [13620] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:48:09.189_312+00:00 [13652] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:48:09.189_326+00:00 [13652] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:48:09.189_336+00:00 [13652] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:48:09.342_998+00:00 [13617] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:48:19.347_350+00:00 [13617] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:48:19.347_358+00:00 [13617] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:48:19.347_454+00:00 [13617] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:48:31.436_723+00:00 [13652] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:31.436_733+00:00 [13652] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:31.436_755+00:00 [13652] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:31.436_763+00:00 [13652] [INFO] create snapshot idx 100000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:33.481_709+00:00 [13652] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:33.481_721+00:00 [13652] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:33.481_745+00:00 [13652] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:33.481_750+00:00 [13652] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:35.532_301+00:00 [13652] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:35.532_314+00:00 [13652] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:35.532_337+00:00 [13652] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:35.532_342+00:00 [13652] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:37.594_476+00:00 [13652] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:37.594_486+00:00 [13652] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:37.594_509+00:00 [13652] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:37.594_515+00:00 [13652] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:39.647_910+00:00 [13652] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:39.647_923+00:00 [13652] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:39.647_943+00:00 [13652] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:39.647_947+00:00 [13652] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:41.725_124+00:00 [13652] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:41.725_137+00:00 [13652] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:41.725_160+00:00 [13652] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:41.725_165+00:00 [13652] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:43.787_969+00:00 [13652] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:43.787_981+00:00 [13652] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:43.788_005+00:00 [13652] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:43.788_013+00:00 [13652] [INFO] create snapshot idx 700000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:45.850_800+00:00 [13652] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:45.850_824+00:00 [13652] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:45.850_849+00:00 [13652] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:45.850_856+00:00 [13652] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:47.919_825+00:00 [13652] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:47.919_837+00:00 [13652] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:47.919_860+00:00 [13652] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:47.919_865+00:00 [13652] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:49.454_110+00:00 [13702] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:48:49.455_602+00:00 [13702] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:48:49.455_637+00:00 [13702] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:48:49.455_642+00:00 [13702] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:48:49.455_663+00:00 [13702] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:48:49.455_667+00:00 [13702] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:48:49.455_670+00:00 [13702] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:48:49.455_702+00:00 [13702] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:48:49.455_728+00:00 [13738] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:48:51.306_884+00:00 [13705] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:48:51.306_893+00:00 [13705] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:48:51.306_908+00:00 [13705] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:48:51.306_918+00:00 [13705] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:48:51.306_924+00:00 [13705] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:48:51.306_927+00:00 [13705] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:48:51.306_944+00:00 [13705] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:48:51.307_000+00:00 [13737] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:48:51.307_010+00:00 [13737] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:48:51.307_020+00:00 [13737] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:48:51.507_321+00:00 [13702] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:01.511_907+00:00 [13702] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:49:01.511_914+00:00 [13702] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:49:01.512_017+00:00 [13702] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:13.583_558+00:00 [13737] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:13.583_570+00:00 [13737] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:13.583_593+00:00 [13737] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:13.583_598+00:00 [13737] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:15.638_649+00:00 [13737] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:15.638_659+00:00 [13737] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:15.638_681+00:00 [13737] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:15.638_685+00:00 [13737] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:17.684_841+00:00 [13737] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:17.684_854+00:00 [13737] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:17.684_878+00:00 [13737] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:17.684_887+00:00 [13737] [INFO] create snapshot idx 300000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:19.733_046+00:00 [13737] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:19.733_060+00:00 [13737] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:19.733_092+00:00 [13737] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:19.733_101+00:00 [13737] [INFO] create snapshot idx 400000 log_term 1 done: 34 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:21.796_588+00:00 [13737] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:21.796_601+00:00 [13737] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:21.796_624+00:00 [13737] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:21.796_629+00:00 [13737] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:23.851_247+00:00 [13737] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:23.851_261+00:00 [13737] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:23.851_304+00:00 [13737] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:23.851_311+00:00 [13737] [INFO] create snapshot idx 600000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:25.916_840+00:00 [13737] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:25.916_853+00:00 [13737] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:25.916_876+00:00 [13737] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:25.916_882+00:00 [13737] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:27.995_152+00:00 [13737] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:27.995_164+00:00 [13737] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:27.995_195+00:00 [13737] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:27.995_199+00:00 [13737] [INFO] create snapshot idx 800000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:30.061_941+00:00 [13737] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:30.061_953+00:00 [13737] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:30.061_973+00:00 [13737] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:30.061_977+00:00 [13737] [INFO] create snapshot idx 900000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:31.618_625+00:00 [13792] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:49:31.620_133+00:00 [13792] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:49:31.620_171+00:00 [13792] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:49:31.620_175+00:00 [13792] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:49:31.620_200+00:00 [13792] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:49:31.620_204+00:00 [13792] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:49:31.620_207+00:00 [13792] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:49:31.620_243+00:00 [13792] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:49:31.620_277+00:00 [13828] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:49:32.680_391+00:00 [13795] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:49:32.680_400+00:00 [13795] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:49:32.680_412+00:00 [13795] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:49:32.680_423+00:00 [13795] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:49:32.680_428+00:00 [13795] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:49:32.680_431+00:00 [13795] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:49:32.680_446+00:00 [13795] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:49:32.680_515+00:00 [13827] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:49:32.680_528+00:00 [13827] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:49:32.680_538+00:00 [13827] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:49:32.921_045+00:00 [13792] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:42.925_140+00:00 [13792] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:49:42.925_148+00:00 [13792] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:49:42.925_243+00:00 [13792] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:55.024_442+00:00 [13827] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:55.024_455+00:00 [13827] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:55.024_517+00:00 [13827] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:55.024_523+00:00 [13827] [INFO] create snapshot idx 100000 log_term 1 done: 62 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:57.067_214+00:00 [13827] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:57.067_227+00:00 [13827] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:57.067_250+00:00 [13827] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:57.067_254+00:00 [13827] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:59.143_539+00:00 [13827] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:59.143_551+00:00 [13827] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:59.143_589+00:00 [13827] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:59.143_596+00:00 [13827] [INFO] create snapshot idx 300000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:01.197_477+00:00 [13827] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:01.197_488+00:00 [13827] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:01.197_512+00:00 [13827] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:01.197_521+00:00 [13827] [INFO] create snapshot idx 400000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:03.262_302+00:00 [13827] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:03.262_314+00:00 [13827] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:03.262_339+00:00 [13827] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:03.262_344+00:00 [13827] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:05.329_407+00:00 [13827] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:05.329_419+00:00 [13827] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:05.329_442+00:00 [13827] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:05.329_452+00:00 [13827] [INFO] create snapshot idx 600000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:07.384_534+00:00 [13827] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:07.384_546+00:00 [13827] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:07.384_569+00:00 [13827] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:07.384_573+00:00 [13827] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:09.462_701+00:00 [13827] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:09.462_714+00:00 [13827] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:09.462_737+00:00 [13827] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:09.462_742+00:00 [13827] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:11.532_662+00:00 [13827] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:11.532_672+00:00 [13827] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:11.532_695+00:00 [13827] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:11.532_701+00:00 [13827] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:13.035_834+00:00 [13882] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:50:13.037_307+00:00 [13882] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:50:13.037_336+00:00 [13882] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:50:13.037_342+00:00 [13882] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:50:13.037_363+00:00 [13882] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:50:13.037_367+00:00 [13882] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:50:13.037_370+00:00 [13882] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:50:13.037_414+00:00 [13882] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:50:13.037_438+00:00 [13918] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:50:14.137_581+00:00 [13886] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:50:14.137_590+00:00 [13886] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:50:14.137_602+00:00 [13886] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:50:14.137_612+00:00 [13886] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:50:14.137_618+00:00 [13886] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:50:14.137_621+00:00 [13886] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:50:14.137_635+00:00 [13886] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:50:14.137_702+00:00 [13917] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:50:14.137_716+00:00 [13917] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:50:14.137_725+00:00 [13917] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:50:14.338_111+00:00 [13882] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:50:24.341_953+00:00 [13882] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:50:24.341_960+00:00 [13882] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:50:24.342_049+00:00 [13882] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:50:36.463_476+00:00 [13917] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:36.463_492+00:00 [13917] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:36.463_510+00:00 [13917] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:36.463_514+00:00 [13917] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:38.563_778+00:00 [13917] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:38.563_789+00:00 [13917] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:38.563_814+00:00 [13917] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:38.563_819+00:00 [13917] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:40.650_868+00:00 [13917] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:40.650_881+00:00 [13917] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:40.650_904+00:00 [13917] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:40.650_908+00:00 [13917] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:42.744_683+00:00 [13917] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:42.744_696+00:00 [13917] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:42.744_718+00:00 [13917] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:42.744_724+00:00 [13917] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:44.842_795+00:00 [13917] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:44.842_807+00:00 [13917] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:44.842_834+00:00 [13917] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:44.842_842+00:00 [13917] [INFO] create snapshot idx 500000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:46.945_563+00:00 [13917] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:46.945_576+00:00 [13917] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:46.945_596+00:00 [13917] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:46.945_601+00:00 [13917] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:49.034_464+00:00 [13917] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:49.034_475+00:00 [13917] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:49.034_497+00:00 [13917] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:49.034_504+00:00 [13917] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:51.136_528+00:00 [13917] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:51.136_538+00:00 [13917] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:51.136_564+00:00 [13917] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:51.136_571+00:00 [13917] [INFO] create snapshot idx 800000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:53.234_357+00:00 [13917] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:53.234_367+00:00 [13917] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:53.234_389+00:00 [13917] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:53.234_395+00:00 [13917] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:54.452_716+00:00 [13987] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:50:54.454_195+00:00 [13987] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:50:54.454_227+00:00 [13987] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:50:54.454_231+00:00 [13987] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:50:54.454_254+00:00 [13987] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:50:54.454_258+00:00 [13987] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:50:54.454_260+00:00 [13987] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:50:54.454_295+00:00 [13987] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:50:54.454_326+00:00 [14023] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:50:56.424_461+00:00 [13990] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:50:56.424_471+00:00 [13990] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:50:56.424_484+00:00 [13990] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:50:56.424_499+00:00 [13990] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:50:56.424_506+00:00 [13990] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:50:56.424_509+00:00 [13990] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:50:56.424_526+00:00 [13990] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:50:56.424_598+00:00 [14022] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:50:56.424_612+00:00 [14022] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:50:56.424_627+00:00 [14022] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:50:56.505_311+00:00 [13987] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:51:06.509_613+00:00 [13987] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:51:06.509_620+00:00 [13987] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:51:06.509_711+00:00 [13987] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:51:18.616_958+00:00 [14022] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:18.616_971+00:00 [14022] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:18.616_990+00:00 [14022] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:18.616_994+00:00 [14022] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:20.705_503+00:00 [14022] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:20.705_514+00:00 [14022] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:20.705_533+00:00 [14022] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:20.705_538+00:00 [14022] [INFO] create snapshot idx 200000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:22.792_072+00:00 [14022] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:22.792_083+00:00 [14022] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:22.792_105+00:00 [14022] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:22.792_110+00:00 [14022] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:24.869_257+00:00 [14022] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:24.869_270+00:00 [14022] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:24.869_293+00:00 [14022] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:24.869_296+00:00 [14022] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:26.965_451+00:00 [14022] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:26.965_462+00:00 [14022] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:26.965_481+00:00 [14022] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:26.965_486+00:00 [14022] [INFO] create snapshot idx 500000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:29.051_077+00:00 [14022] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:29.051_088+00:00 [14022] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:29.051_111+00:00 [14022] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:29.051_117+00:00 [14022] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:31.141_469+00:00 [14022] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:31.141_481+00:00 [14022] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:31.141_504+00:00 [14022] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:31.141_514+00:00 [14022] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:33.233_566+00:00 [14022] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:33.233_578+00:00 [14022] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:33.233_600+00:00 [14022] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:33.233_604+00:00 [14022] [INFO] create snapshot idx 800000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:35.330_320+00:00 [14022] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:35.330_336+00:00 [14022] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:35.330_360+00:00 [14022] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:35.330_364+00:00 [14022] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:36.624_259+00:00 [14097] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:51:36.625_733+00:00 [14097] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:51:36.625_767+00:00 [14097] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:51:36.625_772+00:00 [14097] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:51:36.625_794+00:00 [14097] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:51:36.625_799+00:00 [14097] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:51:36.625_801+00:00 [14097] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:51:36.625_838+00:00 [14097] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:51:36.625_867+00:00 [14133] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:51:38.640_998+00:00 [14100] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:51:38.641_007+00:00 [14100] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:51:38.641_019+00:00 [14100] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:51:38.641_036+00:00 [14100] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:51:38.641_041+00:00 [14100] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:51:38.641_044+00:00 [14100] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:51:38.641_059+00:00 [14100] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:51:38.641_133+00:00 [14132] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:51:38.641_147+00:00 [14132] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:51:38.641_156+00:00 [14132] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:51:38.676_976+00:00 [14097] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:51:48.681_384+00:00 [14097] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:51:48.681_393+00:00 [14097] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:51:48.681_485+00:00 [14097] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:52:00.791_895+00:00 [14132] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:00.791_907+00:00 [14132] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:00.791_931+00:00 [14132] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:00.791_936+00:00 [14132] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:02.879_332+00:00 [14132] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:02.879_344+00:00 [14132] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:02.879_379+00:00 [14132] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:02.879_387+00:00 [14132] [INFO] create snapshot idx 200000 log_term 1 done: 36 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:04.968_298+00:00 [14132] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:04.968_321+00:00 [14132] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:04.968_374+00:00 [14132] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:04.968_382+00:00 [14132] [INFO] create snapshot idx 300000 log_term 1 done: 54 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:07.040_016+00:00 [14132] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:07.040_028+00:00 [14132] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:07.040_051+00:00 [14132] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:07.040_057+00:00 [14132] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:09.129_719+00:00 [14132] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:09.129_730+00:00 [14132] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:09.129_753+00:00 [14132] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:09.129_759+00:00 [14132] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:11.222_789+00:00 [14132] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:11.222_808+00:00 [14132] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:11.222_826+00:00 [14132] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:11.222_830+00:00 [14132] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:13.315_655+00:00 [14132] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:13.315_668+00:00 [14132] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:13.315_692+00:00 [14132] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:13.315_697+00:00 [14132] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:15.417_704+00:00 [14132] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:15.417_716+00:00 [14132] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:15.417_757+00:00 [14132] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:15.417_763+00:00 [14132] [INFO] create snapshot idx 800000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:17.507_314+00:00 [14132] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:17.507_325+00:00 [14132] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:17.507_348+00:00 [14132] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:17.507_353+00:00 [14132] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:18.795_707+00:00 [14207] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:52:18.797_179+00:00 [14207] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:52:18.797_213+00:00 [14207] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:52:18.797_217+00:00 [14207] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:52:18.797_239+00:00 [14207] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:52:18.797_244+00:00 [14207] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:52:18.797_246+00:00 [14207] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:52:18.797_279+00:00 [14207] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:52:18.797_305+00:00 [14243] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:52:20.118_432+00:00 [14210] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:52:20.118_440+00:00 [14210] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:52:20.118_453+00:00 [14210] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:52:20.118_468+00:00 [14210] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:52:20.118_474+00:00 [14210] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:52:20.118_477+00:00 [14210] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:52:20.118_493+00:00 [14210] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:52:20.118_560+00:00 [14242] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:52:20.118_580+00:00 [14242] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:52:20.118_590+00:00 [14242] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:52:20.348_129+00:00 [14207] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:52:30.352_071+00:00 [14207] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:52:30.352_079+00:00 [14207] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:52:30.352_172+00:00 [14207] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:52:42.477_081+00:00 [14242] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:42.477_093+00:00 [14242] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:42.477_116+00:00 [14242] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:42.477_123+00:00 [14242] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:44.557_726+00:00 [14242] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:44.557_739+00:00 [14242] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:44.557_762+00:00 [14242] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:44.557_768+00:00 [14242] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:46.643_999+00:00 [14242] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:46.644_010+00:00 [14242] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:46.644_035+00:00 [14242] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:46.644_041+00:00 [14242] [INFO] create snapshot idx 300000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:48.718_357+00:00 [14242] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:48.718_367+00:00 [14242] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:48.718_388+00:00 [14242] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:48.718_393+00:00 [14242] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:50.798_111+00:00 [14242] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:50.798_122+00:00 [14242] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:50.798_142+00:00 [14242] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:50.798_148+00:00 [14242] [INFO] create snapshot idx 500000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:52.901_720+00:00 [14242] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:52.901_733+00:00 [14242] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:52.901_755+00:00 [14242] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:52.901_760+00:00 [14242] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:54.991_154+00:00 [14242] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:54.991_166+00:00 [14242] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:54.991_211+00:00 [14242] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:54.991_218+00:00 [14242] [INFO] create snapshot idx 700000 log_term 1 done: 45 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:57.092_410+00:00 [14242] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:57.092_422+00:00 [14242] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:57.092_446+00:00 [14242] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:57.092_451+00:00 [14242] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:59.175_720+00:00 [14242] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:59.175_759+00:00 [14242] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:59.175_786+00:00 [14242] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:59.175_792+00:00 [14242] [INFO] create snapshot idx 900000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:00.470_137+00:00 [14301] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:53:00.471_655+00:00 [14301] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:53:00.471_683+00:00 [14301] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:53:00.471_690+00:00 [14301] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:53:00.471_712+00:00 [14301] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:53:00.471_717+00:00 [14301] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:53:00.471_720+00:00 [14301] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:53:00.471_759+00:00 [14301] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:53:00.471_792+00:00 [14337] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:53:01.608_914+00:00 [14304] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:53:01.608_923+00:00 [14304] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:53:01.608_936+00:00 [14304] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:53:01.608_946+00:00 [14304] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:53:01.608_952+00:00 [14304] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:53:01.608_955+00:00 [14304] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:53:01.608_971+00:00 [14304] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:53:01.609_039+00:00 [14336] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:53:01.609_052+00:00 [14336] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:53:01.609_062+00:00 [14336] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:53:01.772_553+00:00 [14301] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:53:11.776_509+00:00 [14301] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:53:11.776_517+00:00 [14301] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:53:11.776_612+00:00 [14301] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:53:23.910_438+00:00 [14336] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:23.910_456+00:00 [14336] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:23.910_479+00:00 [14336] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:23.910_484+00:00 [14336] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:25.986_307+00:00 [14336] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:25.986_320+00:00 [14336] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:25.986_343+00:00 [14336] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:25.986_349+00:00 [14336] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:28.071_720+00:00 [14336] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:28.071_732+00:00 [14336] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:28.071_754+00:00 [14336] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:28.071_759+00:00 [14336] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:30.153_706+00:00 [14336] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:30.153_717+00:00 [14336] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:30.153_739+00:00 [14336] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:30.153_744+00:00 [14336] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:32.235_757+00:00 [14336] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:32.235_772+00:00 [14336] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:32.235_795+00:00 [14336] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:32.235_801+00:00 [14336] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:34.329_531+00:00 [14336] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:34.329_544+00:00 [14336] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:34.329_568+00:00 [14336] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:34.329_577+00:00 [14336] [INFO] create snapshot idx 600000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:36.403_797+00:00 [14336] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:36.403_814+00:00 [14336] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:36.403_837+00:00 [14336] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:36.403_841+00:00 [14336] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:38.505_889+00:00 [14336] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:38.505_901+00:00 [14336] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:38.505_924+00:00 [14336] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:38.505_929+00:00 [14336] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:40.593_491+00:00 [14336] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:40.593_501+00:00 [14336] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:40.593_519+00:00 [14336] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:40.593_528+00:00 [14336] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:41.895_923+00:00 [14397] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:53:41.897_358+00:00 [14397] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:53:41.897_399+00:00 [14397] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:53:41.897_404+00:00 [14397] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:53:41.897_429+00:00 [14397] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:53:41.897_433+00:00 [14397] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:53:41.897_436+00:00 [14397] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:53:41.897_471+00:00 [14397] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:53:41.897_497+00:00 [14433] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:53:42.965_672+00:00 [14400] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:53:42.965_681+00:00 [14400] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:53:42.965_693+00:00 [14400] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:53:42.965_703+00:00 [14400] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:53:42.965_709+00:00 [14400] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:53:42.965_712+00:00 [14400] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:53:42.965_729+00:00 [14400] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:53:42.965_785+00:00 [14432] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:53:42.965_793+00:00 [14432] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:53:42.965_801+00:00 [14432] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:53:43.198_225+00:00 [14397] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:53:53.201_985+00:00 [14397] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:53:53.201_993+00:00 [14397] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:53:53.202_082+00:00 [14397] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:54:05.318_007+00:00 [14432] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:05.318_016+00:00 [14432] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:05.318_042+00:00 [14432] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:05.318_048+00:00 [14432] [INFO] create snapshot idx 100000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:07.391_310+00:00 [14432] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:07.391_322+00:00 [14432] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:07.391_361+00:00 [14432] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:07.391_369+00:00 [14432] [INFO] create snapshot idx 200000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:09.478_733+00:00 [14432] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:09.478_751+00:00 [14432] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:09.478_774+00:00 [14432] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:09.478_780+00:00 [14432] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:11.561_034+00:00 [14432] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:11.561_047+00:00 [14432] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:11.561_070+00:00 [14432] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:11.561_076+00:00 [14432] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:13.647_292+00:00 [14432] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:13.647_304+00:00 [14432] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:13.647_329+00:00 [14432] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:13.647_338+00:00 [14432] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:15.747_663+00:00 [14432] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:15.747_677+00:00 [14432] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:15.747_700+00:00 [14432] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:15.747_705+00:00 [14432] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:17.823_769+00:00 [14432] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:17.823_781+00:00 [14432] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:17.823_804+00:00 [14432] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:17.823_814+00:00 [14432] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:19.915_010+00:00 [14432] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:19.915_020+00:00 [14432] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:19.915_042+00:00 [14432] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:19.915_052+00:00 [14432] [INFO] create snapshot idx 800000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:22.012_819+00:00 [14432] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:22.012_831+00:00 [14432] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:22.012_874+00:00 [14432] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:22.012_882+00:00 [14432] [INFO] create snapshot idx 900000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:23.319_473+00:00 [14495] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:54:23.320_922+00:00 [14495] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:54:23.320_955+00:00 [14495] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:54:23.320_961+00:00 [14495] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:54:23.320_984+00:00 [14495] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:54:23.320_989+00:00 [14495] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:54:23.320_991+00:00 [14495] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:54:23.321_026+00:00 [14495] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:54:23.321_052+00:00 [14531] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:54:24.438_189+00:00 [14498] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:54:24.438_199+00:00 [14498] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:54:24.438_212+00:00 [14498] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:54:24.438_221+00:00 [14498] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:54:24.438_227+00:00 [14498] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:54:24.438_230+00:00 [14498] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:54:24.438_249+00:00 [14498] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:54:24.438_315+00:00 [14530] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:54:24.438_329+00:00 [14530] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:54:24.438_339+00:00 [14530] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:54:24.621_787+00:00 [14495] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:54:34.625_855+00:00 [14495] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:54:34.625_863+00:00 [14495] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:54:34.625_959+00:00 [14495] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:54:46.748_346+00:00 [14530] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:46.748_358+00:00 [14530] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:46.748_388+00:00 [14530] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:46.748_394+00:00 [14530] [INFO] create snapshot idx 100000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:48.826_890+00:00 [14530] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:48.826_914+00:00 [14530] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:48.826_935+00:00 [14530] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:48.826_943+00:00 [14530] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:50.918_953+00:00 [14530] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:50.918_965+00:00 [14530] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:50.918_989+00:00 [14530] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:50.918_999+00:00 [14530] [INFO] create snapshot idx 300000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:52.998_865+00:00 [14530] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:52.998_879+00:00 [14530] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:52.998_903+00:00 [14530] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:52.998_908+00:00 [14530] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:55.088_410+00:00 [14530] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:55.088_423+00:00 [14530] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:55.088_447+00:00 [14530] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:55.088_457+00:00 [14530] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:57.186_994+00:00 [14530] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:57.187_004+00:00 [14530] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:57.187_026+00:00 [14530] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:57.187_031+00:00 [14530] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:59.277_806+00:00 [14530] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:59.277_819+00:00 [14530] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:59.277_842+00:00 [14530] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:59.277_847+00:00 [14530] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:01.371_922+00:00 [14530] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:01.371_934+00:00 [14530] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:01.371_969+00:00 [14530] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:01.371_975+00:00 [14530] [INFO] create snapshot idx 800000 log_term 1 done: 34 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:03.472_867+00:00 [14530] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:03.472_879+00:00 [14530] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:03.472_902+00:00 [14530] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:03.472_906+00:00 [14530] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:04.747_390+00:00 [14599] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:55:04.748_906+00:00 [14599] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:55:04.748_941+00:00 [14599] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:55:04.748_945+00:00 [14599] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:55:04.748_967+00:00 [14599] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:55:04.748_971+00:00 [14599] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:55:04.748_974+00:00 [14599] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:55:04.749_012+00:00 [14599] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:55:04.749_043+00:00 [14635] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:55:06.570_162+00:00 [14602] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:55:06.570_171+00:00 [14602] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:55:06.570_184+00:00 [14602] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:55:06.570_197+00:00 [14602] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:55:06.570_202+00:00 [14602] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:55:06.570_205+00:00 [14602] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:55:06.570_221+00:00 [14602] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:55:06.570_280+00:00 [14634] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:55:06.570_289+00:00 [14634] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:55:06.570_297+00:00 [14634] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:55:06.799_996+00:00 [14599] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:55:16.803_678+00:00 [14599] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:55:16.803_686+00:00 [14599] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:55:16.803_781+00:00 [14599] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:55:28.932_956+00:00 [14634] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:28.932_972+00:00 [14634] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:28.932_992+00:00 [14634] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:28.933_002+00:00 [14634] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:31.010_154+00:00 [14634] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:31.010_177+00:00 [14634] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:31.010_200+00:00 [14634] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:31.010_209+00:00 [14634] [INFO] create snapshot idx 200000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:33.093_771+00:00 [14634] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:33.093_783+00:00 [14634] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:33.093_806+00:00 [14634] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:33.093_811+00:00 [14634] [INFO] create snapshot idx 300000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:35.183_449+00:00 [14634] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:35.183_462+00:00 [14634] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:35.183_483+00:00 [14634] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:35.183_488+00:00 [14634] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:37.266_661+00:00 [14634] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:37.266_675+00:00 [14634] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:37.266_698+00:00 [14634] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:37.266_707+00:00 [14634] [INFO] create snapshot idx 500000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:39.371_417+00:00 [14634] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:39.371_430+00:00 [14634] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:39.371_454+00:00 [14634] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:39.371_460+00:00 [14634] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:41.452_551+00:00 [14634] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:41.452_563+00:00 [14634] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:41.452_583+00:00 [14634] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:41.452_588+00:00 [14634] [INFO] create snapshot idx 700000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:43.544_797+00:00 [14634] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:43.544_809+00:00 [14634] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:43.544_832+00:00 [14634] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:43.544_840+00:00 [14634] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:45.636_227+00:00 [14634] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:45.636_237+00:00 [14634] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:45.636_261+00:00 [14634] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:45.636_270+00:00 [14634] [INFO] create snapshot idx 900000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:46.923_554+00:00 [14702] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:55:46.925_038+00:00 [14702] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:55:46.925_066+00:00 [14702] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:55:46.925_074+00:00 [14702] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:55:46.925_097+00:00 [14702] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:55:46.925_101+00:00 [14702] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:55:46.925_104+00:00 [14702] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:55:46.925_136+00:00 [14702] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:55:46.925_165+00:00 [14738] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:55:48.709_304+00:00 [14705] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:55:48.709_314+00:00 [14705] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:55:48.709_328+00:00 [14705] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:55:48.709_338+00:00 [14705] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:55:48.709_343+00:00 [14705] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:55:48.709_346+00:00 [14705] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:55:48.709_362+00:00 [14705] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:55:48.709_433+00:00 [14737] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:55:48.709_447+00:00 [14737] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:55:48.709_457+00:00 [14737] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:55:48.726_035+00:00 [14702] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:55:58.729_843+00:00 [14702] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:55:58.729_852+00:00 [14702] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:55:58.729_946+00:00 [14702] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:56:10.856_486+00:00 [14737] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:10.856_499+00:00 [14737] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:10.856_522+00:00 [14737] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:10.856_530+00:00 [14737] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:12.929_378+00:00 [14737] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:12.929_393+00:00 [14737] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:12.929_415+00:00 [14737] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:12.929_420+00:00 [14737] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:15.021_614+00:00 [14737] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:15.021_627+00:00 [14737] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:15.021_684+00:00 [14737] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:15.021_690+00:00 [14737] [INFO] create snapshot idx 300000 log_term 1 done: 57 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:17.100_096+00:00 [14737] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:17.100_108+00:00 [14737] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:17.100_127+00:00 [14737] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:17.100_131+00:00 [14737] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:19.187_604+00:00 [14737] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:19.187_616+00:00 [14737] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:19.187_640+00:00 [14737] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:19.187_645+00:00 [14737] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:21.294_085+00:00 [14737] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:21.294_099+00:00 [14737] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:21.294_121+00:00 [14737] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:21.294_131+00:00 [14737] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:23.388_171+00:00 [14737] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:23.388_184+00:00 [14737] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:23.388_208+00:00 [14737] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:23.388_213+00:00 [14737] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:25.479_894+00:00 [14737] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:25.479_906+00:00 [14737] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:25.479_929+00:00 [14737] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:25.479_934+00:00 [14737] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:27.575_486+00:00 [14737] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:27.575_498+00:00 [14737] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:27.575_521+00:00 [14737] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:27.575_526+00:00 [14737] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:00:42.191_752+00:00 [15138] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:00:42.193_222+00:00 [15138] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:00:42.193_254+00:00 [15138] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:00:42.193_258+00:00 [15138] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:00:42.193_279+00:00 [15138] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:00:42.193_283+00:00 [15138] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:00:42.193_285+00:00 [15138] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:00:42.193_319+00:00 [15138] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:00:42.193_353+00:00 [15174] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:00:43.809_483+00:00 [15141] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:00:43.809_492+00:00 [15141] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:00:43.809_504+00:00 [15141] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:00:43.809_514+00:00 [15141] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:00:43.809_519+00:00 [15141] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:00:43.809_523+00:00 [15141] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:00:43.809_539+00:00 [15141] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:00:43.809_592+00:00 [15173] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:00:43.809_600+00:00 [15173] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:00:43.809_608+00:00 [15173] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:00:43.994_233+00:00 [15138] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:00:53.998_393+00:00 [15138] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:00:53.998_401+00:00 [15138] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:00:53.998_504+00:00 [15138] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:01:06.772_452+00:00 [15173] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:06.772_462+00:00 [15173] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:06.772_479+00:00 [15173] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:06.772_486+00:00 [15173] [INFO] create snapshot idx 100000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:09.546_602+00:00 [15173] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:09.546_615+00:00 [15173] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:09.546_640+00:00 [15173] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:09.546_644+00:00 [15173] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:12.324_819+00:00 [15173] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:12.324_833+00:00 [15173] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:12.324_857+00:00 [15173] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:12.324_862+00:00 [15173] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:15.149_990+00:00 [15173] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:15.150_000+00:00 [15173] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:15.150_019+00:00 [15173] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:15.150_024+00:00 [15173] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:17.956_714+00:00 [15173] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:17.956_728+00:00 [15173] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:17.956_752+00:00 [15173] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:17.956_756+00:00 [15173] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:20.792_178+00:00 [15173] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:20.792_188+00:00 [15173] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:20.792_208+00:00 [15173] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:20.792_212+00:00 [15173] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:23.614_389+00:00 [15173] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:23.614_399+00:00 [15173] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:23.614_416+00:00 [15173] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:23.614_420+00:00 [15173] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:24.064_799+00:00 [15262] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:01:24.066_958+00:00 [15262] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:01:24.066_997+00:00 [15262] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:01:24.067_004+00:00 [15262] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:01:24.067_029+00:00 [15262] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:01:24.067_034+00:00 [15262] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:01:24.067_037+00:00 [15262] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:01:24.067_071+00:00 [15262] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:01:24.067_097+00:00 [15298] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:01:26.082_238+00:00 [15265] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:01:26.082_249+00:00 [15265] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:01:26.082_261+00:00 [15265] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:01:26.082_271+00:00 [15265] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:01:26.082_277+00:00 [15265] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:01:26.082_280+00:00 [15265] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:01:26.082_296+00:00 [15265] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:01:26.082_355+00:00 [15297] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:01:26.082_363+00:00 [15297] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:01:26.082_373+00:00 [15297] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:01:26.118_048+00:00 [15262] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:01:36.121_974+00:00 [15262] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:01:36.121_981+00:00 [15262] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:01:36.122_074+00:00 [15262] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:01:48.344_071+00:00 [15297] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:48.344_082+00:00 [15297] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:48.344_101+00:00 [15297] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:48.344_109+00:00 [15297] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:50.545_736+00:00 [15297] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:50.545_750+00:00 [15297] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:50.545_771+00:00 [15297] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:50.545_780+00:00 [15297] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:52.770_410+00:00 [15297] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:52.770_420+00:00 [15297] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:52.770_443+00:00 [15297] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:52.770_449+00:00 [15297] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:54.977_802+00:00 [15297] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:54.977_816+00:00 [15297] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:54.977_839+00:00 [15297] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:54.977_850+00:00 [15297] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:57.201_678+00:00 [15297] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:57.201_690+00:00 [15297] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:57.201_713+00:00 [15297] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:57.201_718+00:00 [15297] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:59.422_292+00:00 [15297] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:59.422_306+00:00 [15297] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:59.422_328+00:00 [15297] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:59.422_332+00:00 [15297] [INFO] create snapshot idx 600000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:01.657_430+00:00 [15297] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:01.657_441+00:00 [15297] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:01.657_462+00:00 [15297] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:01.657_468+00:00 [15297] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:03.888_756+00:00 [15297] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:03.888_770+00:00 [15297] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:03.888_793+00:00 [15297] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:03.888_799+00:00 [15297] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:06.211_697+00:00 [15338] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:02:06.213_130+00:00 [15338] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:02:06.213_169+00:00 [15338] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:02:06.213_174+00:00 [15338] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:02:06.213_196+00:00 [15338] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:02:06.213_200+00:00 [15338] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:02:06.213_203+00:00 [15338] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:02:06.213_245+00:00 [15338] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:02:06.213_269+00:00 [15374] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:02:07.712_402+00:00 [15341] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:02:07.712_411+00:00 [15341] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:02:07.712_424+00:00 [15341] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:02:07.712_433+00:00 [15341] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:02:07.712_439+00:00 [15341] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:02:07.712_442+00:00 [15341] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:02:07.712_457+00:00 [15341] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:02:07.712_528+00:00 [15373] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:02:07.712_542+00:00 [15373] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:02:07.712_552+00:00 [15373] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:02:07.764_143+00:00 [15338] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:02:17.768_292+00:00 [15338] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:02:17.768_301+00:00 [15338] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:02:17.768_399+00:00 [15338] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:02:29.873_424+00:00 [15373] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:29.873_436+00:00 [15373] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:29.873_459+00:00 [15373] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:29.873_464+00:00 [15373] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:31.956_257+00:00 [15373] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:31.956_267+00:00 [15373] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:31.956_286+00:00 [15373] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:31.956_293+00:00 [15373] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:34.061_098+00:00 [15373] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:34.061_111+00:00 [15373] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:34.061_134+00:00 [15373] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:34.061_142+00:00 [15373] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:36.151_151+00:00 [15373] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:36.151_165+00:00 [15373] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:36.151_184+00:00 [15373] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:36.151_189+00:00 [15373] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:38.238_077+00:00 [15373] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:38.238_088+00:00 [15373] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:38.238_111+00:00 [15373] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:38.238_120+00:00 [15373] [INFO] create snapshot idx 500000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:40.339_727+00:00 [15373] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:40.339_740+00:00 [15373] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:40.339_760+00:00 [15373] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:40.339_766+00:00 [15373] [INFO] create snapshot idx 600000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:42.438_882+00:00 [15373] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:42.438_895+00:00 [15373] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:42.438_918+00:00 [15373] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:42.438_923+00:00 [15373] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:44.542_481+00:00 [15373] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:44.542_496+00:00 [15373] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:44.542_516+00:00 [15373] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:44.542_520+00:00 [15373] [INFO] create snapshot idx 800000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:46.631_406+00:00 [15373] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:46.631_419+00:00 [15373] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:46.631_440+00:00 [15373] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:46.631_449+00:00 [15373] [INFO] create snapshot idx 900000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:47.867_517+00:00 [15416] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:02:47.869_005+00:00 [15416] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:02:47.869_034+00:00 [15416] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:02:47.869_040+00:00 [15416] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:02:47.869_061+00:00 [15416] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:02:47.869_065+00:00 [15416] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:02:47.869_068+00:00 [15416] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:02:47.869_100+00:00 [15416] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:02:47.869_126+00:00 [15452] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:02:49.560_270+00:00 [15419] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:02:49.560_280+00:00 [15419] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:02:49.560_293+00:00 [15419] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:02:49.560_303+00:00 [15419] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:02:49.560_309+00:00 [15419] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:02:49.560_312+00:00 [15419] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:02:49.560_328+00:00 [15419] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:02:49.560_387+00:00 [15451] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:02:49.560_395+00:00 [15451] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:02:49.560_405+00:00 [15451] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:02:49.670_351+00:00 [15416] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:02:59.674_223+00:00 [15416] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:02:59.674_231+00:00 [15416] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:02:59.674_326+00:00 [15416] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:03:11.761_589+00:00 [15451] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:11.761_601+00:00 [15451] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:11.761_631+00:00 [15451] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:11.761_636+00:00 [15451] [INFO] create snapshot idx 100000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:13.800_884+00:00 [15451] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:13.800_896+00:00 [15451] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:13.800_917+00:00 [15451] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:13.800_923+00:00 [15451] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:15.862_751+00:00 [15451] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:15.862_763+00:00 [15451] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:15.862_794+00:00 [15451] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:15.862_800+00:00 [15451] [INFO] create snapshot idx 300000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:17.912_984+00:00 [15451] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:17.912_996+00:00 [15451] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:17.913_018+00:00 [15451] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:17.913_024+00:00 [15451] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:19.971_784+00:00 [15451] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:19.971_798+00:00 [15451] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:19.971_821+00:00 [15451] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:19.971_828+00:00 [15451] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:22.043_352+00:00 [15451] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:22.043_365+00:00 [15451] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:22.043_412+00:00 [15451] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:22.043_420+00:00 [15451] [INFO] create snapshot idx 600000 log_term 1 done: 48 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:24.099_855+00:00 [15451] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:24.099_865+00:00 [15451] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:24.099_887+00:00 [15451] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:24.099_892+00:00 [15451] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:26.157_965+00:00 [15451] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:26.157_978+00:00 [15451] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:26.158_002+00:00 [15451] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:26.158_006+00:00 [15451] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:28.219_339+00:00 [15451] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:28.219_353+00:00 [15451] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:28.219_379+00:00 [15451] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:28.219_385+00:00 [15451] [INFO] create snapshot idx 900000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:29.774_987+00:00 [15495] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:03:29.776_439+00:00 [15495] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:03:29.776_473+00:00 [15495] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:03:29.776_480+00:00 [15495] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:03:29.776_502+00:00 [15495] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:03:29.776_506+00:00 [15495] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:03:29.776_509+00:00 [15495] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:03:29.776_545+00:00 [15495] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:03:29.776_569+00:00 [15531] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:03:31.575_710+00:00 [15498] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:03:31.575_720+00:00 [15498] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:03:31.575_733+00:00 [15498] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:03:31.575_744+00:00 [15498] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:03:31.575_750+00:00 [15498] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:03:31.575_753+00:00 [15498] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:03:31.575_771+00:00 [15498] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:03:31.575_828+00:00 [15530] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:03:31.575_837+00:00 [15530] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:03:31.575_845+00:00 [15530] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:03:31.577_438+00:00 [15495] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:03:41.581_421+00:00 [15495] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:03:41.581_428+00:00 [15495] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:03:41.581_519+00:00 [15495] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:03:53.655_276+00:00 [15530] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:53.655_288+00:00 [15530] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:53.655_312+00:00 [15530] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:53.655_317+00:00 [15530] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:55.690_406+00:00 [15530] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:55.690_415+00:00 [15530] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:55.690_438+00:00 [15530] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:55.690_446+00:00 [15530] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:57.745_002+00:00 [15530] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:57.745_015+00:00 [15530] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:57.745_036+00:00 [15530] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:57.745_040+00:00 [15530] [INFO] create snapshot idx 300000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:59.802_240+00:00 [15530] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:59.802_259+00:00 [15530] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:59.802_283+00:00 [15530] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:59.802_289+00:00 [15530] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:01.849_316+00:00 [15530] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:01.849_328+00:00 [15530] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:01.849_352+00:00 [15530] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:01.849_357+00:00 [15530] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:03.919_830+00:00 [15530] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:03.919_843+00:00 [15530] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:03.919_865+00:00 [15530] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:03.919_874+00:00 [15530] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:05.966_418+00:00 [15530] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:05.966_439+00:00 [15530] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:05.966_463+00:00 [15530] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:05.966_472+00:00 [15530] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:08.020_705+00:00 [15530] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:08.020_716+00:00 [15530] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:08.020_738+00:00 [15530] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:08.020_743+00:00 [15530] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:10.070_101+00:00 [15530] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:10.070_112+00:00 [15530] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:10.070_135+00:00 [15530] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:10.070_144+00:00 [15530] [INFO] create snapshot idx 900000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:11.687_631+00:00 [15577] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:04:11.689_739+00:00 [15577] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:04:11.689_778+00:00 [15577] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:04:11.689_787+00:00 [15577] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:04:11.689_811+00:00 [15577] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:04:11.689_816+00:00 [15577] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:04:11.689_819+00:00 [15577] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:04:11.689_852+00:00 [15577] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:04:11.689_879+00:00 [15613] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:04:13.500_003+00:00 [15582] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:04:13.500_012+00:00 [15582] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:04:13.500_025+00:00 [15582] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:04:13.500_038+00:00 [15582] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:04:13.500_044+00:00 [15582] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:04:13.500_047+00:00 [15582] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:04:13.500_062+00:00 [15582] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:04:13.500_130+00:00 [15612] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:04:13.500_144+00:00 [15612] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:04:13.500_154+00:00 [15612] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:04:13.740_894+00:00 [15577] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:04:23.744_830+00:00 [15577] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:04:23.744_838+00:00 [15577] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:04:23.744_928+00:00 [15577] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:04:35.824_033+00:00 [15612] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:35.824_046+00:00 [15612] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:35.824_069+00:00 [15612] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:35.824_075+00:00 [15612] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:37.855_255+00:00 [15612] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:37.855_265+00:00 [15612] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:37.855_284+00:00 [15612] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:37.855_288+00:00 [15612] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:39.908_823+00:00 [15612] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:39.908_834+00:00 [15612] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:39.908_856+00:00 [15612] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:39.908_862+00:00 [15612] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:41.950_885+00:00 [15612] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:41.950_899+00:00 [15612] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:41.950_916+00:00 [15612] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:41.950_920+00:00 [15612] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:43.994_948+00:00 [15612] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:43.994_960+00:00 [15612] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:43.994_983+00:00 [15612] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:43.994_992+00:00 [15612] [INFO] create snapshot idx 500000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:46.058_147+00:00 [15612] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:46.058_159+00:00 [15612] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:46.058_183+00:00 [15612] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:46.058_187+00:00 [15612] [INFO] create snapshot idx 600000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:48.102_840+00:00 [15612] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:48.102_850+00:00 [15612] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:48.102_872+00:00 [15612] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:48.102_877+00:00 [15612] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:50.165_191+00:00 [15612] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:50.165_204+00:00 [15612] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:50.165_228+00:00 [15612] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:50.165_232+00:00 [15612] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:52.225_695+00:00 [15612] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:52.225_708+00:00 [15612] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:52.225_731+00:00 [15612] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:52.225_735+00:00 [15612] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:53.853_483+00:00 [15659] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:04:53.855_604+00:00 [15659] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:04:53.855_639+00:00 [15659] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:04:53.855_643+00:00 [15659] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:04:53.855_666+00:00 [15659] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:04:53.855_671+00:00 [15659] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:04:53.855_673+00:00 [15659] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:04:53.855_718+00:00 [15659] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:04:53.855_744+00:00 [15695] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:04:55.231_873+00:00 [15664] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:04:55.231_882+00:00 [15664] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:04:55.231_895+00:00 [15664] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:04:55.231_910+00:00 [15664] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:04:55.231_916+00:00 [15664] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:04:55.231_919+00:00 [15664] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:04:55.231_935+00:00 [15664] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:04:55.232_000+00:00 [15694] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:04:55.232_014+00:00 [15694] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:04:55.232_025+00:00 [15694] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:04:55.406_518+00:00 [15659] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:05.410_536+00:00 [15659] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:05:05.410_544+00:00 [15659] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:05:05.410_644+00:00 [15659] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:17.534_633+00:00 [15694] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:17.534_645+00:00 [15694] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:17.534_668+00:00 [15694] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:17.534_673+00:00 [15694] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:19.611_797+00:00 [15694] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:19.611_812+00:00 [15694] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:19.611_836+00:00 [15694] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:19.611_845+00:00 [15694] [INFO] create snapshot idx 200000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:21.697_226+00:00 [15694] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:21.697_237+00:00 [15694] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:21.697_259+00:00 [15694] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:21.697_264+00:00 [15694] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:23.782_315+00:00 [15694] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:23.782_326+00:00 [15694] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:23.782_348+00:00 [15694] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:23.782_356+00:00 [15694] [INFO] create snapshot idx 400000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:25.859_149+00:00 [15694] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:25.859_160+00:00 [15694] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:25.859_183+00:00 [15694] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:25.859_188+00:00 [15694] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:27.963_060+00:00 [15694] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:27.963_083+00:00 [15694] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:27.963_106+00:00 [15694] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:27.963_112+00:00 [15694] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:30.063_666+00:00 [15694] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:30.063_679+00:00 [15694] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:30.063_699+00:00 [15694] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:30.063_704+00:00 [15694] [INFO] create snapshot idx 700000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:32.161_271+00:00 [15694] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:32.161_314+00:00 [15694] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:32.161_354+00:00 [15694] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:32.161_361+00:00 [15694] [INFO] create snapshot idx 800000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:34.251_359+00:00 [15694] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:34.251_371+00:00 [15694] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:34.251_391+00:00 [15694] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:34.251_395+00:00 [15694] [INFO] create snapshot idx 900000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:35.522_100+00:00 [15746] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:05:35.523_582+00:00 [15746] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:05:35.523_610+00:00 [15746] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:05:35.523_617+00:00 [15746] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:05:35.523_639+00:00 [15746] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:05:35.523_643+00:00 [15746] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:05:35.523_646+00:00 [15746] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:05:35.523_682+00:00 [15746] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:05:35.523_714+00:00 [15782] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:05:36.844_836+00:00 [15749] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:05:36.844_847+00:00 [15749] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:05:36.844_860+00:00 [15749] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:05:36.844_875+00:00 [15749] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:05:36.844_881+00:00 [15749] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:05:36.844_884+00:00 [15749] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:05:36.844_900+00:00 [15749] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:05:36.844_967+00:00 [15781] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:05:36.844_981+00:00 [15781] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:05:36.844_991+00:00 [15781] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:05:37.074_544+00:00 [15746] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:47.078_839+00:00 [15746] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:05:47.078_847+00:00 [15746] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:05:47.078_941+00:00 [15746] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:59.230_725+00:00 [15781] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:59.230_738+00:00 [15781] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:59.230_761+00:00 [15781] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:59.230_767+00:00 [15781] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:01.331_761+00:00 [15781] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:01.331_773+00:00 [15781] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:01.331_793+00:00 [15781] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:01.331_802+00:00 [15781] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:03.434_336+00:00 [15781] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:03.434_349+00:00 [15781] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:03.434_372+00:00 [15781] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:03.434_377+00:00 [15781] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:05.532_814+00:00 [15781] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:05.532_827+00:00 [15781] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:05.532_850+00:00 [15781] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:05.532_854+00:00 [15781] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:07.630_397+00:00 [15781] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:07.630_408+00:00 [15781] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:07.630_450+00:00 [15781] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:07.630_455+00:00 [15781] [INFO] create snapshot idx 500000 log_term 1 done: 42 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:09.739_773+00:00 [15781] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:09.739_783+00:00 [15781] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:09.739_816+00:00 [15781] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:09.739_823+00:00 [15781] [INFO] create snapshot idx 600000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:11.846_419+00:00 [15781] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:11.846_431+00:00 [15781] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:11.846_451+00:00 [15781] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:11.846_459+00:00 [15781] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:13.955_691+00:00 [15781] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:13.955_704+00:00 [15781] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:13.955_726+00:00 [15781] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:13.955_731+00:00 [15781] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:16.057_857+00:00 [15781] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:16.057_870+00:00 [15781] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:16.057_894+00:00 [15781] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:16.057_901+00:00 [15781] [INFO] create snapshot idx 900000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:17.193_797+00:00 [15832] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:06:17.195_281+00:00 [15832] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:06:17.195_316+00:00 [15832] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:06:17.195_319+00:00 [15832] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:06:17.195_344+00:00 [15832] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:06:17.195_348+00:00 [15832] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:06:17.195_351+00:00 [15832] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:06:17.195_389+00:00 [15832] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:06:17.195_412+00:00 [15868] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:06:18.648_639+00:00 [15835] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:06:18.648_649+00:00 [15835] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:06:18.648_663+00:00 [15835] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:06:18.648_674+00:00 [15835] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:06:18.648_680+00:00 [15835] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:06:18.648_684+00:00 [15835] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:06:18.648_700+00:00 [15835] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:06:18.648_762+00:00 [15867] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:06:18.648_770+00:00 [15867] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:06:18.648_779+00:00 [15867] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:06:18.746_286+00:00 [15832] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:06:28.750_329+00:00 [15832] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:06:28.750_337+00:00 [15832] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:06:28.750_432+00:00 [15832] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:06:40.877_361+00:00 [15867] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:40.877_378+00:00 [15867] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:40.877_398+00:00 [15867] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:40.877_404+00:00 [15867] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:42.960_843+00:00 [15867] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:42.960_855+00:00 [15867] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:42.960_875+00:00 [15867] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:42.960_879+00:00 [15867] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:45.057_827+00:00 [15867] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:45.057_847+00:00 [15867] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:45.057_864+00:00 [15867] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:45.057_870+00:00 [15867] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:47.147_309+00:00 [15867] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:47.147_323+00:00 [15867] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:47.147_347+00:00 [15867] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:47.147_351+00:00 [15867] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:49.235_286+00:00 [15867] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:49.235_308+00:00 [15867] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:49.235_330+00:00 [15867] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:49.235_340+00:00 [15867] [INFO] create snapshot idx 500000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:51.332_183+00:00 [15867] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:51.332_197+00:00 [15867] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:51.332_222+00:00 [15867] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:51.332_227+00:00 [15867] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:53.421_148+00:00 [15867] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:53.421_161+00:00 [15867] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:53.421_181+00:00 [15867] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:53.421_190+00:00 [15867] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:55.526_041+00:00 [15867] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:55.526_063+00:00 [15867] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:55.526_087+00:00 [15867] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:55.526_095+00:00 [15867] [INFO] create snapshot idx 800000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:57.616_372+00:00 [15867] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:57.616_388+00:00 [15867] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:57.616_410+00:00 [15867] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:57.616_415+00:00 [15867] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:58.869_499+00:00 [15920] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:06:58.871_009+00:00 [15920] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:06:58.871_046+00:00 [15920] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:06:58.871_053+00:00 [15920] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:06:58.871_075+00:00 [15920] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:06:58.871_079+00:00 [15920] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:06:58.871_082+00:00 [15920] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:06:58.871_121+00:00 [15920] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:06:58.871_147+00:00 [15956] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:07:00.000_284+00:00 [15923] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:07:00.000_295+00:00 [15923] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:07:00.000_309+00:00 [15923] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:07:00.000_318+00:00 [15923] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:07:00.000_325+00:00 [15923] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:07:00.000_328+00:00 [15923] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:07:00.000_345+00:00 [15923] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:07:00.000_415+00:00 [15955] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:07:00.000_430+00:00 [15955] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:07:00.000_441+00:00 [15955] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:07:00.171_920+00:00 [15920] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:07:10.176_281+00:00 [15920] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:07:10.176_289+00:00 [15920] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:07:10.176_385+00:00 [15920] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:07:22.297_388+00:00 [15955] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:22.297_402+00:00 [15955] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:22.297_431+00:00 [15955] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:22.297_437+00:00 [15955] [INFO] create snapshot idx 100000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:24.376_766+00:00 [15955] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:24.376_780+00:00 [15955] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:24.376_803+00:00 [15955] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:24.376_808+00:00 [15955] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:26.472_623+00:00 [15955] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:26.472_636+00:00 [15955] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:26.472_693+00:00 [15955] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:26.472_698+00:00 [15955] [INFO] create snapshot idx 300000 log_term 1 done: 56 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:28.563_376+00:00 [15955] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:28.563_393+00:00 [15955] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:28.563_417+00:00 [15955] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:28.563_423+00:00 [15955] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:30.666_342+00:00 [15955] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:30.666_356+00:00 [15955] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:30.666_381+00:00 [15955] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:30.666_390+00:00 [15955] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:32.780_160+00:00 [15955] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:32.780_172+00:00 [15955] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:32.780_195+00:00 [15955] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:32.780_202+00:00 [15955] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:34.899_383+00:00 [15955] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:34.899_396+00:00 [15955] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:34.899_419+00:00 [15955] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:34.899_427+00:00 [15955] [INFO] create snapshot idx 700000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:37.013_695+00:00 [15955] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:37.013_714+00:00 [15955] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:37.013_740+00:00 [15955] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:37.013_746+00:00 [15955] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:39.135_508+00:00 [15955] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:39.135_521+00:00 [15955] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:39.135_545+00:00 [15955] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:39.135_550+00:00 [15955] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:11:06.851_059+00:00 [22989] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:11:06.852_558+00:00 [22989] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:11:06.852_585+00:00 [22989] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:11:06.852_593+00:00 [22989] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:11:06.852_616+00:00 [22989] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:11:06.852_620+00:00 [22989] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:11:06.852_626+00:00 [22989] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:11:06.852_664+00:00 [22989] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:11:06.852_693+00:00 [23025] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:11:08.728_914+00:00 [22992] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:11:08.728_925+00:00 [22992] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:11:08.728_938+00:00 [22992] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:11:08.728_948+00:00 [22992] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:11:08.728_953+00:00 [22992] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:11:08.728_956+00:00 [22992] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:11:08.728_972+00:00 [22992] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:11:08.729_052+00:00 [23024] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:11:08.729_066+00:00 [23024] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:11:08.729_076+00:00 [23024] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:11:08.903_954+00:00 [22989] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:11:18.909_341+00:00 [22989] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:11:18.909_350+00:00 [22989] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:11:18.909_452+00:00 [22989] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:11:31.830_737+00:00 [23024] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:11:31.830_747+00:00 [23024] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:11:31.830_766+00:00 [23024] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:11:31.830_771+00:00 [23024] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:11:34.753_229+00:00 [23024] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:11:34.753_246+00:00 [23024] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:11:34.753_267+00:00 [23024] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:11:34.753_277+00:00 [23024] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:11:37.691_143+00:00 [23024] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:11:37.691_155+00:00 [23024] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:11:37.691_179+00:00 [23024] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:11:37.691_184+00:00 [23024] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:11:40.641_206+00:00 [23024] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:11:40.641_219+00:00 [23024] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:11:40.641_242+00:00 [23024] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:11:40.641_246+00:00 [23024] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:11:43.585_852+00:00 [23024] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:11:43.585_867+00:00 [23024] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:11:43.585_892+00:00 [23024] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:11:43.585_897+00:00 [23024] [INFO] create snapshot idx 500000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:11:46.526_210+00:00 [23024] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:11:46.526_220+00:00 [23024] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:11:46.526_271+00:00 [23024] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:11:46.526_277+00:00 [23024] [INFO] create snapshot idx 600000 log_term 1 done: 51 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:12:59.970_346+00:00 [23393] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:12:59.971_824+00:00 [23393] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:12:59.971_854+00:00 [23393] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:12:59.971_860+00:00 [23393] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:12:59.971_882+00:00 [23393] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:12:59.971_886+00:00 [23393] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:12:59.971_889+00:00 [23393] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:12:59.971_926+00:00 [23393] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:12:59.971_961+00:00 [23429] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:13:02.004_189+00:00 [23396] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:13:02.004_200+00:00 [23396] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:13:02.004_213+00:00 [23396] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:13:02.004_224+00:00 [23396] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:13:02.004_229+00:00 [23396] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:13:02.004_232+00:00 [23396] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:13:02.004_248+00:00 [23396] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:13:02.004_323+00:00 [23428] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:13:02.004_337+00:00 [23428] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:13:02.004_348+00:00 [23428] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:13:02.023_283+00:00 [23393] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:13:12.028_323+00:00 [23393] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:13:12.028_331+00:00 [23393] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:13:12.028_440+00:00 [23393] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:13:24.919_387+00:00 [23428] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:13:24.919_403+00:00 [23428] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:13:24.919_427+00:00 [23428] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:13:24.919_432+00:00 [23428] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:13:27.868_884+00:00 [23428] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:13:27.868_895+00:00 [23428] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:13:27.868_916+00:00 [23428] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:13:27.868_921+00:00 [23428] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:13:30.804_707+00:00 [23428] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:13:30.804_718+00:00 [23428] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:13:30.804_736+00:00 [23428] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:13:30.804_741+00:00 [23428] [INFO] create snapshot idx 300000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:13:33.768_089+00:00 [23428] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:13:33.768_098+00:00 [23428] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:13:33.768_115+00:00 [23428] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:13:33.768_118+00:00 [23428] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:13:36.140_814+00:00 [23428] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:13:36.140_823+00:00 [23428] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:13:36.140_841+00:00 [23428] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:13:36.140_844+00:00 [23428] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:13:38.509_562+00:00 [23428] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:13:38.509_575+00:00 [23428] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:13:38.509_594+00:00 [23428] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:13:38.509_598+00:00 [23428] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:13:40.868_453+00:00 [23428] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:13:40.868_463+00:00 [23428] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:13:40.868_482+00:00 [23428] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:13:40.868_485+00:00 [23428] [INFO] create snapshot idx 700000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:09.832_122+00:00 [24094] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.833_560+00:00 [24094] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.833_590+00:00 [24094] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.833_597+00:00 [24094] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.833_616+00:00 [24094] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.833_620+00:00 [24094] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.833_624+00:00 [24094] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.833_656+00:00 [24094] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.857_784+00:00 [24215] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.883_769+00:00 [24094] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.883_967+00:00 [24094] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.884_061+00:00 [24094] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.835_407+00:00 [24098] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.836_786+00:00 [24098] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.836_813+00:00 [24098] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.836_819+00:00 [24098] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.836_839+00:00 [24098] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.836_843+00:00 [24098] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.836_846+00:00 [24098] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.836_877+00:00 [24098] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.858_058+00:00 [24251] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.886_980+00:00 [24098] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.887_178+00:00 [24098] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.887_262+00:00 [24098] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.838_509+00:00 [24106] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.839_909+00:00 [24106] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.839_938+00:00 [24106] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.839_944+00:00 [24106] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.839_961+00:00 [24106] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.839_964+00:00 [24106] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.839_967+00:00 [24106] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.840_004+00:00 [24106] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.857_841+00:00 [24287] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.890_112+00:00 [24106] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.890_294+00:00 [24106] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.890_378+00:00 [24106] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.844_293+00:00 [24138] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.845_651+00:00 [24138] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.845_681+00:00 [24138] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.845_686+00:00 [24138] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.845_706+00:00 [24138] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.845_710+00:00 [24138] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.845_713+00:00 [24138] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.845_743+00:00 [24138] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.857_873+00:00 [24325] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.895_846+00:00 [24138] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.896_045+00:00 [24138] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.896_129+00:00 [24138] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.847_518+00:00 [24142] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.848_899+00:00 [24142] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.848_926+00:00 [24142] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.848_931+00:00 [24142] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.848_949+00:00 [24142] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.848_953+00:00 [24142] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.848_955+00:00 [24142] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.848_984+00:00 [24142] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.858_091+00:00 [24361] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.899_116+00:00 [24142] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.899_291+00:00 [24142] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.899_374+00:00 [24142] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.850_557+00:00 [24176] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.851_934+00:00 [24176] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.851_966+00:00 [24176] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.851_971+00:00 [24176] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.851_991+00:00 [24176] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.851_995+00:00 [24176] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.851_997+00:00 [24176] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.852_028+00:00 [24176] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.857_712+00:00 [24397] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.902_132+00:00 [24176] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.902_303+00:00 [24176] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.902_381+00:00 [24176] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.853_567+00:00 [24178] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.855_359+00:00 [24178] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.855_384+00:00 [24178] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.855_389+00:00 [24178] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.855_405+00:00 [24178] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.855_409+00:00 [24178] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.855_412+00:00 [24178] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.855_442+00:00 [24178] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.858_303+00:00 [24433] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.905_542+00:00 [24178] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.905_693+00:00 [24178] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.905_771+00:00 [24178] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.841_744+00:00 [24136] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.856_057+00:00 [24136] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.856_081+00:00 [24136] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.856_086+00:00 [24136] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.856_103+00:00 [24136] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.856_108+00:00 [24136] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.856_111+00:00 [24136] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.856_143+00:00 [24136] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.858_484+00:00 [24467] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.906_240+00:00 [24136] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.906_400+00:00 [24136] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.906_478+00:00 [24136] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.829_159+00:00 [24092] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.857_939+00:00 [24092] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:15:09.857_967+00:00 [24092] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.857_971+00:00 [24092] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.857_992+00:00 [24092] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.857_996+00:00 [24092] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.857_999+00:00 [24092] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.858_036+00:00 [24092] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.858_512+00:00 [24469] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:09.908_269+00:00 [24092] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.908_438+00:00 [24092] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.908_513+00:00 [24092] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:09.825_449+00:00 [24090] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:15:09.827_246+00:00 [24090] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:15:09.827_286+00:00 [24090] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:15:09.827_292+00:00 [24090] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:15:09.827_320+00:00 [24090] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:15:09.827_325+00:00 [24090] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:15:09.827_330+00:00 [24090] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:15:09.827_371+00:00 [24090] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:15:09.857_464+00:00 [24135] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:15:10.984_831+00:00 [24094] [ERRO] 
Thread c174 (24094) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f943ec2d0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:10.989_222+00:00 [24218] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:15:10.989_254+00:00 [24218] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:15:10.989_276+00:00 [24218] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:15:10.989_297+00:00 [24218] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:15:10.989_310+00:00 [24218] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:15:10.989_319+00:00 [24218] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:15:10.989_349+00:00 [24218] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:15:10.989_414+00:00 [24250] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:15:10.989_431+00:00 [24250] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:15:10.989_447+00:00 [24250] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:15:11.017_687+00:00 [24098] [ERRO] 
Thread ca56 (24098) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007ff7cc0d80b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.037_467+00:00 [24138] [ERRO] 
Thread 4f38 (24138) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f158e4be0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.075_830+00:00 [24106] [ERRO] 
Thread 1275 (24106) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007fdabf6e20b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.079_432+00:00 [24178] [ERRO] 
Thread 83fa (24178) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f798502f0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.080_980+00:00 [24176] [ERRO] 
Thread 220d (24176) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f403f5ea0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.094_937+00:00 [24142] [ERRO] 
Thread a337 (24142) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f1e525e70b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.096_666+00:00 [24092] [ERRO] 
Thread 292a (24092) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007faae566d0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.098_246+00:00 [24136] [ERRO] 
Thread 2d34 (24136) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007fa8498aa0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:15:11.409_557+00:00 [24101] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:15:11.409_569+00:00 [24101] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:15:11.409_587+00:00 [24101] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:15:11.409_606+00:00 [24101] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:15:11.409_613+00:00 [24101] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:15:11.409_618+00:00 [24101] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:15:11.409_641+00:00 [24101] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:15:11.409_704+00:00 [24134] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:15:11.409_714+00:00 [24134] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:15:11.409_726+00:00 [24134] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:15:11.628_628+00:00 [24090] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:15:21.633_662+00:00 [24090] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:15:21.633_670+00:00 [24090] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:15:21.633_767+00:00 [24090] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:15:33.915_659+00:00 [24134] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:33.915_668+00:00 [24134] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:33.915_686+00:00 [24134] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:33.915_689+00:00 [24134] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:36.226_653+00:00 [24134] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:36.226_664+00:00 [24134] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:36.226_682+00:00 [24134] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:36.226_686+00:00 [24134] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:38.553_789+00:00 [24134] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:38.553_799+00:00 [24134] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:38.553_817+00:00 [24134] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:38.553_820+00:00 [24134] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:40.875_174+00:00 [24134] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:40.875_185+00:00 [24134] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:40.875_203+00:00 [24134] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:40.875_206+00:00 [24134] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:43.201_086+00:00 [24134] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:43.201_096+00:00 [24134] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:43.201_113+00:00 [24134] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:43.201_116+00:00 [24134] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:45.523_430+00:00 [24134] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:45.523_441+00:00 [24134] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:45.523_459+00:00 [24134] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:45.523_463+00:00 [24134] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:47.854_860+00:00 [24134] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:47.854_870+00:00 [24134] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:47.854_888+00:00 [24134] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:47.854_891+00:00 [24134] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:15:50.179_896+00:00 [24134] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:15:50.179_906+00:00 [24134] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:15:50.179_924+00:00 [24134] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:15:50.179_927+00:00 [24134] [INFO] create snapshot idx 800000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:17:40.964_048+00:00 [24820] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:17:40.965_592+00:00 [24820] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:17:40.965_628+00:00 [24820] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:17:40.965_633+00:00 [24820] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:17:40.965_657+00:00 [24820] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:17:40.965_661+00:00 [24820] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:17:40.965_665+00:00 [24820] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:17:40.965_701+00:00 [24820] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:17:40.965_729+00:00 [24856] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:17:42.015_919+00:00 [24824] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:17:42.015_930+00:00 [24824] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:17:42.015_944+00:00 [24824] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:17:42.015_953+00:00 [24824] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:17:42.015_959+00:00 [24824] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:17:42.015_962+00:00 [24824] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:17:42.015_978+00:00 [24824] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:17:42.016_052+00:00 [24855] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:17:42.016_067+00:00 [24855] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:17:42.016_078+00:00 [24855] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:17:42.016_481+00:00 [24820] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:17:52.020_910+00:00 [24820] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:17:52.020_919+00:00 [24820] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:17:52.021_034+00:00 [24820] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:18:04.329_272+00:00 [24855] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:04.329_282+00:00 [24855] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:04.329_298+00:00 [24855] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:04.329_302+00:00 [24855] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:06.681_317+00:00 [24855] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:06.681_328+00:00 [24855] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:06.681_345+00:00 [24855] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:06.681_350+00:00 [24855] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:09.026_728+00:00 [24855] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:09.026_738+00:00 [24855] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:09.026_756+00:00 [24855] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:09.026_759+00:00 [24855] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:11.380_522+00:00 [24855] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:11.380_533+00:00 [24855] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:11.380_551+00:00 [24855] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:11.380_554+00:00 [24855] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:13.728_057+00:00 [24855] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:13.728_067+00:00 [24855] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:13.728_083+00:00 [24855] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:13.728_087+00:00 [24855] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:16.087_397+00:00 [24855] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:16.087_407+00:00 [24855] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:16.087_426+00:00 [24855] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:16.087_429+00:00 [24855] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:18.435_069+00:00 [24855] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:18.435_079+00:00 [24855] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:18.435_096+00:00 [24855] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:18.435_099+00:00 [24855] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:20.791_112+00:00 [24855] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:18:20.791_125+00:00 [24855] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:18:20.791_148+00:00 [24855] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:18:20.791_153+00:00 [24855] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:18:44.089_573+00:00 [25095] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:18:44.091_135+00:00 [25095] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:18:44.091_174+00:00 [25095] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:18:44.091_179+00:00 [25095] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:18:44.091_206+00:00 [25095] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:18:44.091_211+00:00 [25095] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:18:44.091_214+00:00 [25095] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:18:44.091_256+00:00 [25095] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:18:44.091_286+00:00 [25131] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:18:45.974_517+00:00 [25098] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:18:45.974_529+00:00 [25098] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:18:45.974_542+00:00 [25098] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:18:45.974_551+00:00 [25098] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:18:45.974_557+00:00 [25098] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:18:45.974_560+00:00 [25098] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:18:45.974_590+00:00 [25098] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:18:45.974_671+00:00 [25130] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:18:45.974_685+00:00 [25130] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:18:45.974_695+00:00 [25130] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:18:46.142_726+00:00 [25095] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:18:56.147_624+00:00 [25095] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:18:56.147_632+00:00 [25095] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:18:56.147_739+00:00 [25095] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:19:08.217_883+00:00 [25130] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:19:08.217_893+00:00 [25130] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:19:08.217_910+00:00 [25130] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:19:08.217_914+00:00 [25130] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:19:10.664_529+00:00 [25130] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:19:10.664_540+00:00 [25130] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:19:10.664_558+00:00 [25130] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:19:10.664_561+00:00 [25130] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:19:13.273_052+00:00 [25130] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:19:13.273_062+00:00 [25130] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:19:13.273_079+00:00 [25130] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:19:13.273_083+00:00 [25130] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:19:15.893_556+00:00 [25130] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:19:15.893_566+00:00 [25130] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:19:15.893_583+00:00 [25130] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:19:15.893_587+00:00 [25130] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:19:18.516_761+00:00 [25130] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:19:18.516_772+00:00 [25130] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:19:18.516_791+00:00 [25130] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:19:18.516_794+00:00 [25130] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:19:21.152_901+00:00 [25130] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:19:21.152_911+00:00 [25130] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:19:21.152_928+00:00 [25130] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:19:21.152_931+00:00 [25130] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:19:23.766_245+00:00 [25130] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:19:23.766_254+00:00 [25130] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:19:23.766_273+00:00 [25130] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:19:23.766_276+00:00 [25130] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:20:51.165_725+00:00 [25654] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:20:51.167_226+00:00 [25654] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:20:51.167_259+00:00 [25654] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:20:51.167_265+00:00 [25654] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:20:51.167_290+00:00 [25654] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:20:51.167_294+00:00 [25654] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:20:51.167_297+00:00 [25654] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:20:51.167_332+00:00 [25654] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:20:51.167_357+00:00 [25691] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:20:52.425_549+00:00 [25660] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:20:52.425_560+00:00 [25660] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:20:52.425_573+00:00 [25660] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:20:52.425_589+00:00 [25660] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:20:52.425_596+00:00 [25660] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:20:52.425_598+00:00 [25660] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:20:52.425_615+00:00 [25660] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:20:52.425_693+00:00 [25690] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:20:52.425_708+00:00 [25690] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:20:52.425_718+00:00 [25690] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:20:52.468_200+00:00 [25654] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:20:56.168_250+00:00 [25743] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:20:56.170_735+00:00 [25743] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:20:56.170_767+00:00 [25743] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:20:56.170_774+00:00 [25743] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:20:56.170_797+00:00 [25743] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:20:56.170_801+00:00 [25743] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:20:56.170_804+00:00 [25743] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:20:56.170_841+00:00 [25743] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:20:56.170_868+00:00 [25780] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:20:56.220_954+00:00 [25743] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:20:56.221_148+00:00 [25743] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:20:56.221_221+00:00 [25743] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:20:56.353_755+00:00 [25743] [ERRO] 
Thread fc04 (25743) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007ff52da350b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:01.170_358+00:00 [25804] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:01.172_021+00:00 [25804] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:01.172_055+00:00 [25804] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:01.172_059+00:00 [25804] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:01.172_083+00:00 [25804] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:01.172_088+00:00 [25804] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:01.172_091+00:00 [25804] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:01.172_135+00:00 [25804] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:01.172_172+00:00 [25841] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:01.222_248+00:00 [25804] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:01.222_447+00:00 [25804] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:01.222_518+00:00 [25804] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:01.357_715+00:00 [25804] [ERRO] 
Thread 017f (25804) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007fd8302b40b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:02.472_729+00:00 [25654] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:21:02.472_737+00:00 [25654] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:21:02.472_834+00:00 [25654] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:21:06.172_371+00:00 [25886] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:06.174_010+00:00 [25886] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:06.174_046+00:00 [25886] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:06.174_052+00:00 [25886] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:06.174_075+00:00 [25886] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:06.174_079+00:00 [25886] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:06.174_082+00:00 [25886] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:06.174_129+00:00 [25886] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:06.174_162+00:00 [25923] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:06.224_245+00:00 [25886] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:06.224_474+00:00 [25886] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:06.224_550+00:00 [25886] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:06.358_660+00:00 [25886] [ERRO] 
Thread 1cc7 (25886) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007fec010b10b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:11.174_096+00:00 [25970] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:11.175_794+00:00 [25970] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:11.175_831+00:00 [25970] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:11.175_838+00:00 [25970] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:11.175_863+00:00 [25970] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:11.175_867+00:00 [25970] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:11.175_870+00:00 [25970] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:11.175_917+00:00 [25970] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:11.175_945+00:00 [26007] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:11.226_032+00:00 [25970] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:11.226_280+00:00 [25970] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:11.226_382+00:00 [25970] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:11.362_191+00:00 [25970] [ERRO] 
Thread 27d2 (25970) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f3e61ed30b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:14.792_888+00:00 [25690] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:14.792_898+00:00 [25690] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:14.792_916+00:00 [25690] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:14.792_919+00:00 [25690] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:16.175_829+00:00 [26060] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:16.177_445+00:00 [26060] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:16.177_476+00:00 [26060] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:16.177_483+00:00 [26060] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:16.177_501+00:00 [26060] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:16.177_505+00:00 [26060] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:16.177_507+00:00 [26060] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:16.177_545+00:00 [26060] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:16.177_573+00:00 [26097] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:16.227_647+00:00 [26060] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:16.227_865+00:00 [26060] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:16.227_956+00:00 [26060] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:16.358_958+00:00 [26060] [ERRO] 
Thread 016c (26060) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f51775020b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:17.142_858+00:00 [25690] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:17.142_868+00:00 [25690] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:17.142_885+00:00 [25690] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:17.142_889+00:00 [25690] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:19.506_632+00:00 [25690] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:19.506_642+00:00 [25690] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:19.506_659+00:00 [25690] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:19.506_662+00:00 [25690] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:21.177_952+00:00 [26148] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:21.179_669+00:00 [26148] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:21.179_699+00:00 [26148] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:21.179_707+00:00 [26148] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:21.179_728+00:00 [26148] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:21.179_733+00:00 [26148] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:21.179_736+00:00 [26148] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:21.179_774+00:00 [26148] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:21.179_802+00:00 [26185] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:21.229_897+00:00 [26148] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:21.230_132+00:00 [26148] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:21.230_225+00:00 [26148] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:21.368_093+00:00 [26148] [ERRO] 
Thread e78c (26148) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f7a17b7c0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:21.864_919+00:00 [25690] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:21.864_929+00:00 [25690] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:21.864_946+00:00 [25690] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:21.864_949+00:00 [25690] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:24.234_348+00:00 [25690] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:24.234_359+00:00 [25690] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:24.234_376+00:00 [25690] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:24.234_379+00:00 [25690] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:26.180_087+00:00 [26236] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:26.181_735+00:00 [26236] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:26.181_766+00:00 [26236] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:26.181_770+00:00 [26236] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:26.181_791+00:00 [26236] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:26.181_795+00:00 [26236] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:26.181_797+00:00 [26236] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:26.181_850+00:00 [26236] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:26.181_873+00:00 [26273] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:26.231_966+00:00 [26236] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:26.232_197+00:00 [26236] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:26.232_289+00:00 [26236] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:26.362_366+00:00 [26236] [ERRO] 
Thread d505 (26236) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007efc1f4d00b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:26.594_014+00:00 [25690] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:26.594_024+00:00 [25690] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:26.594_042+00:00 [25690] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:26.594_045+00:00 [25690] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:28.972_918+00:00 [25690] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:28.972_928+00:00 [25690] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:28.972_946+00:00 [25690] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:28.972_950+00:00 [25690] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:31.182_182+00:00 [26326] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:31.183_889+00:00 [26326] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:31.183_923+00:00 [26326] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:31.183_928+00:00 [26326] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:31.183_951+00:00 [26326] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:31.183_955+00:00 [26326] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:31.183_958+00:00 [26326] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:31.184_000+00:00 [26326] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:31.184_023+00:00 [26363] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:31.234_106+00:00 [26326] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:31.234_338+00:00 [26326] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:31.234_426+00:00 [26326] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:31.365_019+00:00 [26326] [ERRO] 
Thread 2031 (26326) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007ff50dab80b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:31.331_296+00:00 [25690] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:21:31.331_305+00:00 [25690] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:21:31.331_323+00:00 [25690] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:21:31.331_326+00:00 [25690] [INFO] create snapshot idx 800000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:21:36.184_140+00:00 [26413] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:36.185_622+00:00 [26413] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:21:36.185_656+00:00 [26413] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:36.185_662+00:00 [26413] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:36.185_691+00:00 [26413] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:36.185_695+00:00 [26413] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:36.185_698+00:00 [26413] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:36.185_737+00:00 [26413] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:36.185_765+00:00 [26450] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:38.042_926+00:00 [26417] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:21:38.042_938+00:00 [26417] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:21:38.042_952+00:00 [26417] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:21:38.042_961+00:00 [26417] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:21:38.042_966+00:00 [26417] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:21:38.042_970+00:00 [26417] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:21:38.042_985+00:00 [26417] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:21:38.043_062+00:00 [26449] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:21:38.043_077+00:00 [26449] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:21:38.043_087+00:00 [26449] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:21:38.237_099+00:00 [26413] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:21:48.242_043+00:00 [26413] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:21:48.242_052+00:00 [26413] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:21:48.242_147+00:00 [26413] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:21:51.699_065+00:00 [26523] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:21:51.700_678+00:00 [26523] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:21:51.700_711+00:00 [26523] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:21:51.700_716+00:00 [26523] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:21:51.700_738+00:00 [26523] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:21:51.700_742+00:00 [26523] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:21:51.700_745+00:00 [26523] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:21:51.700_793+00:00 [26523] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:21:51.700_817+00:00 [26560] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:21:51.750_920+00:00 [26523] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:51.751_154+00:00 [26523] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:51.751_247+00:00 [26523] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:21:51.883_814+00:00 [26523] [ERRO] 
Thread 7ab6 (26523) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f7c436fe0b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:00.858_029+00:00 [26449] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:00.858_040+00:00 [26449] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:00.858_058+00:00 [26449] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:00.858_061+00:00 [26449] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:01.701_408+00:00 [26651] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:22:01.703_108+00:00 [26651] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:22:01.703_140+00:00 [26651] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:22:01.703_149+00:00 [26651] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:22:01.703_169+00:00 [26651] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:22:01.703_174+00:00 [26651] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:22:01.703_176+00:00 [26651] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:22:01.703_222+00:00 [26651] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:22:01.703_244+00:00 [26688] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:22:01.753_337+00:00 [26651] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:01.753_554+00:00 [26651] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:01.753_644+00:00 [26651] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:01.886_326+00:00 [26651] [ERRO] 
Thread a1c9 (26651) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007fe50f7c50b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:03.508_009+00:00 [26449] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:03.508_018+00:00 [26449] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:03.508_037+00:00 [26449] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:03.508_040+00:00 [26449] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:06.158_924+00:00 [26449] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:06.158_933+00:00 [26449] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:06.158_950+00:00 [26449] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:06.158_953+00:00 [26449] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:08.809_469+00:00 [26449] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:08.809_478+00:00 [26449] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:08.809_496+00:00 [26449] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:08.809_499+00:00 [26449] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:11.477_025+00:00 [26449] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:11.477_034+00:00 [26449] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:11.477_051+00:00 [26449] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:11.477_055+00:00 [26449] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:11.703_830+00:00 [26746] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:22:11.705_887+00:00 [26746] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:22:11.705_919+00:00 [26746] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:22:11.705_926+00:00 [26746] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:22:11.705_944+00:00 [26746] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:22:11.705_948+00:00 [26746] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:22:11.705_951+00:00 [26746] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:22:11.706_005+00:00 [26746] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:22:11.706_029+00:00 [26783] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:22:11.756_112+00:00 [26746] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:11.756_343+00:00 [26746] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:11.756_445+00:00 [26746] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:11.884_464+00:00 [26746] [ERRO] 
Thread d2b2 (26746) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007faa1a2320b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:14.153_159+00:00 [26449] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:14.153_169+00:00 [26449] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:14.153_186+00:00 [26449] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:14.153_189+00:00 [26449] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:16.826_467+00:00 [26449] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:16.826_477+00:00 [26449] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:16.826_493+00:00 [26449] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:16.826_496+00:00 [26449] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:21.705_526+00:00 [26837] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:22:21.707_004+00:00 [26837] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:22:21.707_043+00:00 [26837] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:22:21.707_049+00:00 [26837] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:22:21.707_072+00:00 [26837] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:22:21.707_077+00:00 [26837] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:22:21.707_079+00:00 [26837] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:22:21.707_121+00:00 [26837] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:22:21.707_154+00:00 [26874] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:22:23.748_303+00:00 [26841] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:22:23.748_314+00:00 [26841] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:22:23.748_328+00:00 [26841] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:22:23.748_337+00:00 [26841] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:22:23.748_343+00:00 [26841] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:22:23.748_346+00:00 [26841] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:22:23.748_362+00:00 [26841] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:22:23.748_437+00:00 [26873] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:22:23.748_452+00:00 [26873] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:22:23.748_461+00:00 [26873] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:22:23.758_316+00:00 [26837] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:22:31.707_458+00:00 [26904] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:22:31.709_206+00:00 [26904] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:22:31.709_250+00:00 [26904] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:22:31.709_258+00:00 [26904] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:22:31.709_287+00:00 [26904] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:22:31.709_293+00:00 [26904] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:22:31.709_298+00:00 [26904] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:22:31.709_359+00:00 [26904] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:22:31.709_383+00:00 [26941] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:22:31.759_487+00:00 [26904] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:31.759_733+00:00 [26904] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:31.759_820+00:00 [26904] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:31.893_782+00:00 [26904] [ERRO] 
Thread ab75 (26904) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f37740290b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:22:33.762_940+00:00 [26837] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:22:33.762_949+00:00 [26837] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:22:33.763_044+00:00 [26837] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:22:46.332_650+00:00 [26873] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:46.332_660+00:00 [26873] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:46.332_678+00:00 [26873] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:46.332_682+00:00 [26873] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:48.940_582+00:00 [26873] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:48.940_593+00:00 [26873] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:48.940_610+00:00 [26873] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:48.940_614+00:00 [26873] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:51.587_512+00:00 [26873] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:51.587_523+00:00 [26873] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:51.587_541+00:00 [26873] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:51.587_545+00:00 [26873] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:54.216_918+00:00 [26873] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:54.216_927+00:00 [26873] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:54.216_945+00:00 [26873] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:54.216_948+00:00 [26873] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:56.857_340+00:00 [26873] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:56.857_351+00:00 [26873] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:56.857_368+00:00 [26873] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:56.857_372+00:00 [26873] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:22:59.497_702+00:00 [26873] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:22:59.497_712+00:00 [26873] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:22:59.497_730+00:00 [26873] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:22:59.497_734+00:00 [26873] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:23:02.145_839+00:00 [26873] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:23:02.145_849+00:00 [26873] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:23:02.145_867+00:00 [26873] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:23:02.145_871+00:00 [26873] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:23:42.391_958+00:00 [27110] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:23:42.393_493+00:00 [27110] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:23:42.393_526+00:00 [27110] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:23:42.393_534+00:00 [27110] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:23:42.393_557+00:00 [27110] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:23:42.393_561+00:00 [27110] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:23:42.393_564+00:00 [27110] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:23:42.393_602+00:00 [27110] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:23:42.393_631+00:00 [27147] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:23:43.659_829+00:00 [27114] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:23:43.659_841+00:00 [27114] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:23:43.659_855+00:00 [27114] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:23:43.659_864+00:00 [27114] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:23:43.659_870+00:00 [27114] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:23:43.659_873+00:00 [27114] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:23:43.659_889+00:00 [27114] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:23:43.659_976+00:00 [27146] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:23:43.659_990+00:00 [27146] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:23:43.660_001+00:00 [27146] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:23:43.694_519+00:00 [27110] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:23:52.394_446+00:00 [27204] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:23:52.396_054+00:00 [27204] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:23:52.396_088+00:00 [27204] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:23:52.396_094+00:00 [27204] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:23:52.396_117+00:00 [27204] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:23:52.396_121+00:00 [27204] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:23:52.396_124+00:00 [27204] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:23:52.396_165+00:00 [27204] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:23:52.396_191+00:00 [27241] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:23:52.446_286+00:00 [27204] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:23:52.446_523+00:00 [27204] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:23:52.446_650+00:00 [27204] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:23:52.580_958+00:00 [27204] [ERRO] 
Thread 48f3 (27204) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f3f0c5830b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:23:53.699_477+00:00 [27110] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:23:53.699_486+00:00 [27110] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:23:53.699_587+00:00 [27110] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:24:02.396_707+00:00 [27319] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:24:02.398_335+00:00 [27319] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:24:02.398_367+00:00 [27319] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:24:02.398_373+00:00 [27319] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:24:02.398_393+00:00 [27319] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:24:02.398_397+00:00 [27319] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:24:02.398_401+00:00 [27319] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:24:02.398_444+00:00 [27319] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:24:02.398_471+00:00 [27356] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:24:02.448_566+00:00 [27319] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:02.448_786+00:00 [27319] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:02.448_894+00:00 [27319] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:02.583_753+00:00 [27319] [ERRO] 
Thread deb5 (27319) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007fcafb8f80b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:06.336_164+00:00 [27146] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:24:06.336_181+00:00 [27146] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:24:06.336_209+00:00 [27146] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:24:06.336_213+00:00 [27146] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:24:08.960_459+00:00 [27146] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:24:08.960_469+00:00 [27146] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:24:08.960_487+00:00 [27146] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:24:08.960_490+00:00 [27146] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:24:11.605_997+00:00 [27146] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:24:11.606_007+00:00 [27146] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:24:11.606_025+00:00 [27146] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:24:11.606_029+00:00 [27146] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:24:12.399_035+00:00 [27438] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:24:12.400_770+00:00 [27438] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:24:12.400_808+00:00 [27438] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:24:12.400_814+00:00 [27438] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:24:12.400_836+00:00 [27438] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:24:12.400_841+00:00 [27438] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:24:12.400_843+00:00 [27438] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:24:12.400_893+00:00 [27438] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:24:12.400_916+00:00 [27475] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:24:12.451_007+00:00 [27438] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:12.451_326+00:00 [27438] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:12.451_511+00:00 [27438] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:12.582_028+00:00 [27438] [ERRO] 
Thread bb16 (27438) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007f72428880b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:14.218_559+00:00 [27146] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:24:14.218_589+00:00 [27146] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:24:14.218_618+00:00 [27146] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:24:14.218_622+00:00 [27146] [INFO] create snapshot idx 400000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:24:16.847_314+00:00 [27146] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:24:16.847_327+00:00 [27146] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:24:16.847_354+00:00 [27146] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:24:16.847_358+00:00 [27146] [INFO] create snapshot idx 500000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:24:19.476_238+00:00 [27146] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:24:19.476_252+00:00 [27146] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:24:19.476_275+00:00 [27146] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:24:19.476_279+00:00 [27146] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:24:22.112_209+00:00 [27146] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:24:22.112_226+00:00 [27146] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:24:22.112_256+00:00 [27146] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:24:22.112_260+00:00 [27146] [INFO] create snapshot idx 700000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:24:22.400_944+00:00 [27553] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:24:22.402_666+00:00 [27553] [ERRO] got exception: bind: Address already in use	[asio_service.cxx:1851, create_rpc_listener()]
2022-04-23T23:24:22.402_697+00:00 [27553] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:24:22.402_703+00:00 [27553] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:24:22.402_726+00:00 [27553] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:24:22.402_730+00:00 [27553] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:24:22.402_733+00:00 [27553] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:24:22.402_775+00:00 [27553] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:24:22.402_801+00:00 [27590] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:24:22.452_890+00:00 [27553] [FATL] Segmentation fault	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:22.453_158+00:00 [27553] [ERRO]  === Critical info (given by user): 0 bytes ===	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:22.453_350+00:00 [27553] [ERRO] will not explore other threads (disabled by user)	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:24:22.584_293+00:00 [27553] [ERRO] 
Thread 41b7 (27553) (crashed here)

#0  0x00000000000772d4 in SimpleLoggerMgr::addRawStackInfo(bool) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:346
#1  0x00000000000777a3 in SimpleLoggerMgr::logStackBacktrace(unsigned long) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:393
#2  0x0000000000077b2f in SimpleLoggerMgr::handleSegFault(int) at /home/azureuser/NuRaft-598Assignment/examples/logger.cc:431
#3  0x00000000000430c0 in killpg() at ??:?
#4  0x00000000000563d5 in raft_bench::init_raft(raft_bench::server_stuff&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:216
#5  0x0000000000057c07 in raft_bench::bench_main(raft_bench::bench_config const&) at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:374
#6  0x00000000000634a0 in void TestSuite::doTest<raft_bench::bench_config, , int (*)(raft_bench::bench_config const&)>(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int (*)(raft_bench::bench_config const&), raft_bench::bench_config) at /home/azureuser/NuRaft-598Assignment/tests/test_common.h:1264
#7  0x0000000000058ec0 in main() at /home/azureuser/NuRaft-598Assignment/tests/bench/raft_bench.cxx:531
#8  0x00007fae42d810b3 in __libc_start_main() at ??:0
#9  0x000000000005505e in _start() at ??:?
	[logger.cc:643, flushAllLoggers()]
2022-04-23T23:25:20.849_610+00:00 [27820] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:25:20.851_093+00:00 [27820] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:25:20.851_126+00:00 [27820] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:25:20.851_132+00:00 [27820] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:25:20.851_156+00:00 [27820] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:25:20.851_161+00:00 [27820] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:25:20.851_163+00:00 [27820] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:25:20.851_205+00:00 [27820] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:25:20.851_230+00:00 [27856] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:25:22.634_585+00:00 [27823] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:25:22.634_597+00:00 [27823] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:25:22.634_609+00:00 [27823] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:25:22.634_618+00:00 [27823] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:25:22.634_624+00:00 [27823] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:25:22.634_627+00:00 [27823] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:25:22.634_644+00:00 [27823] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:25:22.634_729+00:00 [27855] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:25:22.634_743+00:00 [27855] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:25:22.634_754+00:00 [27855] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:25:22.652_789+00:00 [27820] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:25:32.657_238+00:00 [27820] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:25:32.657_246+00:00 [27820] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:25:32.657_360+00:00 [27820] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:25:45.262_768+00:00 [27855] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:25:45.262_780+00:00 [27855] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:25:45.262_803+00:00 [27855] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:25:45.262_808+00:00 [27855] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:25:47.850_432+00:00 [27855] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:25:47.850_444+00:00 [27855] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:25:47.850_469+00:00 [27855] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:25:47.850_472+00:00 [27855] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:25:50.431_202+00:00 [27855] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:25:50.431_214+00:00 [27855] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:25:50.431_236+00:00 [27855] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:25:50.431_240+00:00 [27855] [INFO] create snapshot idx 300000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:25:53.007_048+00:00 [27855] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:25:53.007_066+00:00 [27855] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:25:53.007_094+00:00 [27855] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:25:53.007_098+00:00 [27855] [INFO] create snapshot idx 400000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:25:55.570_669+00:00 [27855] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:25:55.570_687+00:00 [27855] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:25:55.570_714+00:00 [27855] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:25:55.570_718+00:00 [27855] [INFO] create snapshot idx 500000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:25:58.164_653+00:00 [27855] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:25:58.164_670+00:00 [27855] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:25:58.164_691+00:00 [27855] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:25:58.164_695+00:00 [27855] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:00.751_151+00:00 [27855] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:00.751_168+00:00 [27855] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:00.751_194+00:00 [27855] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:00.751_198+00:00 [27855] [INFO] create snapshot idx 700000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:19.990_388+00:00 [28095] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:26:19.991_879+00:00 [28095] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:26:19.991_918+00:00 [28095] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:26:19.991_922+00:00 [28095] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:26:19.991_945+00:00 [28095] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:26:19.991_950+00:00 [28095] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:26:19.991_952+00:00 [28095] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:26:19.991_988+00:00 [28095] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:26:19.992_016+00:00 [28131] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:26:21.435_292+00:00 [28100] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:26:21.435_303+00:00 [28100] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:26:21.435_316+00:00 [28100] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:26:21.435_326+00:00 [28100] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:26:21.435_333+00:00 [28100] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:26:21.435_336+00:00 [28100] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:26:21.435_352+00:00 [28100] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:26:21.435_427+00:00 [28130] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:26:21.435_441+00:00 [28130] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:26:21.435_452+00:00 [28130] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:26:21.543_054+00:00 [28095] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:26:31.547_662+00:00 [28095] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:26:31.547_670+00:00 [28095] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:26:31.547_780+00:00 [28095] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:26:43.610_999+00:00 [28130] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:43.611_009+00:00 [28130] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:43.611_028+00:00 [28130] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:43.611_032+00:00 [28130] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:46.034_004+00:00 [28130] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:46.034_014+00:00 [28130] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:46.034_032+00:00 [28130] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:46.034_036+00:00 [28130] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:48.637_537+00:00 [28130] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:48.637_547+00:00 [28130] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:48.637_565+00:00 [28130] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:48.637_568+00:00 [28130] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:51.252_491+00:00 [28130] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:51.252_501+00:00 [28130] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:51.252_518+00:00 [28130] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:51.252_521+00:00 [28130] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:53.859_776+00:00 [28130] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:53.859_786+00:00 [28130] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:53.859_803+00:00 [28130] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:53.859_806+00:00 [28130] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:56.478_091+00:00 [28130] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:56.478_100+00:00 [28130] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:56.478_118+00:00 [28130] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:56.478_122+00:00 [28130] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:26:59.101_234+00:00 [28130] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:26:59.101_244+00:00 [28130] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:26:59.101_263+00:00 [28130] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:26:59.101_266+00:00 [28130] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:43:18.548_000+00:00 [29123] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:43:18.549_481+00:00 [29123] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:43:18.549_511+00:00 [29123] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:43:18.549_517+00:00 [29123] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:43:18.549_540+00:00 [29123] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:43:18.549_544+00:00 [29123] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:43:18.549_547+00:00 [29123] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:43:18.549_584+00:00 [29123] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:43:18.549_619+00:00 [29159] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:43:19.843_810+00:00 [29127] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:43:19.843_822+00:00 [29127] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:43:19.843_835+00:00 [29127] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:43:19.843_845+00:00 [29127] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:43:19.843_851+00:00 [29127] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:43:19.843_854+00:00 [29127] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:43:19.843_871+00:00 [29127] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:43:19.843_953+00:00 [29158] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:43:19.843_967+00:00 [29158] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:43:19.843_978+00:00 [29158] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:43:19.850_438+00:00 [29123] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:43:29.855_058+00:00 [29123] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:43:29.855_067+00:00 [29123] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:43:29.855_181+00:00 [29123] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:43:42.783_510+00:00 [29158] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:43:42.783_521+00:00 [29158] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:43:42.783_541+00:00 [29158] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:43:42.783_546+00:00 [29158] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:43:45.737_361+00:00 [29158] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:43:45.737_372+00:00 [29158] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:43:45.737_415+00:00 [29158] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:43:45.737_420+00:00 [29158] [INFO] create snapshot idx 200000 log_term 1 done: 42 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:43:48.684_399+00:00 [29158] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:43:48.684_409+00:00 [29158] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:43:48.684_428+00:00 [29158] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:43:48.684_433+00:00 [29158] [INFO] create snapshot idx 300000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:43:51.597_341+00:00 [29158] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:43:51.597_356+00:00 [29158] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:43:51.597_381+00:00 [29158] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:43:51.597_391+00:00 [29158] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:43:54.525_015+00:00 [29158] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:43:54.525_025+00:00 [29158] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:43:54.525_060+00:00 [29158] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:43:54.525_065+00:00 [29158] [INFO] create snapshot idx 500000 log_term 1 done: 31 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:43:57.454_660+00:00 [29158] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:43:57.454_671+00:00 [29158] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:43:57.454_694+00:00 [29158] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:43:57.454_700+00:00 [29158] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:44:19.734_608+00:00 [29326] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:44:19.736_108+00:00 [29326] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:44:19.736_144+00:00 [29326] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:44:19.736_149+00:00 [29326] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:44:19.736_175+00:00 [29326] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:44:19.736_179+00:00 [29326] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:44:19.736_182+00:00 [29326] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:44:19.736_219+00:00 [29326] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:44:19.736_243+00:00 [29362] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:44:21.205_445+00:00 [29329] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:44:21.205_455+00:00 [29329] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:44:21.205_468+00:00 [29329] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:44:21.205_478+00:00 [29329] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:44:21.205_484+00:00 [29329] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:44:21.205_488+00:00 [29329] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:44:21.205_504+00:00 [29329] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:44:21.205_584+00:00 [29361] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:44:21.205_599+00:00 [29361] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:44:21.205_609+00:00 [29361] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:44:21.287_150+00:00 [29326] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:44:31.291_503+00:00 [29326] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:44:31.291_514+00:00 [29326] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:44:31.291_654+00:00 [29326] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:44:44.231_203+00:00 [29361] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:44:44.231_219+00:00 [29361] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:44:44.231_243+00:00 [29361] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:44:44.231_247+00:00 [29361] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:44:47.154_517+00:00 [29361] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:44:47.154_528+00:00 [29361] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:44:47.154_550+00:00 [29361] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:44:47.154_554+00:00 [29361] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:44:50.019_341+00:00 [29361] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:44:50.019_367+00:00 [29361] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:44:50.019_392+00:00 [29361] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:44:50.019_396+00:00 [29361] [INFO] create snapshot idx 300000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:44:52.957_952+00:00 [29361] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:44:52.957_961+00:00 [29361] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:44:52.957_980+00:00 [29361] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:44:52.957_984+00:00 [29361] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:44:55.912_787+00:00 [29361] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:44:55.912_802+00:00 [29361] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:44:55.912_827+00:00 [29361] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:44:55.912_831+00:00 [29361] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:44:58.859_756+00:00 [29361] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:44:58.859_775+00:00 [29361] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:44:58.859_799+00:00 [29361] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:44:58.859_808+00:00 [29361] [INFO] create snapshot idx 600000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:49:43.248_345+00:00 [29770] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:49:43.249_802+00:00 [29770] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:49:43.249_842+00:00 [29770] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:49:43.249_849+00:00 [29770] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:49:43.249_873+00:00 [29770] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:49:43.249_878+00:00 [29770] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:49:43.249_881+00:00 [29770] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:49:43.249_921+00:00 [29770] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:49:43.249_944+00:00 [29806] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:49:44.395_101+00:00 [29773] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:49:44.395_111+00:00 [29773] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:49:44.395_124+00:00 [29773] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:49:44.395_135+00:00 [29773] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:49:44.395_141+00:00 [29773] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:49:44.395_144+00:00 [29773] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:49:44.395_161+00:00 [29773] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:49:44.395_223+00:00 [29805] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:49:44.395_231+00:00 [29805] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:49:44.395_240+00:00 [29805] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:49:44.550_851+00:00 [29770] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:49:54.555_788+00:00 [29770] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:49:54.555_796+00:00 [29770] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:49:54.555_892+00:00 [29770] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:50:07.512_171+00:00 [29805] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:07.512_181+00:00 [29805] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:07.512_206+00:00 [29805] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:07.512_213+00:00 [29805] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:10.418_354+00:00 [29805] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:10.418_364+00:00 [29805] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:10.418_389+00:00 [29805] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:10.418_393+00:00 [29805] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:13.363_481+00:00 [29805] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:13.363_490+00:00 [29805] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:13.363_507+00:00 [29805] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:13.363_513+00:00 [29805] [INFO] create snapshot idx 300000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:16.357_498+00:00 [29805] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:16.357_512+00:00 [29805] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:16.357_537+00:00 [29805] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:16.357_542+00:00 [29805] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:19.328_641+00:00 [29805] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:19.328_652+00:00 [29805] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:19.328_676+00:00 [29805] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:19.328_680+00:00 [29805] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:22.301_336+00:00 [29805] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:22.301_347+00:00 [29805] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:22.301_373+00:00 [29805] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:22.301_378+00:00 [29805] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:24.624_619+00:00 [29877] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:50:24.626_884+00:00 [29877] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:50:24.626_939+00:00 [29877] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:50:24.626_943+00:00 [29877] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:50:24.626_969+00:00 [29877] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:50:24.626_973+00:00 [29877] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:50:24.626_976+00:00 [29877] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:50:24.627_022+00:00 [29877] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:50:24.627_051+00:00 [29913] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:50:26.187_248+00:00 [29880] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:50:26.187_258+00:00 [29880] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:50:26.187_271+00:00 [29880] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:50:26.187_285+00:00 [29880] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:50:26.187_291+00:00 [29880] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:50:26.187_294+00:00 [29880] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:50:26.187_309+00:00 [29880] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:50:26.187_392+00:00 [29912] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:50:26.187_401+00:00 [29912] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:50:26.187_410+00:00 [29912] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:50:26.428_167+00:00 [29877] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:50:36.432_960+00:00 [29877] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:50:36.432_968+00:00 [29877] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:50:36.433_071+00:00 [29877] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:50:48.722_094+00:00 [29912] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:48.722_108+00:00 [29912] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:48.722_134+00:00 [29912] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:48.722_139+00:00 [29912] [INFO] create snapshot idx 100000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:51.019_417+00:00 [29912] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:51.019_431+00:00 [29912] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:51.019_455+00:00 [29912] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:51.019_460+00:00 [29912] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:53.298_752+00:00 [29912] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:53.298_766+00:00 [29912] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:53.298_784+00:00 [29912] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:53.298_788+00:00 [29912] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:55.577_760+00:00 [29912] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:55.577_773+00:00 [29912] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:55.577_797+00:00 [29912] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:55.577_804+00:00 [29912] [INFO] create snapshot idx 400000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:50:57.854_904+00:00 [29912] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:50:57.854_918+00:00 [29912] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:50:57.854_935+00:00 [29912] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:50:57.854_939+00:00 [29912] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:00.163_628+00:00 [29912] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:00.163_640+00:00 [29912] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:00.163_658+00:00 [29912] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:00.163_662+00:00 [29912] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:02.457_825+00:00 [29912] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:02.457_839+00:00 [29912] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:02.457_863+00:00 [29912] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:02.457_868+00:00 [29912] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:04.741_436+00:00 [29912] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:04.741_450+00:00 [29912] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:04.741_475+00:00 [29912] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:04.741_481+00:00 [29912] [INFO] create snapshot idx 800000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:06.528_222+00:00 [29976] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:51:06.529_680+00:00 [29976] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:51:06.529_727+00:00 [29976] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:51:06.529_733+00:00 [29976] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:51:06.529_758+00:00 [29976] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:51:06.529_762+00:00 [29976] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:51:06.529_765+00:00 [29976] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:51:06.529_803+00:00 [29976] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:51:06.529_835+00:00 [30012] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:51:07.793_062+00:00 [29979] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:51:07.793_074+00:00 [29979] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:51:07.793_087+00:00 [29979] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:51:07.793_098+00:00 [29979] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:51:07.793_103+00:00 [29979] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:51:07.793_106+00:00 [29979] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:51:07.793_122+00:00 [29979] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:51:07.793_202+00:00 [30011] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:51:07.793_216+00:00 [30011] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:51:07.793_226+00:00 [30011] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:51:07.830_781+00:00 [29976] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:51:17.835_404+00:00 [29976] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:51:17.835_413+00:00 [29976] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:51:17.835_522+00:00 [29976] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:51:29.992_470+00:00 [30011] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:29.992_486+00:00 [30011] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:29.992_509+00:00 [30011] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:29.992_514+00:00 [30011] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:32.145_118+00:00 [30011] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:32.145_133+00:00 [30011] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:32.145_161+00:00 [30011] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:32.145_166+00:00 [30011] [INFO] create snapshot idx 200000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:34.281_193+00:00 [30011] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:34.281_206+00:00 [30011] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:34.281_230+00:00 [30011] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:34.281_240+00:00 [30011] [INFO] create snapshot idx 300000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:36.425_075+00:00 [30011] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:36.425_089+00:00 [30011] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:36.425_112+00:00 [30011] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:36.425_118+00:00 [30011] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:38.585_080+00:00 [30011] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:38.585_089+00:00 [30011] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:38.585_110+00:00 [30011] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:38.585_116+00:00 [30011] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:40.737_824+00:00 [30011] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:40.737_839+00:00 [30011] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:40.737_861+00:00 [30011] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:40.737_872+00:00 [30011] [INFO] create snapshot idx 600000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:42.900_700+00:00 [30011] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:42.900_712+00:00 [30011] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:42.900_736+00:00 [30011] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:42.900_741+00:00 [30011] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:45.057_487+00:00 [30011] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:45.057_499+00:00 [30011] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:45.057_526+00:00 [30011] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:45.057_531+00:00 [30011] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:47.230_723+00:00 [30011] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:51:47.230_735+00:00 [30011] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:51:47.230_757+00:00 [30011] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:51:47.230_761+00:00 [30011] [INFO] create snapshot idx 900000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:51:47.940_041+00:00 [30079] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:51:47.941_508+00:00 [30079] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:51:47.941_541+00:00 [30079] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:51:47.941_547+00:00 [30079] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:51:47.941_570+00:00 [30079] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:51:47.941_574+00:00 [30079] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:51:47.941_577+00:00 [30079] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:51:47.941_611+00:00 [30079] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:51:47.941_634+00:00 [30115] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:51:49.358_839+00:00 [30082] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:51:49.358_850+00:00 [30082] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:51:49.358_864+00:00 [30082] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:51:49.358_880+00:00 [30082] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:51:49.358_886+00:00 [30082] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:51:49.358_890+00:00 [30082] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:51:49.358_906+00:00 [30082] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:51:49.358_993+00:00 [30114] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:51:49.359_007+00:00 [30114] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:51:49.359_018+00:00 [30114] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:51:49.492_611+00:00 [30079] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:51:59.497_239+00:00 [30079] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:51:59.497_247+00:00 [30079] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:51:59.497_356+00:00 [30079] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:52:11.633_369+00:00 [30114] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:11.633_382+00:00 [30114] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:11.633_407+00:00 [30114] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:11.633_412+00:00 [30114] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:13.747_448+00:00 [30114] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:13.747_461+00:00 [30114] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:13.747_481+00:00 [30114] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:13.747_491+00:00 [30114] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:15.870_713+00:00 [30114] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:15.870_728+00:00 [30114] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:15.870_755+00:00 [30114] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:15.870_759+00:00 [30114] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:17.987_949+00:00 [30114] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:17.987_962+00:00 [30114] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:17.987_985+00:00 [30114] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:17.987_995+00:00 [30114] [INFO] create snapshot idx 400000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:20.129_608+00:00 [30114] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:20.129_621+00:00 [30114] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:20.129_644+00:00 [30114] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:20.129_652+00:00 [30114] [INFO] create snapshot idx 500000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:22.259_842+00:00 [30114] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:22.259_854+00:00 [30114] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:22.259_879+00:00 [30114] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:22.259_884+00:00 [30114] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:24.391_854+00:00 [30114] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:24.391_869+00:00 [30114] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:24.391_893+00:00 [30114] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:24.391_898+00:00 [30114] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:26.522_884+00:00 [30114] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:26.522_897+00:00 [30114] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:26.522_916+00:00 [30114] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:26.522_920+00:00 [30114] [INFO] create snapshot idx 800000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:28.661_584+00:00 [30114] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:28.661_597+00:00 [30114] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:28.661_619+00:00 [30114] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:28.661_625+00:00 [30114] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:29.607_981+00:00 [30181] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:52:29.609_455+00:00 [30181] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:52:29.609_488+00:00 [30181] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:52:29.609_493+00:00 [30181] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:52:29.609_517+00:00 [30181] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:52:29.609_521+00:00 [30181] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:52:29.609_525+00:00 [30181] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:52:29.609_557+00:00 [30181] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:52:29.609_591+00:00 [30217] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:52:30.758_782+00:00 [30184] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:52:30.758_794+00:00 [30184] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:52:30.758_807+00:00 [30184] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:52:30.758_823+00:00 [30184] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:52:30.758_829+00:00 [30184] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:52:30.758_832+00:00 [30184] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:52:30.758_849+00:00 [30184] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:52:30.758_918+00:00 [30216] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:52:30.758_926+00:00 [30216] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:52:30.758_934+00:00 [30216] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:52:30.910_436+00:00 [30181] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:52:40.914_856+00:00 [30181] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:52:40.914_864+00:00 [30181] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:52:40.914_966+00:00 [30181] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:52:53.057_847+00:00 [30216] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:53.057_863+00:00 [30216] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:53.057_885+00:00 [30216] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:53.057_890+00:00 [30216] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:55.182_467+00:00 [30216] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:55.182_481+00:00 [30216] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:55.182_550+00:00 [30216] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:55.182_560+00:00 [30216] [INFO] create snapshot idx 200000 log_term 1 done: 72 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:57.307_470+00:00 [30216] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:57.307_484+00:00 [30216] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:57.307_504+00:00 [30216] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:57.307_513+00:00 [30216] [INFO] create snapshot idx 300000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:52:59.447_448+00:00 [30216] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:52:59.447_462+00:00 [30216] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:52:59.447_486+00:00 [30216] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:52:59.447_491+00:00 [30216] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:01.577_198+00:00 [30216] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:01.577_211+00:00 [30216] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:01.577_234+00:00 [30216] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:01.577_240+00:00 [30216] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:03.708_152+00:00 [30216] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:03.708_164+00:00 [30216] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:03.708_186+00:00 [30216] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:03.708_190+00:00 [30216] [INFO] create snapshot idx 600000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:05.841_154+00:00 [30216] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:05.841_167+00:00 [30216] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:05.841_190+00:00 [30216] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:05.841_195+00:00 [30216] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:07.969_789+00:00 [30216] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:07.969_803+00:00 [30216] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:07.969_823+00:00 [30216] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:07.969_829+00:00 [30216] [INFO] create snapshot idx 800000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:10.118_713+00:00 [30216] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:10.118_725+00:00 [30216] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:10.118_749+00:00 [30216] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:10.118_755+00:00 [30216] [INFO] create snapshot idx 900000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:11.030_825+00:00 [30287] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:53:11.032_314+00:00 [30287] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:53:11.032_352+00:00 [30287] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:53:11.032_358+00:00 [30287] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:53:11.032_384+00:00 [30287] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:53:11.032_388+00:00 [30287] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:53:11.032_391+00:00 [30287] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:53:11.032_432+00:00 [30287] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:53:11.032_461+00:00 [30323] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:53:12.815_652+00:00 [30290] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:53:12.815_663+00:00 [30290] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:53:12.815_677+00:00 [30290] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:53:12.815_687+00:00 [30290] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:53:12.815_694+00:00 [30290] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:53:12.815_697+00:00 [30290] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:53:12.815_714+00:00 [30290] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:53:12.815_782+00:00 [30322] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:53:12.815_790+00:00 [30322] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:53:12.815_799+00:00 [30322] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:53:12.833_896+00:00 [30287] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:53:22.838_885+00:00 [30287] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:53:22.838_894+00:00 [30287] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:53:22.839_001+00:00 [30287] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:53:34.996_683+00:00 [30322] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:34.996_696+00:00 [30322] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:34.996_718+00:00 [30322] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:34.996_722+00:00 [30322] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:37.135_156+00:00 [30322] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:37.135_168+00:00 [30322] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:37.135_188+00:00 [30322] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:37.135_192+00:00 [30322] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:39.276_122+00:00 [30322] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:39.276_135+00:00 [30322] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:39.276_158+00:00 [30322] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:39.276_163+00:00 [30322] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:41.415_216+00:00 [30322] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:41.415_228+00:00 [30322] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:41.415_252+00:00 [30322] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:41.415_258+00:00 [30322] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:43.552_578+00:00 [30322] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:43.552_589+00:00 [30322] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:43.552_622+00:00 [30322] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:43.552_628+00:00 [30322] [INFO] create snapshot idx 500000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:45.678_930+00:00 [30322] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:45.678_944+00:00 [30322] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:45.678_965+00:00 [30322] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:45.678_972+00:00 [30322] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:47.826_512+00:00 [30322] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:47.826_525+00:00 [30322] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:47.826_549+00:00 [30322] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:47.826_555+00:00 [30322] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:49.967_268+00:00 [30322] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:49.967_288+00:00 [30322] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:49.967_311+00:00 [30322] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:49.967_320+00:00 [30322] [INFO] create snapshot idx 800000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:52.122_198+00:00 [30322] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:53:52.122_212+00:00 [30322] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:53:52.122_273+00:00 [30322] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:53:52.122_280+00:00 [30322] [INFO] create snapshot idx 900000 log_term 1 done: 60 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:53:52.957_563+00:00 [30393] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:53:52.959_073+00:00 [30393] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:53:52.959_109+00:00 [30393] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:53:52.959_114+00:00 [30393] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:53:52.959_141+00:00 [30393] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:53:52.959_145+00:00 [30393] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:53:52.959_147+00:00 [30393] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:53:52.959_182+00:00 [30393] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:53:52.959_211+00:00 [30429] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:53:54.010_352+00:00 [30396] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:53:54.010_361+00:00 [30396] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:53:54.010_374+00:00 [30396] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:53:54.010_383+00:00 [30396] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:53:54.010_389+00:00 [30396] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:53:54.010_392+00:00 [30396] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:53:54.010_408+00:00 [30396] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:53:54.010_485+00:00 [30428] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:53:54.010_499+00:00 [30428] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:53:54.010_509+00:00 [30428] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:53:54.260_018+00:00 [30393] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:54:04.264_724+00:00 [30393] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:54:04.264_733+00:00 [30393] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:54:04.264_842+00:00 [30393] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:54:16.433_625+00:00 [30428] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:16.433_638+00:00 [30428] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:16.433_660+00:00 [30428] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:16.433_665+00:00 [30428] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:18.564_174+00:00 [30428] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:18.564_187+00:00 [30428] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:18.564_217+00:00 [30428] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:18.564_223+00:00 [30428] [INFO] create snapshot idx 200000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:20.696_778+00:00 [30428] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:20.696_792+00:00 [30428] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:20.696_815+00:00 [30428] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:20.696_823+00:00 [30428] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:22.847_777+00:00 [30428] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:22.847_798+00:00 [30428] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:22.847_820+00:00 [30428] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:22.847_825+00:00 [30428] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:24.981_316+00:00 [30428] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:24.981_338+00:00 [30428] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:24.981_364+00:00 [30428] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:24.981_370+00:00 [30428] [INFO] create snapshot idx 500000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:27.125_792+00:00 [30428] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:27.125_804+00:00 [30428] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:27.125_829+00:00 [30428] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:27.125_833+00:00 [30428] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:29.281_242+00:00 [30428] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:29.281_255+00:00 [30428] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:29.281_279+00:00 [30428] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:29.281_285+00:00 [30428] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:31.414_025+00:00 [30428] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:31.414_036+00:00 [30428] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:31.414_058+00:00 [30428] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:31.414_062+00:00 [30428] [INFO] create snapshot idx 800000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:33.578_691+00:00 [30428] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:33.578_705+00:00 [30428] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:33.578_725+00:00 [30428] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:33.578_729+00:00 [30428] [INFO] create snapshot idx 900000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:54:34.391_177+00:00 [30501] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:54:34.392_648+00:00 [30501] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:54:34.392_678+00:00 [30501] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:54:34.392_683+00:00 [30501] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:54:34.392_707+00:00 [30501] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:54:34.392_711+00:00 [30501] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:54:34.392_714+00:00 [30501] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:54:34.393_720+00:00 [30501] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:54:34.393_746+00:00 [30537] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:54:35.865_936+00:00 [30504] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:54:35.865_948+00:00 [30504] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:54:35.865_961+00:00 [30504] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:54:35.865_970+00:00 [30504] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:54:35.865_976+00:00 [30504] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:54:35.865_979+00:00 [30504] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:54:35.865_994+00:00 [30504] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:54:35.866_081+00:00 [30536] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:54:35.866_095+00:00 [30536] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:54:35.866_106+00:00 [30536] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:54:35.944_695+00:00 [30501] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:54:45.949_215+00:00 [30501] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:54:45.949_224+00:00 [30501] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:54:45.949_325+00:00 [30501] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:54:58.144_598+00:00 [30536] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:54:58.144_609+00:00 [30536] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:54:58.144_633+00:00 [30536] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:54:58.144_638+00:00 [30536] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:00.317_733+00:00 [30536] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:00.317_750+00:00 [30536] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:00.317_775+00:00 [30536] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:00.317_783+00:00 [30536] [INFO] create snapshot idx 200000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:02.487_062+00:00 [30536] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:02.487_097+00:00 [30536] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:02.487_121+00:00 [30536] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:02.487_126+00:00 [30536] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:04.662_291+00:00 [30536] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:04.662_302+00:00 [30536] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:04.662_346+00:00 [30536] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:04.662_360+00:00 [30536] [INFO] create snapshot idx 400000 log_term 1 done: 51 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:06.828_546+00:00 [30536] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:06.828_559+00:00 [30536] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:06.828_581+00:00 [30536] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:06.828_586+00:00 [30536] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:09.002_245+00:00 [30536] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:09.002_259+00:00 [30536] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:09.002_281+00:00 [30536] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:09.002_286+00:00 [30536] [INFO] create snapshot idx 600000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:11.178_987+00:00 [30536] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:11.178_999+00:00 [30536] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:11.179_023+00:00 [30536] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:11.179_029+00:00 [30536] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:13.357_466+00:00 [30536] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:13.357_478+00:00 [30536] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:13.357_503+00:00 [30536] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:13.357_512+00:00 [30536] [INFO] create snapshot idx 800000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:15.548_069+00:00 [30536] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:15.548_082+00:00 [30536] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:15.548_105+00:00 [30536] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:15.548_111+00:00 [30536] [INFO] create snapshot idx 900000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:16.080_580+00:00 [30613] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:55:16.082_078+00:00 [30613] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:55:16.082_109+00:00 [30613] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:55:16.082_116+00:00 [30613] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:55:16.082_137+00:00 [30613] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:55:16.082_142+00:00 [30613] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:55:16.082_145+00:00 [30613] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:55:16.082_179+00:00 [30613] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:55:16.082_206+00:00 [30649] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:55:17.444_375+00:00 [30616] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:55:17.444_388+00:00 [30616] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:55:17.444_400+00:00 [30616] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:55:17.444_411+00:00 [30616] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:55:17.444_417+00:00 [30616] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:55:17.444_421+00:00 [30616] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:55:17.444_438+00:00 [30616] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:55:17.444_524+00:00 [30648] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:55:17.444_538+00:00 [30648] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:55:17.444_548+00:00 [30648] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:55:17.633_083+00:00 [30613] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:55:27.637_756+00:00 [30613] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:55:27.637_764+00:00 [30613] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:55:27.637_880+00:00 [30613] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:55:39.836_015+00:00 [30648] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:39.836_029+00:00 [30648] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:39.836_054+00:00 [30648] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:39.836_060+00:00 [30648] [INFO] create snapshot idx 100000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:42.006_874+00:00 [30648] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:42.006_887+00:00 [30648] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:42.006_906+00:00 [30648] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:42.006_910+00:00 [30648] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:44.177_652+00:00 [30648] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:44.177_667+00:00 [30648] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:44.177_686+00:00 [30648] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:44.177_691+00:00 [30648] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:46.359_765+00:00 [30648] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:46.359_778+00:00 [30648] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:46.359_840+00:00 [30648] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:46.359_848+00:00 [30648] [INFO] create snapshot idx 400000 log_term 1 done: 63 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:48.535_619+00:00 [30648] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:48.535_631+00:00 [30648] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:48.535_655+00:00 [30648] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:48.535_660+00:00 [30648] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:50.712_805+00:00 [30648] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:50.712_819+00:00 [30648] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:50.712_844+00:00 [30648] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:50.712_848+00:00 [30648] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:52.905_285+00:00 [30648] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:52.905_301+00:00 [30648] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:52.905_323+00:00 [30648] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:52.905_330+00:00 [30648] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:55.083_609+00:00 [30648] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:55.083_624+00:00 [30648] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:55.083_667+00:00 [30648] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:55.083_674+00:00 [30648] [INFO] create snapshot idx 800000 log_term 1 done: 42 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:57.269_197+00:00 [30648] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:55:57.269_207+00:00 [30648] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:55:57.269_229+00:00 [30648] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:55:57.269_237+00:00 [30648] [INFO] create snapshot idx 900000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:55:57.778_992+00:00 [30726] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T23:55:57.780_452+00:00 [30726] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T23:55:57.780_483+00:00 [30726] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T23:55:57.780_489+00:00 [30726] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T23:55:57.780_513+00:00 [30726] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T23:55:57.780_517+00:00 [30726] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T23:55:57.780_519+00:00 [30726] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T23:55:57.780_558+00:00 [30726] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T23:55:57.780_587+00:00 [30762] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T23:55:59.012_814+00:00 [30729] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T23:55:59.012_826+00:00 [30729] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T23:55:59.012_840+00:00 [30729] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T23:55:59.012_850+00:00 [30729] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T23:55:59.012_857+00:00 [30729] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T23:55:59.012_860+00:00 [30729] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T23:55:59.012_877+00:00 [30729] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T23:55:59.012_956+00:00 [30761] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T23:55:59.012_965+00:00 [30761] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T23:55:59.012_974+00:00 [30761] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T23:55:59.081_373+00:00 [30726] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:56:09.085_674+00:00 [30726] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T23:56:09.085_681+00:00 [30726] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T23:56:09.085_794+00:00 [30726] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T23:56:21.270_265+00:00 [30761] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:21.270_277+00:00 [30761] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:21.270_300+00:00 [30761] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:21.270_305+00:00 [30761] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:23.432_081+00:00 [30761] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:23.432_095+00:00 [30761] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:23.432_117+00:00 [30761] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:23.432_123+00:00 [30761] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:25.579_279+00:00 [30761] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:25.579_297+00:00 [30761] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:25.579_321+00:00 [30761] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:25.579_326+00:00 [30761] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:27.744_820+00:00 [30761] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:27.744_834+00:00 [30761] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:27.744_857+00:00 [30761] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:27.744_862+00:00 [30761] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:29.912_335+00:00 [30761] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:29.912_356+00:00 [30761] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:29.912_381+00:00 [30761] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:29.912_389+00:00 [30761] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:32.074_964+00:00 [30761] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:32.074_977+00:00 [30761] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:32.074_999+00:00 [30761] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:32.075_007+00:00 [30761] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:34.259_332+00:00 [30761] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:34.259_345+00:00 [30761] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:34.259_367+00:00 [30761] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:34.259_373+00:00 [30761] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:36.418_880+00:00 [30761] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:36.418_890+00:00 [30761] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:36.418_908+00:00 [30761] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:36.418_913+00:00 [30761] [INFO] create snapshot idx 800000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T23:56:38.590_398+00:00 [30761] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T23:56:38.590_415+00:00 [30761] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T23:56:38.590_440+00:00 [30761] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T23:56:38.590_446+00:00 [30761] [INFO] create snapshot idx 900000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:39:49.142_618+00:00 [39248] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:39:49.144_007+00:00 [39248] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:39:49.144_042+00:00 [39248] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:39:49.144_046+00:00 [39248] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:39:49.144_070+00:00 [39248] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:39:49.144_075+00:00 [39248] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:39:49.144_077+00:00 [39248] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:39:49.144_111+00:00 [39248] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:39:49.144_261+00:00 [39284] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:39:51.145_286+00:00 [39255] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:39:51.145_296+00:00 [39255] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:39:51.145_308+00:00 [39255] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:39:51.145_318+00:00 [39255] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:39:51.145_324+00:00 [39255] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:39:51.145_327+00:00 [39255] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:39:51.145_344+00:00 [39255] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:39:51.145_387+00:00 [39283] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:39:51.145_393+00:00 [39283] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:39:51.145_402+00:00 [39283] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:39:51.195_552+00:00 [39248] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:40:01.201_161+00:00 [39248] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:40:01.201_170+00:00 [39248] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:40:01.201_282+00:00 [39248] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:45:03.477_015+00:00 [40070] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:45:03.478_379+00:00 [40070] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:45:03.478_408+00:00 [40070] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:45:03.478_417+00:00 [40070] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:45:03.478_443+00:00 [40070] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:45:03.478_448+00:00 [40070] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:45:03.478_451+00:00 [40070] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:45:03.478_481+00:00 [40070] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:45:03.478_680+00:00 [40106] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:45:05.334_752+00:00 [40077] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:45:05.334_764+00:00 [40077] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:45:05.334_779+00:00 [40077] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:45:05.334_789+00:00 [40077] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:45:05.334_795+00:00 [40077] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:45:05.334_798+00:00 [40077] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:45:05.334_815+00:00 [40077] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:45:05.334_863+00:00 [40105] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:45:05.334_870+00:00 [40105] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:45:05.334_879+00:00 [40105] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:45:05.529_945+00:00 [40070] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:45:15.534_592+00:00 [40070] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:45:15.534_603+00:00 [40070] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:45:15.534_712+00:00 [40070] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:45:27.797_412+00:00 [40105] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:27.797_423+00:00 [40105] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:27.797_441+00:00 [40105] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:27.797_444+00:00 [40105] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:30.110_208+00:00 [40105] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:30.110_218+00:00 [40105] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:30.110_235+00:00 [40105] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:30.110_238+00:00 [40105] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:32.420_084+00:00 [40105] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:32.420_095+00:00 [40105] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:32.420_112+00:00 [40105] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:32.420_116+00:00 [40105] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:34.746_110+00:00 [40105] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:34.746_120+00:00 [40105] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:34.746_138+00:00 [40105] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:34.746_141+00:00 [40105] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:37.070_784+00:00 [40105] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:37.070_793+00:00 [40105] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:37.070_811+00:00 [40105] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:37.070_815+00:00 [40105] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:39.402_072+00:00 [40105] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:39.402_082+00:00 [40105] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:39.402_098+00:00 [40105] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:39.402_102+00:00 [40105] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:41.720_281+00:00 [40105] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:41.720_291+00:00 [40105] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:41.720_309+00:00 [40105] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:41.720_313+00:00 [40105] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:44.037_989+00:00 [40105] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:45:44.037_999+00:00 [40105] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:45:44.038_017+00:00 [40105] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:45:44.038_021+00:00 [40105] [INFO] create snapshot idx 800000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:45:45.613_085+00:00 [40221] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:45:45.614_434+00:00 [40221] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:45:45.614_466+00:00 [40221] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:45:45.614_471+00:00 [40221] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:45:45.614_494+00:00 [40221] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:45:45.614_499+00:00 [40221] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:45:45.614_502+00:00 [40221] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:45:45.614_534+00:00 [40221] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:45:45.614_705+00:00 [40257] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:45:46.785_753+00:00 [40228] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:45:46.785_764+00:00 [40228] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:45:46.785_776+00:00 [40228] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:45:46.785_792+00:00 [40228] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:45:46.785_797+00:00 [40228] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:45:46.785_800+00:00 [40228] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:45:46.785_817+00:00 [40228] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:45:46.785_864+00:00 [40256] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:45:46.785_871+00:00 [40256] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:45:46.785_879+00:00 [40256] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:45:46.915_516+00:00 [40221] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:45:56.920_315+00:00 [40221] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:45:56.920_323+00:00 [40221] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:45:56.920_427+00:00 [40221] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:46:08.964_267+00:00 [40256] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:08.964_277+00:00 [40256] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:08.964_295+00:00 [40256] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:08.964_298+00:00 [40256] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:11.439_412+00:00 [40256] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:11.439_423+00:00 [40256] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:11.439_441+00:00 [40256] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:11.439_445+00:00 [40256] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:14.019_371+00:00 [40256] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:14.019_382+00:00 [40256] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:14.019_400+00:00 [40256] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:14.019_403+00:00 [40256] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:16.602_628+00:00 [40256] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:16.602_638+00:00 [40256] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:16.602_656+00:00 [40256] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:16.602_660+00:00 [40256] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:19.181_757+00:00 [40256] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:19.181_767+00:00 [40256] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:19.181_783+00:00 [40256] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:19.181_786+00:00 [40256] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:21.774_909+00:00 [40256] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:21.774_920+00:00 [40256] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:21.774_937+00:00 [40256] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:21.774_940+00:00 [40256] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:24.363_233+00:00 [40256] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:24.363_244+00:00 [40256] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:24.363_260+00:00 [40256] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:24.363_264+00:00 [40256] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:27.001_134+00:00 [40326] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:46:27.002_483+00:00 [40326] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:46:27.002_514+00:00 [40326] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:46:27.002_518+00:00 [40326] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:46:27.002_540+00:00 [40326] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:46:27.002_545+00:00 [40326] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:46:27.002_548+00:00 [40326] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:46:27.002_602+00:00 [40326] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:46:27.002_758+00:00 [40362] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:46:28.312_794+00:00 [40333] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:46:28.312_805+00:00 [40333] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:46:28.312_819+00:00 [40333] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:46:28.312_830+00:00 [40333] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:46:28.312_836+00:00 [40333] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:46:28.312_840+00:00 [40333] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:46:28.312_856+00:00 [40333] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:46:28.312_911+00:00 [40361] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:46:28.312_918+00:00 [40361] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:46:28.312_926+00:00 [40361] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:46:28.553_681+00:00 [40326] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:46:38.558_130+00:00 [40326] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:46:38.558_138+00:00 [40326] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:46:38.558_244+00:00 [40326] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:46:51.053_697+00:00 [40361] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:51.053_708+00:00 [40361] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:51.053_726+00:00 [40361] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:51.053_730+00:00 [40361] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:53.662_112+00:00 [40361] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:53.662_123+00:00 [40361] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:53.662_142+00:00 [40361] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:53.662_146+00:00 [40361] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:56.277_424+00:00 [40361] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:56.277_433+00:00 [40361] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:56.277_451+00:00 [40361] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:56.277_455+00:00 [40361] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:46:58.908_745+00:00 [40361] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:46:58.908_759+00:00 [40361] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:46:58.908_782+00:00 [40361] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:46:58.908_786+00:00 [40361] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:01.536_879+00:00 [40361] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:01.536_889+00:00 [40361] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:01.536_905+00:00 [40361] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:01.536_908+00:00 [40361] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:04.162_390+00:00 [40361] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:04.162_400+00:00 [40361] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:04.162_417+00:00 [40361] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:04.162_420+00:00 [40361] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:06.785_976+00:00 [40361] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:06.785_985+00:00 [40361] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:06.786_003+00:00 [40361] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:06.786_006+00:00 [40361] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:08.642_725+00:00 [40442] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:47:08.644_064+00:00 [40442] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:47:08.644_095+00:00 [40442] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:47:08.644_100+00:00 [40442] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:47:08.644_123+00:00 [40442] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:47:08.644_128+00:00 [40442] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:47:08.644_131+00:00 [40442] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:47:08.644_164+00:00 [40442] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:47:08.644_318+00:00 [40478] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:47:10.353_764+00:00 [40449] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:47:10.353_776+00:00 [40449] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:47:10.353_789+00:00 [40449] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:47:10.353_799+00:00 [40449] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:47:10.353_805+00:00 [40449] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:47:10.353_808+00:00 [40449] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:47:10.353_824+00:00 [40449] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:47:10.353_874+00:00 [40477] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:47:10.353_881+00:00 [40477] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:47:10.353_890+00:00 [40477] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:47:10.446_599+00:00 [40442] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:47:20.451_300+00:00 [40442] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:47:20.451_308+00:00 [40442] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:47:20.451_412+00:00 [40442] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:47:33.025_686+00:00 [40477] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:33.025_697+00:00 [40477] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:33.025_715+00:00 [40477] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:33.025_718+00:00 [40477] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:35.657_121+00:00 [40477] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:35.657_130+00:00 [40477] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:35.657_147+00:00 [40477] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:35.657_150+00:00 [40477] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:38.290_791+00:00 [40477] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:38.290_802+00:00 [40477] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:38.290_820+00:00 [40477] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:38.290_824+00:00 [40477] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:40.931_205+00:00 [40477] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:40.931_214+00:00 [40477] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:40.931_232+00:00 [40477] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:40.931_235+00:00 [40477] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:43.577_995+00:00 [40477] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:43.578_005+00:00 [40477] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:43.578_023+00:00 [40477] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:43.578_026+00:00 [40477] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:46.231_910+00:00 [40477] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:46.231_920+00:00 [40477] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:46.231_938+00:00 [40477] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:46.231_942+00:00 [40477] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:48.870_273+00:00 [40477] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:47:48.870_282+00:00 [40477] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:47:48.870_299+00:00 [40477] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:47:48.870_302+00:00 [40477] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:47:50.537_377+00:00 [40552] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:47:50.538_762+00:00 [40552] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:47:50.538_792+00:00 [40552] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:47:50.538_797+00:00 [40552] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:47:50.538_819+00:00 [40552] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:47:50.538_823+00:00 [40552] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:47:50.538_826+00:00 [40552] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:47:50.538_861+00:00 [40552] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:47:50.539_009+00:00 [40588] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:47:51.617_070+00:00 [40559] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:47:51.617_082+00:00 [40559] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:47:51.617_095+00:00 [40559] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:47:51.617_109+00:00 [40559] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:47:51.617_115+00:00 [40559] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:47:51.617_118+00:00 [40559] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:47:51.617_133+00:00 [40559] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:47:51.617_181+00:00 [40587] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:47:51.617_187+00:00 [40587] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:47:51.617_196+00:00 [40587] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:47:51.839_840+00:00 [40552] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:48:01.844_570+00:00 [40552] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:48:01.844_579+00:00 [40552] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:48:01.844_686+00:00 [40552] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:48:14.404_173+00:00 [40587] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:14.404_183+00:00 [40587] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:14.404_203+00:00 [40587] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:14.404_206+00:00 [40587] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:17.011_376+00:00 [40587] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:17.011_387+00:00 [40587] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:17.011_405+00:00 [40587] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:17.011_409+00:00 [40587] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:19.622_623+00:00 [40587] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:19.622_633+00:00 [40587] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:19.622_651+00:00 [40587] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:19.622_654+00:00 [40587] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:22.238_240+00:00 [40587] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:22.238_249+00:00 [40587] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:22.238_267+00:00 [40587] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:22.238_270+00:00 [40587] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:24.851_730+00:00 [40587] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:24.851_739+00:00 [40587] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:24.851_757+00:00 [40587] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:24.851_760+00:00 [40587] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:27.477_575+00:00 [40587] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:27.477_585+00:00 [40587] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:27.477_602+00:00 [40587] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:27.477_606+00:00 [40587] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:30.102_923+00:00 [40587] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:30.102_932+00:00 [40587] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:30.102_950+00:00 [40587] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:30.102_954+00:00 [40587] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:31.935_115+00:00 [40664] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:48:31.936_465+00:00 [40664] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:48:31.936_500+00:00 [40664] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:48:31.936_504+00:00 [40664] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:48:31.936_530+00:00 [40664] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:48:31.936_534+00:00 [40664] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:48:31.936_537+00:00 [40664] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:48:31.936_569+00:00 [40664] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:48:31.936_738+00:00 [40700] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:48:33.752_797+00:00 [40671] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:48:33.752_809+00:00 [40671] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:48:33.752_822+00:00 [40671] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:48:33.752_832+00:00 [40671] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:48:33.752_837+00:00 [40671] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:48:33.752_840+00:00 [40671] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:48:33.752_856+00:00 [40671] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:48:33.752_907+00:00 [40699] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:48:33.752_914+00:00 [40699] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:48:33.752_923+00:00 [40699] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:48:33.987_758+00:00 [40664] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:48:43.992_510+00:00 [40664] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:48:43.992_519+00:00 [40664] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:48:43.992_620+00:00 [40664] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:48:56.552_303+00:00 [40699] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:56.552_313+00:00 [40699] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:56.552_333+00:00 [40699] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:56.552_337+00:00 [40699] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:48:59.170_680+00:00 [40699] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:48:59.170_689+00:00 [40699] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:48:59.170_707+00:00 [40699] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:48:59.170_711+00:00 [40699] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:01.794_728+00:00 [40699] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:01.794_738+00:00 [40699] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:01.794_756+00:00 [40699] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:01.794_759+00:00 [40699] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:04.420_283+00:00 [40699] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:04.420_293+00:00 [40699] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:04.420_311+00:00 [40699] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:04.420_314+00:00 [40699] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:07.050_912+00:00 [40699] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:07.050_922+00:00 [40699] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:07.050_940+00:00 [40699] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:07.050_943+00:00 [40699] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:09.685_234+00:00 [40699] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:09.685_244+00:00 [40699] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:09.685_263+00:00 [40699] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:09.685_266+00:00 [40699] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:12.316_865+00:00 [40699] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:12.316_876+00:00 [40699] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:12.316_893+00:00 [40699] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:12.316_897+00:00 [40699] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:14.095_802+00:00 [40855] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:49:14.097_899+00:00 [40855] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:49:14.097_932+00:00 [40855] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:49:14.097_938+00:00 [40855] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:49:14.097_965+00:00 [40855] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:49:14.097_970+00:00 [40855] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:49:14.097_974+00:00 [40855] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:49:14.098_013+00:00 [40855] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:49:14.098_542+00:00 [40891] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:49:15.871_233+00:00 [40862] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:49:15.871_244+00:00 [40862] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:49:15.871_258+00:00 [40862] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:49:15.871_267+00:00 [40862] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:49:15.871_274+00:00 [40862] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:49:15.871_276+00:00 [40862] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:49:15.871_292+00:00 [40862] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:49:15.871_344+00:00 [40890] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:49:15.871_350+00:00 [40890] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:49:15.871_359+00:00 [40890] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:49:15.899_226+00:00 [40855] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:49:25.904_173+00:00 [40855] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:49:25.904_181+00:00 [40855] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:49:25.904_286+00:00 [40855] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:49:38.470_029+00:00 [40890] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:38.470_040+00:00 [40890] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:38.470_059+00:00 [40890] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:38.470_062+00:00 [40890] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:41.060_727+00:00 [40890] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:41.060_737+00:00 [40890] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:41.060_755+00:00 [40890] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:41.060_758+00:00 [40890] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:43.655_099+00:00 [40890] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:43.655_110+00:00 [40890] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:43.655_128+00:00 [40890] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:43.655_131+00:00 [40890] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:46.262_911+00:00 [40890] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:46.262_921+00:00 [40890] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:46.262_939+00:00 [40890] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:46.262_942+00:00 [40890] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:48.869_714+00:00 [40890] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:48.869_724+00:00 [40890] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:48.869_741+00:00 [40890] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:48.869_745+00:00 [40890] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:51.491_621+00:00 [40890] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:51.491_632+00:00 [40890] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:51.491_651+00:00 [40890] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:51.491_654+00:00 [40890] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:54.124_266+00:00 [40890] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:49:54.124_277+00:00 [40890] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:49:54.124_295+00:00 [40890] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:49:54.124_299+00:00 [40890] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:49:56.004_132+00:00 [40981] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:49:56.005_500+00:00 [40981] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:49:56.005_533+00:00 [40981] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:49:56.005_537+00:00 [40981] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:49:56.005_560+00:00 [40981] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:49:56.005_564+00:00 [40981] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:49:56.005_567+00:00 [40981] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:49:56.005_596+00:00 [40981] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:49:56.005_745+00:00 [41017] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:49:57.118_801+00:00 [40988] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:49:57.118_811+00:00 [40988] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:49:57.118_824+00:00 [40988] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:49:57.118_837+00:00 [40988] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:49:57.118_842+00:00 [40988] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:49:57.118_845+00:00 [40988] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:49:57.118_860+00:00 [40988] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:49:57.118_908+00:00 [41016] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:49:57.118_914+00:00 [41016] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:49:57.118_923+00:00 [41016] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:49:57.306_553+00:00 [40981] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:50:07.312_189+00:00 [40981] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:50:07.312_198+00:00 [40981] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:50:07.312_304+00:00 [40981] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:50:19.932_026+00:00 [41016] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:50:19.932_037+00:00 [41016] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:50:19.932_062+00:00 [41016] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:50:19.932_066+00:00 [41016] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:50:22.572_078+00:00 [41016] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:50:22.572_088+00:00 [41016] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:50:22.572_105+00:00 [41016] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:50:22.572_109+00:00 [41016] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:50:25.209_470+00:00 [41016] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:50:25.209_480+00:00 [41016] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:50:25.209_498+00:00 [41016] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:50:25.209_502+00:00 [41016] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:50:27.890_797+00:00 [41016] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:50:27.890_806+00:00 [41016] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:50:27.890_824+00:00 [41016] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:50:27.890_827+00:00 [41016] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:50:30.548_698+00:00 [41016] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:50:30.548_709+00:00 [41016] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:50:30.548_727+00:00 [41016] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:50:30.548_731+00:00 [41016] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:50:33.207_349+00:00 [41016] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:50:33.207_359+00:00 [41016] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:50:33.207_377+00:00 [41016] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:50:33.207_380+00:00 [41016] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:50:35.861_448+00:00 [41016] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:50:35.861_459+00:00 [41016] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:50:35.861_476+00:00 [41016] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:50:35.861_479+00:00 [41016] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:50:37.450_472+00:00 [41122] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:50:37.452_430+00:00 [41122] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:50:37.452_469+00:00 [41122] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:50:37.452_479+00:00 [41122] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:50:37.452_508+00:00 [41122] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:50:37.452_514+00:00 [41122] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:50:37.452_518+00:00 [41122] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:50:37.452_553+00:00 [41122] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:50:37.452_760+00:00 [41158] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:50:38.629_815+00:00 [41129] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:50:38.629_826+00:00 [41129] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:50:38.629_839+00:00 [41129] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:50:38.629_849+00:00 [41129] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:50:38.629_856+00:00 [41129] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:50:38.629_859+00:00 [41129] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:50:38.629_875+00:00 [41129] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:50:38.629_928+00:00 [41157] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:50:38.629_935+00:00 [41157] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:50:38.629_945+00:00 [41157] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:50:38.753_581+00:00 [41122] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:50:48.758_658+00:00 [41122] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:50:48.758_667+00:00 [41122] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:50:48.758_772+00:00 [41122] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:51:01.333_661+00:00 [41157] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:01.333_672+00:00 [41157] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:01.333_690+00:00 [41157] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:01.333_693+00:00 [41157] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:03.941_537+00:00 [41157] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:03.941_547+00:00 [41157] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:03.941_565+00:00 [41157] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:03.941_569+00:00 [41157] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:06.552_605+00:00 [41157] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:06.552_617+00:00 [41157] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:06.552_636+00:00 [41157] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:06.552_639+00:00 [41157] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:09.167_840+00:00 [41157] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:09.167_850+00:00 [41157] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:09.167_867+00:00 [41157] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:09.167_870+00:00 [41157] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:11.781_098+00:00 [41157] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:11.781_107+00:00 [41157] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:11.781_125+00:00 [41157] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:11.781_128+00:00 [41157] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:14.401_065+00:00 [41157] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:14.401_075+00:00 [41157] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:14.401_092+00:00 [41157] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:14.401_095+00:00 [41157] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:17.015_244+00:00 [41157] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:17.015_253+00:00 [41157] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:17.015_270+00:00 [41157] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:17.015_273+00:00 [41157] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:18.872_388+00:00 [41251] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:51:18.873_771+00:00 [41251] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:51:18.873_800+00:00 [41251] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:51:18.873_809+00:00 [41251] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:51:18.873_829+00:00 [41251] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:51:18.873_833+00:00 [41251] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:51:18.873_836+00:00 [41251] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:51:18.873_869+00:00 [41251] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:51:18.874_028+00:00 [41287] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:51:20.684_071+00:00 [41258] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:51:20.684_083+00:00 [41258] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:51:20.684_096+00:00 [41258] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:51:20.684_106+00:00 [41258] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:51:20.684_112+00:00 [41258] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:51:20.684_115+00:00 [41258] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:51:20.684_132+00:00 [41258] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:51:20.684_183+00:00 [41286] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:51:20.684_190+00:00 [41286] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:51:20.684_200+00:00 [41286] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:51:20.925_069+00:00 [41251] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:51:30.929_376+00:00 [41251] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:51:30.929_384+00:00 [41251] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:51:30.929_493+00:00 [41251] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:51:43.517_135+00:00 [41286] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:43.517_144+00:00 [41286] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:43.517_163+00:00 [41286] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:43.517_166+00:00 [41286] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:46.164_654+00:00 [41286] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:46.164_665+00:00 [41286] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:46.164_684+00:00 [41286] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:46.164_688+00:00 [41286] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:48.807_745+00:00 [41286] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:48.807_755+00:00 [41286] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:48.807_773+00:00 [41286] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:48.807_777+00:00 [41286] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:51.455_364+00:00 [41286] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:51.455_373+00:00 [41286] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:51.455_391+00:00 [41286] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:51.455_394+00:00 [41286] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:54.101_121+00:00 [41286] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:54.101_130+00:00 [41286] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:54.101_148+00:00 [41286] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:54.101_150+00:00 [41286] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:56.753_501+00:00 [41286] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:56.753_510+00:00 [41286] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:56.753_529+00:00 [41286] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:56.753_532+00:00 [41286] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:51:59.404_291+00:00 [41286] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:51:59.404_300+00:00 [41286] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:51:59.404_317+00:00 [41286] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:51:59.404_320+00:00 [41286] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:56:41.201_550+00:00 [41722] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:56:41.202_956+00:00 [41722] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:56:41.202_990+00:00 [41722] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:56:41.202_994+00:00 [41722] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:56:41.203_021+00:00 [41722] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:56:41.203_026+00:00 [41722] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:56:41.203_028+00:00 [41722] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:56:41.203_067+00:00 [41722] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:56:41.203_231+00:00 [41758] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:56:43.237_268+00:00 [41729] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:56:43.237_279+00:00 [41729] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:56:43.237_292+00:00 [41729] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:56:43.237_302+00:00 [41729] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:56:43.237_308+00:00 [41729] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:56:43.237_311+00:00 [41729] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:56:43.237_327+00:00 [41729] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:56:43.237_372+00:00 [41757] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:56:43.237_379+00:00 [41757] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:56:43.237_387+00:00 [41757] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:56:43.254_278+00:00 [41722] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:56:53.259_135+00:00 [41722] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:56:53.259_143+00:00 [41722] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:56:53.259_243+00:00 [41722] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:57:05.536_471+00:00 [41757] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:05.536_482+00:00 [41757] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:05.536_500+00:00 [41757] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:05.536_504+00:00 [41757] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:07.846_172+00:00 [41757] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:07.846_183+00:00 [41757] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:07.846_200+00:00 [41757] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:07.846_203+00:00 [41757] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:10.162_502+00:00 [41757] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:10.162_512+00:00 [41757] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:10.162_530+00:00 [41757] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:10.162_533+00:00 [41757] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:12.480_437+00:00 [41757] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:12.480_447+00:00 [41757] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:12.480_464+00:00 [41757] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:12.480_467+00:00 [41757] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:14.803_358+00:00 [41757] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:14.803_368+00:00 [41757] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:14.803_385+00:00 [41757] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:14.803_389+00:00 [41757] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:17.129_762+00:00 [41757] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:17.129_773+00:00 [41757] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:17.129_791+00:00 [41757] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:17.129_794+00:00 [41757] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:19.456_040+00:00 [41757] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:19.456_050+00:00 [41757] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:19.456_067+00:00 [41757] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:19.456_070+00:00 [41757] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:21.778_024+00:00 [41757] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:21.778_033+00:00 [41757] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:21.778_050+00:00 [41757] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:21.778_054+00:00 [41757] [INFO] create snapshot idx 800000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:23.337_991+00:00 [41831] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:57:23.339_384+00:00 [41831] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:57:23.339_414+00:00 [41831] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:57:23.339_418+00:00 [41831] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:57:23.339_440+00:00 [41831] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:57:23.339_444+00:00 [41831] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:57:23.339_447+00:00 [41831] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:57:23.339_474+00:00 [41831] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:57:23.339_624+00:00 [41867] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:57:24.583_673+00:00 [41838] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:57:24.583_685+00:00 [41838] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:57:24.583_698+00:00 [41838] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:57:24.583_714+00:00 [41838] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:57:24.583_720+00:00 [41838] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:57:24.583_723+00:00 [41838] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:57:24.583_738+00:00 [41838] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:57:24.583_787+00:00 [41866] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:57:24.583_793+00:00 [41866] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:57:24.583_802+00:00 [41866] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:57:24.640_485+00:00 [41831] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:57:34.645_175+00:00 [41831] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:57:34.645_183+00:00 [41831] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:57:34.645_289+00:00 [41831] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:57:46.699_277+00:00 [41866] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:46.699_288+00:00 [41866] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:46.699_308+00:00 [41866] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:46.699_311+00:00 [41866] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:49.153_895+00:00 [41866] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:49.153_904+00:00 [41866] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:49.153_922+00:00 [41866] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:49.153_925+00:00 [41866] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:51.757_398+00:00 [41866] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:51.757_408+00:00 [41866] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:51.757_425+00:00 [41866] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:51.757_428+00:00 [41866] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:54.359_805+00:00 [41866] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:54.359_815+00:00 [41866] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:54.359_833+00:00 [41866] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:54.359_836+00:00 [41866] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:56.966_304+00:00 [41866] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:56.966_313+00:00 [41866] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:56.966_330+00:00 [41866] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:56.966_333+00:00 [41866] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:57:59.581_459+00:00 [41866] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:57:59.581_469+00:00 [41866] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:57:59.581_486+00:00 [41866] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:57:59.581_489+00:00 [41866] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:02.203_345+00:00 [41866] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:02.203_355+00:00 [41866] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:02.203_371+00:00 [41866] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:02.203_375+00:00 [41866] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:04.726_150+00:00 [41937] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:58:04.727_537+00:00 [41937] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:58:04.727_568+00:00 [41937] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:58:04.727_572+00:00 [41937] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:58:04.727_595+00:00 [41937] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:58:04.727_600+00:00 [41937] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:58:04.727_603+00:00 [41937] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:58:04.727_631+00:00 [41937] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:58:04.727_786+00:00 [41973] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:58:05.949_832+00:00 [41944] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:58:05.949_843+00:00 [41944] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:58:05.949_856+00:00 [41944] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:58:05.949_872+00:00 [41944] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:58:05.949_878+00:00 [41944] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:58:05.949_881+00:00 [41944] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:58:05.949_898+00:00 [41944] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:58:05.949_945+00:00 [41972] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:58:05.949_952+00:00 [41972] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:58:05.949_962+00:00 [41972] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:58:06.028_507+00:00 [41937] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:58:16.034_012+00:00 [41937] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:58:16.034_020+00:00 [41937] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:58:16.034_121+00:00 [41937] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:58:28.491_353+00:00 [41972] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:28.491_363+00:00 [41972] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:28.491_380+00:00 [41972] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:28.491_384+00:00 [41972] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:31.056_350+00:00 [41972] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:31.056_361+00:00 [41972] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:31.056_380+00:00 [41972] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:31.056_383+00:00 [41972] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:33.621_487+00:00 [41972] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:33.621_495+00:00 [41972] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:33.621_514+00:00 [41972] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:33.621_517+00:00 [41972] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:36.190_194+00:00 [41972] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:36.190_204+00:00 [41972] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:36.190_221+00:00 [41972] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:36.190_224+00:00 [41972] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:38.762_510+00:00 [41972] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:38.762_520+00:00 [41972] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:38.762_538+00:00 [41972] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:38.762_541+00:00 [41972] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:41.337_544+00:00 [41972] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:41.337_553+00:00 [41972] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:41.337_569+00:00 [41972] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:41.337_573+00:00 [41972] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:43.911_592+00:00 [41972] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:58:43.911_602+00:00 [41972] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:58:43.911_619+00:00 [41972] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:58:43.911_623+00:00 [41972] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:58:46.120_005+00:00 [42043] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:58:46.121_424+00:00 [42043] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:58:46.121_457+00:00 [42043] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:58:46.121_461+00:00 [42043] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:58:46.121_487+00:00 [42043] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:58:46.121_492+00:00 [42043] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:58:46.121_495+00:00 [42043] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:58:46.121_522+00:00 [42043] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:58:46.121_682+00:00 [42079] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:58:47.207_721+00:00 [42050] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:58:47.207_733+00:00 [42050] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:58:47.207_746+00:00 [42050] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:58:47.207_756+00:00 [42050] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:58:47.207_761+00:00 [42050] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:58:47.207_764+00:00 [42050] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:58:47.207_781+00:00 [42050] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:58:47.207_827+00:00 [42078] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:58:47.207_833+00:00 [42078] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:58:47.207_842+00:00 [42078] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:58:47.422_396+00:00 [42043] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:58:57.427_033+00:00 [42043] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:58:57.427_040+00:00 [42043] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:58:57.427_138+00:00 [42043] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:59:09.987_193+00:00 [42078] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:09.987_204+00:00 [42078] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:09.987_229+00:00 [42078] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:09.987_232+00:00 [42078] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:12.606_431+00:00 [42078] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:12.606_441+00:00 [42078] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:12.606_460+00:00 [42078] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:12.606_464+00:00 [42078] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:15.231_574+00:00 [42078] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:15.231_585+00:00 [42078] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:15.231_601+00:00 [42078] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:15.231_605+00:00 [42078] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:17.865_240+00:00 [42078] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:17.865_249+00:00 [42078] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:17.865_268+00:00 [42078] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:17.865_271+00:00 [42078] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:20.493_375+00:00 [42078] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:20.493_385+00:00 [42078] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:20.493_403+00:00 [42078] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:20.493_406+00:00 [42078] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:23.127_404+00:00 [42078] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:23.127_414+00:00 [42078] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:23.127_432+00:00 [42078] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:23.127_435+00:00 [42078] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:25.758_129+00:00 [42078] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:25.758_139+00:00 [42078] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:25.758_157+00:00 [42078] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:25.758_160+00:00 [42078] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:27.515_076+00:00 [42151] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T06:59:27.516_442+00:00 [42151] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T06:59:27.516_472+00:00 [42151] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T06:59:27.516_476+00:00 [42151] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T06:59:27.516_499+00:00 [42151] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T06:59:27.516_504+00:00 [42151] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T06:59:27.516_507+00:00 [42151] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T06:59:27.516_534+00:00 [42151] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T06:59:27.516_707+00:00 [42187] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T06:59:29.272_751+00:00 [42158] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T06:59:29.272_763+00:00 [42158] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T06:59:29.272_776+00:00 [42158] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T06:59:29.272_792+00:00 [42158] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T06:59:29.272_798+00:00 [42158] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T06:59:29.272_801+00:00 [42158] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T06:59:29.272_818+00:00 [42158] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T06:59:29.272_871+00:00 [42186] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T06:59:29.272_878+00:00 [42186] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T06:59:29.272_888+00:00 [42186] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T06:59:29.317_611+00:00 [42151] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:59:39.322_292+00:00 [42151] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T06:59:39.322_300+00:00 [42151] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T06:59:39.322_398+00:00 [42151] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T06:59:51.886_378+00:00 [42186] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:51.886_388+00:00 [42186] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:51.886_407+00:00 [42186] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:51.886_411+00:00 [42186] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:54.505_064+00:00 [42186] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:54.505_074+00:00 [42186] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:54.505_092+00:00 [42186] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:54.505_095+00:00 [42186] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:57.130_239+00:00 [42186] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:57.130_249+00:00 [42186] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:57.130_266+00:00 [42186] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:57.130_269+00:00 [42186] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T06:59:59.786_103+00:00 [42186] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T06:59:59.786_113+00:00 [42186] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T06:59:59.786_130+00:00 [42186] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T06:59:59.786_133+00:00 [42186] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:02.414_093+00:00 [42186] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:02.414_103+00:00 [42186] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:02.414_120+00:00 [42186] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:02.414_124+00:00 [42186] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:05.055_144+00:00 [42186] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:05.055_154+00:00 [42186] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:05.055_172+00:00 [42186] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:05.055_176+00:00 [42186] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:07.691_407+00:00 [42186] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:07.691_417+00:00 [42186] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:07.691_434+00:00 [42186] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:07.691_438+00:00 [42186] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:09.417_061+00:00 [42263] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:00:09.418_429+00:00 [42263] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:00:09.418_462+00:00 [42263] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:00:09.418_470+00:00 [42263] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:00:09.418_493+00:00 [42263] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:00:09.418_497+00:00 [42263] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:00:09.418_500+00:00 [42263] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:00:09.418_528+00:00 [42263] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:00:09.418_735+00:00 [42299] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:00:10.649_739+00:00 [42270] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:00:10.649_750+00:00 [42270] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:00:10.649_764+00:00 [42270] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:00:10.649_773+00:00 [42270] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:00:10.649_779+00:00 [42270] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:00:10.649_782+00:00 [42270] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:00:10.649_799+00:00 [42270] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:00:10.649_845+00:00 [42298] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:00:10.649_852+00:00 [42298] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:00:10.649_860+00:00 [42298] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:00:10.719_522+00:00 [42263] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:00:20.724_156+00:00 [42263] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:00:20.724_165+00:00 [42263] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:00:20.724_268+00:00 [42263] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:00:33.290_061+00:00 [42298] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:33.290_072+00:00 [42298] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:33.290_092+00:00 [42298] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:33.290_095+00:00 [42298] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:35.910_318+00:00 [42298] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:35.910_328+00:00 [42298] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:35.910_347+00:00 [42298] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:35.910_351+00:00 [42298] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:38.515_930+00:00 [42298] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:38.515_940+00:00 [42298] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:38.515_958+00:00 [42298] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:38.515_961+00:00 [42298] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:41.139_707+00:00 [42298] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:41.139_718+00:00 [42298] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:41.139_738+00:00 [42298] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:41.139_742+00:00 [42298] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:43.755_754+00:00 [42298] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:43.755_765+00:00 [42298] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:43.755_784+00:00 [42298] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:43.755_788+00:00 [42298] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:46.393_662+00:00 [42298] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:46.393_673+00:00 [42298] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:46.393_691+00:00 [42298] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:46.393_694+00:00 [42298] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:49.017_382+00:00 [42298] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:00:49.017_393+00:00 [42298] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:00:49.017_411+00:00 [42298] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:00:49.017_414+00:00 [42298] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:00:50.831_477+00:00 [42375] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:00:50.832_868+00:00 [42375] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:00:50.832_899+00:00 [42375] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:00:50.832_907+00:00 [42375] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:00:50.832_931+00:00 [42375] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:00:50.832_935+00:00 [42375] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:00:50.832_938+00:00 [42375] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:00:50.832_971+00:00 [42375] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:00:50.833_140+00:00 [42411] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:00:52.740_174+00:00 [42382] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:00:52.740_185+00:00 [42382] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:00:52.740_198+00:00 [42382] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:00:52.740_208+00:00 [42382] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:00:52.740_214+00:00 [42382] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:00:52.740_217+00:00 [42382] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:00:52.740_233+00:00 [42382] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:00:52.740_282+00:00 [42410] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:00:52.740_288+00:00 [42410] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:00:52.740_297+00:00 [42410] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:00:52.884_595+00:00 [42375] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:01:02.889_779+00:00 [42375] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:01:02.889_787+00:00 [42375] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:01:02.889_893+00:00 [42375] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:01:15.455_964+00:00 [42410] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:15.455_975+00:00 [42410] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:15.455_993+00:00 [42410] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:15.455_996+00:00 [42410] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:01:18.094_221+00:00 [42410] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:18.094_232+00:00 [42410] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:18.094_250+00:00 [42410] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:18.094_254+00:00 [42410] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:01:20.732_603+00:00 [42410] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:20.732_614+00:00 [42410] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:20.732_633+00:00 [42410] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:20.732_637+00:00 [42410] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:01:23.379_416+00:00 [42410] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:23.379_426+00:00 [42410] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:23.379_444+00:00 [42410] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:23.379_448+00:00 [42410] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:01:26.022_480+00:00 [42410] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:26.022_489+00:00 [42410] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:26.022_507+00:00 [42410] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:26.022_511+00:00 [42410] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:01:28.681_453+00:00 [42410] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:28.681_462+00:00 [42410] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:28.681_479+00:00 [42410] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:28.681_482+00:00 [42410] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:01:31.328_405+00:00 [42410] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:31.328_415+00:00 [42410] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:31.328_433+00:00 [42410] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:31.328_438+00:00 [42410] [INFO] create snapshot idx 700000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:01:33.002_451+00:00 [42491] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:01:33.003_872+00:00 [42491] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:01:33.003_902+00:00 [42491] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:01:33.003_908+00:00 [42491] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:01:33.003_932+00:00 [42491] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:01:33.003_936+00:00 [42491] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:01:33.003_939+00:00 [42491] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:01:33.003_969+00:00 [42491] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:01:33.004_129+00:00 [42527] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:01:34.740_186+00:00 [42498] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:01:34.740_197+00:00 [42498] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:01:34.740_211+00:00 [42498] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:01:34.740_221+00:00 [42498] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:01:34.740_227+00:00 [42498] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:01:34.740_230+00:00 [42498] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:01:34.740_247+00:00 [42498] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:01:34.740_305+00:00 [42526] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:01:34.740_312+00:00 [42526] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:01:34.740_321+00:00 [42526] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:01:34.805_122+00:00 [42491] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:01:44.810_401+00:00 [42491] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:01:44.810_410+00:00 [42491] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:01:44.810_522+00:00 [42491] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:01:57.395_186+00:00 [42526] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:01:57.395_197+00:00 [42526] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:01:57.395_215+00:00 [42526] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:01:57.395_219+00:00 [42526] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:00.041_103+00:00 [42526] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:00.041_113+00:00 [42526] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:00.041_132+00:00 [42526] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:00.041_135+00:00 [42526] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:02.684_293+00:00 [42526] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:02.684_303+00:00 [42526] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:02.684_320+00:00 [42526] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:02.684_323+00:00 [42526] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:05.338_812+00:00 [42526] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:05.338_822+00:00 [42526] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:05.338_840+00:00 [42526] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:05.338_843+00:00 [42526] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:07.993_218+00:00 [42526] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:07.993_228+00:00 [42526] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:07.993_246+00:00 [42526] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:07.993_250+00:00 [42526] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:10.662_277+00:00 [42526] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:10.662_288+00:00 [42526] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:10.662_307+00:00 [42526] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:10.662_311+00:00 [42526] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:13.319_643+00:00 [42526] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:13.319_652+00:00 [42526] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:13.319_669+00:00 [42526] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:13.319_672+00:00 [42526] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:14.928_119+00:00 [42607] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:02:14.929_503+00:00 [42607] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:02:14.929_534+00:00 [42607] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:02:14.929_543+00:00 [42607] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:02:14.929_568+00:00 [42607] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:02:14.929_572+00:00 [42607] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:02:14.929_575+00:00 [42607] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:02:14.929_612+00:00 [42607] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:02:14.929_767+00:00 [42643] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:02:16.162_812+00:00 [42614] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:02:16.162_825+00:00 [42614] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:02:16.162_840+00:00 [42614] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:02:16.162_850+00:00 [42614] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:02:16.162_855+00:00 [42614] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:02:16.162_858+00:00 [42614] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:02:16.162_875+00:00 [42614] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:02:16.162_927+00:00 [42642] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:02:16.162_934+00:00 [42642] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:02:16.162_943+00:00 [42642] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:02:16.230_489+00:00 [42607] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:02:26.235_099+00:00 [42607] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:02:26.235_108+00:00 [42607] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:02:26.235_209+00:00 [42607] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:02:38.819_004+00:00 [42642] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:38.819_015+00:00 [42642] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:38.819_037+00:00 [42642] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:38.819_040+00:00 [42642] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:41.454_076+00:00 [42642] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:41.454_086+00:00 [42642] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:41.454_104+00:00 [42642] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:41.454_108+00:00 [42642] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:44.090_595+00:00 [42642] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:44.090_604+00:00 [42642] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:44.090_622+00:00 [42642] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:44.090_626+00:00 [42642] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:46.732_801+00:00 [42642] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:46.732_809+00:00 [42642] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:46.732_828+00:00 [42642] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:46.732_831+00:00 [42642] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:49.373_032+00:00 [42642] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:49.373_043+00:00 [42642] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:49.373_060+00:00 [42642] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:49.373_063+00:00 [42642] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:52.024_224+00:00 [42642] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:52.024_233+00:00 [42642] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:52.024_251+00:00 [42642] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:52.024_255+00:00 [42642] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:54.668_599+00:00 [42642] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:02:54.668_608+00:00 [42642] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:02:54.668_626+00:00 [42642] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:02:54.668_629+00:00 [42642] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:02:56.356_371+00:00 [42726] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:02:56.358_496+00:00 [42726] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:02:56.358_534+00:00 [42726] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:02:56.358_538+00:00 [42726] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:02:56.358_582+00:00 [42726] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:02:56.358_586+00:00 [42726] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:02:56.358_589+00:00 [42726] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:02:56.358_618+00:00 [42726] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:02:56.359_168+00:00 [42762] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:02:58.210_839+00:00 [42733] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:02:58.210_851+00:00 [42733] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:02:58.210_864+00:00 [42733] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:02:58.210_875+00:00 [42733] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:02:58.210_882+00:00 [42733] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:02:58.210_885+00:00 [42733] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:02:58.210_901+00:00 [42733] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:02:58.210_950+00:00 [42761] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:02:58.210_957+00:00 [42761] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:02:58.210_965+00:00 [42761] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:02:58.409_767+00:00 [42726] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:03:08.414_260+00:00 [42726] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:03:08.414_268+00:00 [42726] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:03:08.414_373+00:00 [42726] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:03:21.002_408+00:00 [42761] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:03:21.002_418+00:00 [42761] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:03:21.002_440+00:00 [42761] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:03:21.002_443+00:00 [42761] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:03:23.648_510+00:00 [42761] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:03:23.648_521+00:00 [42761] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:03:23.648_539+00:00 [42761] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:03:23.648_543+00:00 [42761] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:03:26.292_951+00:00 [42761] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:03:26.292_961+00:00 [42761] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:03:26.292_980+00:00 [42761] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:03:26.292_983+00:00 [42761] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:03:28.943_906+00:00 [42761] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:03:28.943_916+00:00 [42761] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:03:28.943_934+00:00 [42761] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:03:28.943_937+00:00 [42761] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:03:31.587_262+00:00 [42761] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:03:31.587_272+00:00 [42761] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:03:31.587_289+00:00 [42761] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:03:31.587_292+00:00 [42761] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:03:34.242_755+00:00 [42761] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:03:34.242_766+00:00 [42761] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:03:34.242_784+00:00 [42761] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:03:34.242_788+00:00 [42761] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:03:36.894_743+00:00 [42761] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:03:36.894_752+00:00 [42761] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:03:36.894_770+00:00 [42761] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:03:36.894_774+00:00 [42761] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:13.068_271+00:00 [43159] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:05:13.070_352+00:00 [43159] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:05:13.070_386+00:00 [43159] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:05:13.070_393+00:00 [43159] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:05:13.070_418+00:00 [43159] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:05:13.070_423+00:00 [43159] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:05:13.070_426+00:00 [43159] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:05:13.070_457+00:00 [43159] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:05:13.071_007+00:00 [43195] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:05:14.376_659+00:00 [43166] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:05:14.376_671+00:00 [43166] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:05:14.376_685+00:00 [43166] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:05:14.376_694+00:00 [43166] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:05:14.376_700+00:00 [43166] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:05:14.376_703+00:00 [43166] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:05:14.376_720+00:00 [43166] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:05:14.376_770+00:00 [43194] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:05:14.376_776+00:00 [43194] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:05:14.376_786+00:00 [43194] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:05:14.621_471+00:00 [43159] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:05:24.626_026+00:00 [43159] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:05:24.626_034+00:00 [43159] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:05:24.626_138+00:00 [43159] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:05:36.937_598+00:00 [43194] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:36.937_609+00:00 [43194] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:36.937_628+00:00 [43194] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:36.937_631+00:00 [43194] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:39.286_901+00:00 [43194] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:39.286_911+00:00 [43194] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:39.286_929+00:00 [43194] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:39.286_933+00:00 [43194] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:41.640_757+00:00 [43194] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:41.640_767+00:00 [43194] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:41.640_784+00:00 [43194] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:41.640_788+00:00 [43194] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:43.998_087+00:00 [43194] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:43.998_097+00:00 [43194] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:43.998_115+00:00 [43194] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:43.998_119+00:00 [43194] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:46.359_708+00:00 [43194] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:46.359_719+00:00 [43194] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:46.359_736+00:00 [43194] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:46.359_739+00:00 [43194] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:48.725_389+00:00 [43194] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:48.725_398+00:00 [43194] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:48.725_417+00:00 [43194] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:48.725_420+00:00 [43194] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:51.087_767+00:00 [43194] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:51.087_778+00:00 [43194] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:51.087_795+00:00 [43194] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:51.087_799+00:00 [43194] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:53.456_455+00:00 [43194] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:05:53.456_464+00:00 [43194] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:05:53.456_482+00:00 [43194] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:05:53.456_486+00:00 [43194] [INFO] create snapshot idx 800000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:05:54.704_848+00:00 [43268] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:05:54.706_209+00:00 [43268] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:05:54.706_242+00:00 [43268] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:05:54.706_248+00:00 [43268] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:05:54.706_272+00:00 [43268] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:05:54.706_277+00:00 [43268] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:05:54.706_279+00:00 [43268] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:05:54.706_310+00:00 [43268] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:05:54.706_453+00:00 [43304] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:05:56.590_493+00:00 [43275] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:05:56.590_504+00:00 [43275] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:05:56.590_517+00:00 [43275] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:05:56.590_532+00:00 [43275] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:05:56.590_538+00:00 [43275] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:05:56.590_541+00:00 [43275] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:05:56.590_557+00:00 [43275] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:05:56.590_632+00:00 [43303] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:05:56.590_639+00:00 [43303] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:05:56.590_648+00:00 [43303] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:05:56.757_575+00:00 [43268] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:06:06.762_373+00:00 [43268] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:06:06.762_382+00:00 [43268] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:06:06.762_490+00:00 [43268] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:06:18.818_920+00:00 [43303] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:06:18.818_930+00:00 [43303] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:06:18.818_949+00:00 [43303] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:06:18.818_953+00:00 [43303] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:06:21.246_386+00:00 [43303] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:06:21.246_396+00:00 [43303] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:06:21.246_415+00:00 [43303] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:06:21.246_418+00:00 [43303] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:06:23.859_944+00:00 [43303] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:06:23.859_954+00:00 [43303] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:06:23.859_972+00:00 [43303] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:06:23.859_975+00:00 [43303] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:06:26.467_581+00:00 [43303] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:06:26.467_591+00:00 [43303] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:06:26.467_609+00:00 [43303] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:06:26.467_613+00:00 [43303] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:06:29.078_500+00:00 [43303] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:06:29.078_510+00:00 [43303] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:06:29.078_528+00:00 [43303] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:06:29.078_531+00:00 [43303] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:06:31.697_152+00:00 [43303] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:06:31.697_163+00:00 [43303] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:06:31.697_181+00:00 [43303] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:06:31.697_185+00:00 [43303] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:06:34.306_753+00:00 [43303] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:06:34.306_763+00:00 [43303] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:06:34.306_779+00:00 [43303] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:06:34.306_783+00:00 [43303] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:06:36.843_665+00:00 [43380] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:06:36.845_004+00:00 [43380] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:06:36.845_035+00:00 [43380] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:06:36.845_042+00:00 [43380] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:06:36.845_065+00:00 [43380] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:06:36.845_069+00:00 [43380] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:06:36.845_072+00:00 [43380] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:06:36.845_106+00:00 [43380] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:06:36.845_261+00:00 [43416] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:06:38.490_342+00:00 [43387] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:06:38.490_354+00:00 [43387] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:06:38.490_367+00:00 [43387] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:06:38.490_377+00:00 [43387] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:06:38.490_383+00:00 [43387] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:06:38.490_386+00:00 [43387] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:06:38.490_401+00:00 [43387] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:06:38.490_452+00:00 [43415] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:06:38.490_459+00:00 [43415] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:06:38.490_469+00:00 [43415] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:06:38.646_244+00:00 [43380] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:06:48.651_054+00:00 [43380] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:06:48.651_062+00:00 [43380] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:06:48.651_159+00:00 [43380] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:07:01.141_340+00:00 [43415] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:01.141_350+00:00 [43415] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:01.141_367+00:00 [43415] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:01.141_370+00:00 [43415] [INFO] create snapshot idx 100000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:03.745_462+00:00 [43415] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:03.745_473+00:00 [43415] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:03.745_490+00:00 [43415] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:03.745_494+00:00 [43415] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:06.349_735+00:00 [43415] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:06.349_745+00:00 [43415] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:06.349_763+00:00 [43415] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:06.349_767+00:00 [43415] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:08.969_053+00:00 [43415] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:08.969_064+00:00 [43415] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:08.969_082+00:00 [43415] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:08.969_086+00:00 [43415] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:11.578_269+00:00 [43415] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:11.578_280+00:00 [43415] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:11.578_298+00:00 [43415] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:11.578_301+00:00 [43415] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:14.203_211+00:00 [43415] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:14.203_222+00:00 [43415] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:14.203_240+00:00 [43415] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:14.203_244+00:00 [43415] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:16.816_632+00:00 [43415] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:16.816_643+00:00 [43415] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:16.816_661+00:00 [43415] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:16.816_664+00:00 [43415] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:18.736_074+00:00 [43486] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:07:18.738_194+00:00 [43486] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:07:18.738_229+00:00 [43486] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:07:18.738_233+00:00 [43486] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:07:18.738_263+00:00 [43486] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:07:18.738_267+00:00 [43486] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:07:18.738_270+00:00 [43486] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:07:18.738_300+00:00 [43486] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:07:18.738_907+00:00 [43522] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:07:19.968_532+00:00 [43493] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:07:19.968_543+00:00 [43493] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:07:19.968_555+00:00 [43493] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:07:19.968_565+00:00 [43493] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:07:19.968_571+00:00 [43493] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:07:19.968_574+00:00 [43493] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:07:19.968_590+00:00 [43493] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:07:19.968_650+00:00 [43521] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:07:19.968_657+00:00 [43521] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:07:19.968_666+00:00 [43521] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:07:20.039_290+00:00 [43486] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:07:30.043_946+00:00 [43486] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:07:30.043_955+00:00 [43486] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:07:30.044_057+00:00 [43486] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:07:42.567_562+00:00 [43521] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:42.567_572+00:00 [43521] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:42.567_593+00:00 [43521] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:42.567_596+00:00 [43521] [INFO] create snapshot idx 100000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:45.149_052+00:00 [43521] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:45.149_062+00:00 [43521] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:45.149_081+00:00 [43521] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:45.149_084+00:00 [43521] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:47.730_452+00:00 [43521] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:47.730_461+00:00 [43521] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:47.730_479+00:00 [43521] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:47.730_482+00:00 [43521] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:50.318_331+00:00 [43521] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:50.318_341+00:00 [43521] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:50.318_359+00:00 [43521] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:50.318_362+00:00 [43521] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:52.909_017+00:00 [43521] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:52.909_026+00:00 [43521] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:52.909_044+00:00 [43521] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:52.909_047+00:00 [43521] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:55.508_427+00:00 [43521] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:55.508_436+00:00 [43521] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:55.508_454+00:00 [43521] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:55.508_457+00:00 [43521] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:07:58.094_973+00:00 [43521] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:07:58.094_983+00:00 [43521] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:07:58.095_000+00:00 [43521] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:07:58.095_004+00:00 [43521] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:00.132_634+00:00 [43594] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:08:00.133_980+00:00 [43594] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:08:00.134_008+00:00 [43594] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:08:00.134_016+00:00 [43594] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:08:00.134_038+00:00 [43594] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:08:00.134_042+00:00 [43594] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:08:00.134_046+00:00 [43594] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:08:00.134_074+00:00 [43594] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:08:00.134_219+00:00 [43630] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:08:02.050_309+00:00 [43601] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:08:02.050_321+00:00 [43601] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:08:02.050_336+00:00 [43601] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:08:02.050_346+00:00 [43601] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:08:02.050_352+00:00 [43601] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:08:02.050_354+00:00 [43601] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:08:02.050_372+00:00 [43601] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:08:02.050_426+00:00 [43629] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:08:02.050_433+00:00 [43629] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:08:02.050_441+00:00 [43629] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:08:02.185_256+00:00 [43594] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:08:12.189_976+00:00 [43594] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:08:12.189_985+00:00 [43594] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:08:12.190_088+00:00 [43594] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:08:24.753_639+00:00 [43629] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:08:24.753_649+00:00 [43629] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:08:24.753_667+00:00 [43629] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:08:24.753_670+00:00 [43629] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:27.370_932+00:00 [43629] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:08:27.370_943+00:00 [43629] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:08:27.370_961+00:00 [43629] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:08:27.370_964+00:00 [43629] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:29.992_033+00:00 [43629] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:08:29.992_043+00:00 [43629] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:08:29.992_061+00:00 [43629] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:08:29.992_065+00:00 [43629] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:32.622_000+00:00 [43629] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:08:32.622_009+00:00 [43629] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:08:32.622_027+00:00 [43629] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:08:32.622_031+00:00 [43629] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:35.248_268+00:00 [43629] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:08:35.248_277+00:00 [43629] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:08:35.248_295+00:00 [43629] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:08:35.248_298+00:00 [43629] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:37.880_701+00:00 [43629] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:08:37.880_710+00:00 [43629] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:08:37.880_728+00:00 [43629] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:08:37.880_732+00:00 [43629] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:40.512_953+00:00 [43629] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:08:40.512_963+00:00 [43629] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:08:40.512_980+00:00 [43629] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:08:40.512_984+00:00 [43629] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:08:42.284_026+00:00 [43708] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:08:42.285_375+00:00 [43708] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:08:42.285_405+00:00 [43708] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:08:42.285_414+00:00 [43708] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:08:42.285_438+00:00 [43708] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:08:42.285_442+00:00 [43708] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:08:42.285_445+00:00 [43708] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:08:42.285_477+00:00 [43708] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:08:42.285_624+00:00 [43744] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:08:43.601_651+00:00 [43715] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:08:43.601_662+00:00 [43715] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:08:43.601_675+00:00 [43715] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:08:43.601_686+00:00 [43715] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:08:43.601_692+00:00 [43715] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:08:43.601_696+00:00 [43715] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:08:43.601_713+00:00 [43715] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:08:43.601_760+00:00 [43743] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:08:43.601_766+00:00 [43743] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:08:43.601_774+00:00 [43743] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:08:43.836_809+00:00 [43708] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:08:53.841_873+00:00 [43708] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:08:53.841_882+00:00 [43708] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:08:53.841_982+00:00 [43708] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:09:06.383_229+00:00 [43743] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:06.383_239+00:00 [43743] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:06.383_261+00:00 [43743] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:06.383_265+00:00 [43743] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:08.978_058+00:00 [43743] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:08.978_068+00:00 [43743] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:08.978_085+00:00 [43743] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:08.978_089+00:00 [43743] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:11.573_426+00:00 [43743] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:11.573_436+00:00 [43743] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:11.573_454+00:00 [43743] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:11.573_458+00:00 [43743] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:14.177_563+00:00 [43743] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:14.177_573+00:00 [43743] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:14.177_592+00:00 [43743] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:14.177_595+00:00 [43743] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:16.783_682+00:00 [43743] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:16.783_691+00:00 [43743] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:16.783_708+00:00 [43743] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:16.783_711+00:00 [43743] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:19.394_271+00:00 [43743] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:19.394_281+00:00 [43743] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:19.394_300+00:00 [43743] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:19.394_304+00:00 [43743] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:22.000_974+00:00 [43743] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:22.000_984+00:00 [43743] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:22.001_002+00:00 [43743] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:22.001_006+00:00 [43743] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:23.944_875+00:00 [43820] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:09:23.947_122+00:00 [43820] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:09:23.947_154+00:00 [43820] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:09:23.947_158+00:00 [43820] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:09:23.947_182+00:00 [43820] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:09:23.947_186+00:00 [43820] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:09:23.947_189+00:00 [43820] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:09:23.947_220+00:00 [43820] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:09:23.947_770+00:00 [43856] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:09:25.458_408+00:00 [43827] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:09:25.458_418+00:00 [43827] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:09:25.458_432+00:00 [43827] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:09:25.458_448+00:00 [43827] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:09:25.458_455+00:00 [43827] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:09:25.458_459+00:00 [43827] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:09:25.458_475+00:00 [43827] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:09:25.458_524+00:00 [43855] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:09:25.458_530+00:00 [43855] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:09:25.458_539+00:00 [43855] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:09:25.498_239+00:00 [43820] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:09:35.502_530+00:00 [43820] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:09:35.502_539+00:00 [43820] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:09:35.502_654+00:00 [43820] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:09:48.076_893+00:00 [43855] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:48.076_902+00:00 [43855] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:48.076_919+00:00 [43855] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:48.076_923+00:00 [43855] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:50.703_324+00:00 [43855] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:50.703_334+00:00 [43855] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:50.703_353+00:00 [43855] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:50.703_356+00:00 [43855] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:53.329_865+00:00 [43855] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:53.329_875+00:00 [43855] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:53.329_892+00:00 [43855] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:53.329_895+00:00 [43855] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:55.958_885+00:00 [43855] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:55.958_895+00:00 [43855] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:55.958_913+00:00 [43855] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:55.958_917+00:00 [43855] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:09:58.591_892+00:00 [43855] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:09:58.591_902+00:00 [43855] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:09:58.591_921+00:00 [43855] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:09:58.591_924+00:00 [43855] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:01.250_500+00:00 [43855] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:01.250_510+00:00 [43855] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:01.250_528+00:00 [43855] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:01.250_532+00:00 [43855] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:03.882_733+00:00 [43855] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:03.882_743+00:00 [43855] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:03.882_761+00:00 [43855] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:03.882_764+00:00 [43855] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:05.605_927+00:00 [43936] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:10:05.607_351+00:00 [43936] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:10:05.607_381+00:00 [43936] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:10:05.607_387+00:00 [43936] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:10:05.607_413+00:00 [43936] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:10:05.607_417+00:00 [43936] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:10:05.607_420+00:00 [43936] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:10:05.607_448+00:00 [43936] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:10:05.607_620+00:00 [43972] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:10:07.454_670+00:00 [43943] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:10:07.454_681+00:00 [43943] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:10:07.454_695+00:00 [43943] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:10:07.454_705+00:00 [43943] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:10:07.454_711+00:00 [43943] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:10:07.454_714+00:00 [43943] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:10:07.454_730+00:00 [43943] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:10:07.454_782+00:00 [43971] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:10:07.454_788+00:00 [43971] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:10:07.454_796+00:00 [43971] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:10:07.658_691+00:00 [43936] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:10:17.663_609+00:00 [43936] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:10:17.663_618+00:00 [43936] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:10:17.663_718+00:00 [43936] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:10:30.201_724+00:00 [43971] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:30.201_734+00:00 [43971] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:30.201_751+00:00 [43971] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:30.201_755+00:00 [43971] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:32.791_464+00:00 [43971] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:32.791_473+00:00 [43971] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:32.791_491+00:00 [43971] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:32.791_495+00:00 [43971] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:35.385_583+00:00 [43971] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:35.385_593+00:00 [43971] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:35.385_611+00:00 [43971] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:35.385_614+00:00 [43971] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:37.987_661+00:00 [43971] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:37.987_670+00:00 [43971] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:37.987_688+00:00 [43971] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:37.987_691+00:00 [43971] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:40.587_742+00:00 [43971] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:40.587_752+00:00 [43971] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:40.587_769+00:00 [43971] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:40.587_772+00:00 [43971] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:43.198_440+00:00 [43971] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:43.198_450+00:00 [43971] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:43.198_467+00:00 [43971] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:43.198_470+00:00 [43971] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:45.804_330+00:00 [43971] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:10:45.804_339+00:00 [43971] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:10:45.804_357+00:00 [43971] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:10:45.804_360+00:00 [43971] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:10:47.771_256+00:00 [44052] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:10:47.772_600+00:00 [44052] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:10:47.772_630+00:00 [44052] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:10:47.772_636+00:00 [44052] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:10:47.772_658+00:00 [44052] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:10:47.772_664+00:00 [44052] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:10:47.772_667+00:00 [44052] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:10:47.772_695+00:00 [44052] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:10:47.772_852+00:00 [44088] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:10:49.426_889+00:00 [44059] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:10:49.426_899+00:00 [44059] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:10:49.426_913+00:00 [44059] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:10:49.426_924+00:00 [44059] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:10:49.426_930+00:00 [44059] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:10:49.426_933+00:00 [44059] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:10:49.426_950+00:00 [44059] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:10:49.426_999+00:00 [44087] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:10:49.427_006+00:00 [44087] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:10:49.427_015+00:00 [44087] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:10:49.573_931+00:00 [44052] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:10:59.579_266+00:00 [44052] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:10:59.579_275+00:00 [44052] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:10:59.579_372+00:00 [44052] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:11:12.156_015+00:00 [44087] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:12.156_025+00:00 [44087] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:12.156_043+00:00 [44087] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:12.156_046+00:00 [44087] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:14.788_462+00:00 [44087] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:14.788_471+00:00 [44087] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:14.788_488+00:00 [44087] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:14.788_492+00:00 [44087] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:17.421_019+00:00 [44087] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:17.421_028+00:00 [44087] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:17.421_045+00:00 [44087] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:17.421_049+00:00 [44087] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:20.060_767+00:00 [44087] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:20.060_776+00:00 [44087] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:20.060_794+00:00 [44087] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:20.060_798+00:00 [44087] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:22.692_962+00:00 [44087] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:22.692_971+00:00 [44087] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:22.692_988+00:00 [44087] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:22.692_991+00:00 [44087] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:25.335_760+00:00 [44087] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:25.335_770+00:00 [44087] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:25.335_788+00:00 [44087] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:25.335_791+00:00 [44087] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:27.968_328+00:00 [44087] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:27.968_338+00:00 [44087] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:27.968_355+00:00 [44087] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:27.968_358+00:00 [44087] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:29.687_299+00:00 [44170] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:11:29.688_700+00:00 [44170] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:11:29.688_732+00:00 [44170] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:11:29.688_736+00:00 [44170] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:11:29.688_760+00:00 [44170] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:11:29.688_765+00:00 [44170] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:11:29.688_767+00:00 [44170] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:11:29.688_796+00:00 [44170] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:11:29.688_945+00:00 [44206] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:11:31.213_971+00:00 [44177] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:11:31.213_981+00:00 [44177] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:11:31.213_995+00:00 [44177] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:11:31.214_004+00:00 [44177] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:11:31.214_011+00:00 [44177] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:11:31.214_014+00:00 [44177] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:11:31.214_031+00:00 [44177] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:11:31.214_084+00:00 [44205] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:11:31.214_091+00:00 [44205] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:11:31.214_100+00:00 [44205] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:11:31.239_855+00:00 [44170] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:11:41.244_673+00:00 [44170] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:11:41.244_682+00:00 [44170] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:11:41.244_789+00:00 [44170] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:11:53.801_961+00:00 [44205] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:53.801_971+00:00 [44205] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:53.801_989+00:00 [44205] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:53.801_992+00:00 [44205] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:56.406_068+00:00 [44205] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:56.406_079+00:00 [44205] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:56.406_101+00:00 [44205] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:56.406_105+00:00 [44205] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:11:59.013_772+00:00 [44205] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:11:59.013_782+00:00 [44205] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:11:59.013_799+00:00 [44205] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:11:59.013_803+00:00 [44205] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:12:01.653_120+00:00 [44205] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:12:01.653_130+00:00 [44205] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:12:01.653_148+00:00 [44205] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:12:01.653_151+00:00 [44205] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:12:04.268_892+00:00 [44205] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:12:04.268_902+00:00 [44205] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:12:04.268_920+00:00 [44205] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:12:04.268_923+00:00 [44205] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:12:06.898_784+00:00 [44205] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:12:06.898_794+00:00 [44205] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:12:06.898_811+00:00 [44205] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:12:06.898_814+00:00 [44205] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:12:09.518_695+00:00 [44205] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:12:09.518_706+00:00 [44205] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:12:09.518_724+00:00 [44205] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:12:09.518_727+00:00 [44205] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:17:20.513_793+00:00 [44523] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:17:20.515_370+00:00 [44523] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:17:20.515_408+00:00 [44523] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:17:20.515_415+00:00 [44523] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:17:20.515_439+00:00 [44523] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:17:20.515_444+00:00 [44523] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:17:20.515_447+00:00 [44523] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:17:20.515_482+00:00 [44523] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:17:20.515_513+00:00 [44559] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:17:22.179_694+00:00 [44528] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:17:22.179_702+00:00 [44528] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:17:22.179_717+00:00 [44528] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:17:22.179_727+00:00 [44528] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:17:22.179_733+00:00 [44528] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:17:22.179_737+00:00 [44528] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:17:22.179_753+00:00 [44528] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:17:22.179_806+00:00 [44558] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:17:22.179_814+00:00 [44558] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:17:22.179_823+00:00 [44558] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:17:22.316_730+00:00 [44523] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:17:32.321_765+00:00 [44523] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:17:32.321_774+00:00 [44523] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:17:32.321_885+00:00 [44523] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:17:44.909_331+00:00 [44558] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:17:44.909_343+00:00 [44558] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:17:44.909_363+00:00 [44558] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:17:44.909_366+00:00 [44558] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:17:47.447_723+00:00 [44558] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:17:47.447_736+00:00 [44558] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:17:47.447_762+00:00 [44558] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:17:47.447_766+00:00 [44558] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:17:49.987_718+00:00 [44558] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:17:49.987_733+00:00 [44558] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:17:49.987_760+00:00 [44558] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:17:49.987_764+00:00 [44558] [INFO] create snapshot idx 300000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:17:52.510_093+00:00 [44558] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:17:52.510_111+00:00 [44558] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:17:52.510_140+00:00 [44558] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:17:52.510_143+00:00 [44558] [INFO] create snapshot idx 400000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:17:55.055_709+00:00 [44558] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:17:55.055_735+00:00 [44558] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:17:55.055_753+00:00 [44558] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:17:55.055_757+00:00 [44558] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:17:57.706_367+00:00 [44558] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:17:57.706_379+00:00 [44558] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:17:57.706_403+00:00 [44558] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:17:57.706_407+00:00 [44558] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:00.311_311+00:00 [44558] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:00.311_329+00:00 [44558] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:00.311_357+00:00 [44558] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:00.311_361+00:00 [44558] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:02.398_201+00:00 [44633] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:18:02.399_754+00:00 [44633] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:18:02.399_785+00:00 [44633] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:18:02.399_791+00:00 [44633] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:18:02.399_815+00:00 [44633] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:18:02.399_819+00:00 [44633] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:18:02.399_822+00:00 [44633] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:18:02.399_865+00:00 [44633] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:18:02.399_888+00:00 [44669] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:18:03.655_082+00:00 [44639] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:18:03.655_095+00:00 [44639] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:18:03.655_109+00:00 [44639] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:18:03.655_124+00:00 [44639] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:18:03.655_130+00:00 [44639] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:18:03.655_133+00:00 [44639] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:18:03.655_149+00:00 [44639] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:18:03.655_209+00:00 [44668] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:18:03.655_217+00:00 [44668] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:18:03.655_226+00:00 [44668] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:18:03.700_766+00:00 [44633] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:18:13.705_565+00:00 [44633] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:18:13.705_574+00:00 [44633] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:18:13.705_680+00:00 [44633] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:18:25.821_865+00:00 [44668] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:25.821_879+00:00 [44668] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:25.821_901+00:00 [44668] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:25.821_905+00:00 [44668] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:27.955_978+00:00 [44668] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:27.955_991+00:00 [44668] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:27.956_018+00:00 [44668] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:27.956_023+00:00 [44668] [INFO] create snapshot idx 200000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:30.094_108+00:00 [44668] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:30.094_122+00:00 [44668] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:30.094_145+00:00 [44668] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:30.094_150+00:00 [44668] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:32.221_439+00:00 [44668] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:32.221_452+00:00 [44668] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:32.221_474+00:00 [44668] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:32.221_478+00:00 [44668] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:34.351_780+00:00 [44668] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:34.351_803+00:00 [44668] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:34.351_824+00:00 [44668] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:34.351_828+00:00 [44668] [INFO] create snapshot idx 500000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:36.485_085+00:00 [44668] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:36.485_106+00:00 [44668] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:36.485_126+00:00 [44668] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:36.485_129+00:00 [44668] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:38.629_540+00:00 [44668] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:38.629_554+00:00 [44668] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:38.629_583+00:00 [44668] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:38.629_595+00:00 [44668] [INFO] create snapshot idx 700000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:40.767_349+00:00 [44668] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:40.767_374+00:00 [44668] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:40.767_405+00:00 [44668] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:40.767_410+00:00 [44668] [INFO] create snapshot idx 800000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:42.912_162+00:00 [44668] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:18:42.912_175+00:00 [44668] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:18:42.912_192+00:00 [44668] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:18:42.912_196+00:00 [44668] [INFO] create snapshot idx 900000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:18:43.797_700+00:00 [44737] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:18:43.799_254+00:00 [44737] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:18:43.799_288+00:00 [44737] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:18:43.799_295+00:00 [44737] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:18:43.799_319+00:00 [44737] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:18:43.799_323+00:00 [44737] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:18:43.799_326+00:00 [44737] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:18:43.799_375+00:00 [44737] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:18:43.799_400+00:00 [44773] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:18:44.858_572+00:00 [44742] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:18:44.858_582+00:00 [44742] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:18:44.858_596+00:00 [44742] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:18:44.858_605+00:00 [44742] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:18:44.858_611+00:00 [44742] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:18:44.858_614+00:00 [44742] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:18:44.858_630+00:00 [44742] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:18:44.858_692+00:00 [44772] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:18:44.858_701+00:00 [44772] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:18:44.858_709+00:00 [44772] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:18:45.100_235+00:00 [44737] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:18:55.104_723+00:00 [44737] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:18:55.104_732+00:00 [44737] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:18:55.104_837+00:00 [44737] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:19:07.147_320+00:00 [44772] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:07.147_382+00:00 [44772] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:07.147_402+00:00 [44772] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:07.147_405+00:00 [44772] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:09.236_271+00:00 [44772] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:09.236_283+00:00 [44772] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:09.236_308+00:00 [44772] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:09.236_313+00:00 [44772] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:11.332_245+00:00 [44772] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:11.332_259+00:00 [44772] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:11.332_283+00:00 [44772] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:11.332_289+00:00 [44772] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:13.417_983+00:00 [44772] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:13.418_011+00:00 [44772] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:13.418_036+00:00 [44772] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:13.418_045+00:00 [44772] [INFO] create snapshot idx 400000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:15.512_320+00:00 [44772] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:15.512_332+00:00 [44772] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:15.512_353+00:00 [44772] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:15.512_356+00:00 [44772] [INFO] create snapshot idx 500000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:17.590_814+00:00 [44772] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:17.590_826+00:00 [44772] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:17.590_849+00:00 [44772] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:17.590_853+00:00 [44772] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:19.678_124+00:00 [44772] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:19.678_142+00:00 [44772] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:19.678_172+00:00 [44772] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:19.678_176+00:00 [44772] [INFO] create snapshot idx 700000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:21.777_581+00:00 [44772] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:21.777_594+00:00 [44772] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:21.777_614+00:00 [44772] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:21.777_617+00:00 [44772] [INFO] create snapshot idx 800000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:23.869_942+00:00 [44772] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:23.869_958+00:00 [44772] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:23.869_986+00:00 [44772] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:23.869_990+00:00 [44772] [INFO] create snapshot idx 900000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:25.206_865+00:00 [44848] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:19:25.208_366+00:00 [44848] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:19:25.208_404+00:00 [44848] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:19:25.208_408+00:00 [44848] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:19:25.208_434+00:00 [44848] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:19:25.208_439+00:00 [44848] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:19:25.208_442+00:00 [44848] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:19:25.208_477+00:00 [44848] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:19:25.208_497+00:00 [44884] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:19:26.282_733+00:00 [44853] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:19:26.282_744+00:00 [44853] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:19:26.282_756+00:00 [44853] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:19:26.282_765+00:00 [44853] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:19:26.282_771+00:00 [44853] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:19:26.282_774+00:00 [44853] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:19:26.282_790+00:00 [44853] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:19:26.282_859+00:00 [44883] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:19:26.282_868+00:00 [44883] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:19:26.282_877+00:00 [44883] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:19:26.509_595+00:00 [44848] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:19:36.514_776+00:00 [44848] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:19:36.514_785+00:00 [44848] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:19:36.514_894+00:00 [44848] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:19:48.520_406+00:00 [44883] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:48.520_419+00:00 [44883] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:48.520_443+00:00 [44883] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:48.520_450+00:00 [44883] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:50.521_627+00:00 [44883] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:50.521_690+00:00 [44883] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:50.521_720+00:00 [44883] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:50.521_724+00:00 [44883] [INFO] create snapshot idx 200000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:52.521_247+00:00 [44883] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:52.521_263+00:00 [44883] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:52.521_298+00:00 [44883] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:52.521_333+00:00 [44883] [INFO] create snapshot idx 300000 log_term 1 done: 63 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:54.521_350+00:00 [44883] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:54.521_362+00:00 [44883] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:54.521_386+00:00 [44883] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:54.521_391+00:00 [44883] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:56.520_878+00:00 [44883] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:56.520_924+00:00 [44883] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:56.520_961+00:00 [44883] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:56.520_966+00:00 [44883] [INFO] create snapshot idx 500000 log_term 1 done: 31 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:19:58.521_904+00:00 [44883] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:19:58.521_916+00:00 [44883] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:19:58.521_939+00:00 [44883] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:19:58.521_944+00:00 [44883] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:00.521_238+00:00 [44883] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:00.521_250+00:00 [44883] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:00.521_274+00:00 [44883] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:00.521_279+00:00 [44883] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:02.524_019+00:00 [44883] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:02.524_032+00:00 [44883] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:02.524_055+00:00 [44883] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:02.524_061+00:00 [44883] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:04.532_331+00:00 [44883] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:04.532_343+00:00 [44883] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:04.532_367+00:00 [44883] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:04.532_372+00:00 [44883] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:06.623_868+00:00 [44958] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:20:06.625_371+00:00 [44958] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:20:06.625_407+00:00 [44958] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:20:06.625_412+00:00 [44958] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:20:06.625_437+00:00 [44958] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:20:06.625_442+00:00 [44958] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:20:06.625_445+00:00 [44958] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:20:06.625_479+00:00 [44958] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:20:06.625_511+00:00 [44994] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:20:08.465_723+00:00 [44964] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:20:08.465_735+00:00 [44964] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:20:08.465_748+00:00 [44964] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:20:08.465_758+00:00 [44964] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:20:08.465_764+00:00 [44964] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:20:08.465_767+00:00 [44964] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:20:08.465_784+00:00 [44964] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:20:08.465_857+00:00 [44993] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:20:08.465_865+00:00 [44993] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:20:08.465_875+00:00 [44993] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:20:08.677_281+00:00 [44958] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:20:18.681_926+00:00 [44958] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:20:18.681_934+00:00 [44958] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:20:18.682_032+00:00 [44958] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:20:30.770_192+00:00 [44993] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:30.770_205+00:00 [44993] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:30.770_228+00:00 [44993] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:30.770_234+00:00 [44993] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:32.953_155+00:00 [44993] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:32.953_168+00:00 [44993] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:32.953_231+00:00 [44993] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:32.953_237+00:00 [44993] [INFO] create snapshot idx 200000 log_term 1 done: 63 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:35.157_598+00:00 [44993] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:35.157_615+00:00 [44993] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:35.157_718+00:00 [44993] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:35.157_723+00:00 [44993] [INFO] create snapshot idx 300000 log_term 1 done: 97 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:37.403_812+00:00 [44993] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:37.403_824+00:00 [44993] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:37.403_847+00:00 [44993] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:37.403_853+00:00 [44993] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:39.668_780+00:00 [44993] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:39.668_823+00:00 [44993] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:39.668_847+00:00 [44993] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:39.668_852+00:00 [44993] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:41.935_149+00:00 [44993] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:41.935_164+00:00 [44993] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:41.935_183+00:00 [44993] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:41.935_187+00:00 [44993] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:44.192_241+00:00 [44993] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:44.192_254+00:00 [44993] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:44.192_334+00:00 [44993] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:44.192_355+00:00 [44993] [INFO] create snapshot idx 700000 log_term 1 done: 95 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:46.429_341+00:00 [44993] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:20:46.429_354+00:00 [44993] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:20:46.429_377+00:00 [44993] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:20:46.429_381+00:00 [44993] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:20:48.792_025+00:00 [45074] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:20:48.793_554+00:00 [45074] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:20:48.793_590+00:00 [45074] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:20:48.793_595+00:00 [45074] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:20:48.793_623+00:00 [45074] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:20:48.793_627+00:00 [45074] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:20:48.793_630+00:00 [45074] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:20:48.793_667+00:00 [45074] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:20:48.793_695+00:00 [45110] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:20:50.404_896+00:00 [45080] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:20:50.404_906+00:00 [45080] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:20:50.404_920+00:00 [45080] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:20:50.404_930+00:00 [45080] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:20:50.404_935+00:00 [45080] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:20:50.404_938+00:00 [45080] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:20:50.404_955+00:00 [45080] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:20:50.405_015+00:00 [45109] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:20:50.405_024+00:00 [45109] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:20:50.405_032+00:00 [45109] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:20:50.594_814+00:00 [45074] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:21:00.599_588+00:00 [45074] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:21:00.599_597+00:00 [45074] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:21:00.599_707+00:00 [45074] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:21:12.893_786+00:00 [45109] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:12.893_799+00:00 [45109] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:12.893_860+00:00 [45109] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:12.893_866+00:00 [45109] [INFO] create snapshot idx 100000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:15.172_772+00:00 [45109] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:15.172_808+00:00 [45109] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:15.172_854+00:00 [45109] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:15.172_877+00:00 [45109] [INFO] create snapshot idx 200000 log_term 1 done: 47 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:17.449_180+00:00 [45109] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:17.449_192+00:00 [45109] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:17.449_246+00:00 [45109] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:17.449_257+00:00 [45109] [INFO] create snapshot idx 300000 log_term 1 done: 53 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:19.732_463+00:00 [45109] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:19.732_476+00:00 [45109] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:19.732_499+00:00 [45109] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:19.732_503+00:00 [45109] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:22.026_115+00:00 [45109] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:22.026_130+00:00 [45109] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:22.026_154+00:00 [45109] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:22.026_158+00:00 [45109] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:24.333_223+00:00 [45109] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:24.333_235+00:00 [45109] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:24.333_260+00:00 [45109] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:24.333_263+00:00 [45109] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:26.620_605+00:00 [45109] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:26.620_623+00:00 [45109] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:26.620_656+00:00 [45109] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:26.620_666+00:00 [45109] [INFO] create snapshot idx 700000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:28.901_876+00:00 [45109] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:28.901_901+00:00 [45109] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:28.901_930+00:00 [45109] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:28.901_944+00:00 [45109] [INFO] create snapshot idx 800000 log_term 1 done: 36 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:30.710_468+00:00 [45187] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:21:30.711_976+00:00 [45187] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:21:30.712_012+00:00 [45187] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:21:30.712_019+00:00 [45187] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:21:30.712_042+00:00 [45187] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:21:30.712_046+00:00 [45187] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:21:30.712_049+00:00 [45187] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:21:30.712_097+00:00 [45187] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:21:30.712_117+00:00 [45223] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:21:32.386_302+00:00 [45193] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:21:32.386_313+00:00 [45193] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:21:32.386_326+00:00 [45193] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:21:32.386_336+00:00 [45193] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:21:32.386_341+00:00 [45193] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:21:32.386_345+00:00 [45193] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:21:32.386_361+00:00 [45193] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:21:32.386_421+00:00 [45222] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:21:32.386_430+00:00 [45222] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:21:32.386_438+00:00 [45222] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:21:32.513_715+00:00 [45187] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:21:42.518_708+00:00 [45187] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:21:42.518_716+00:00 [45187] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:21:42.518_827+00:00 [45187] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:21:54.783_171+00:00 [45222] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:54.783_189+00:00 [45222] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:54.783_221+00:00 [45222] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:54.783_235+00:00 [45222] [INFO] create snapshot idx 100000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:57.073_264+00:00 [45222] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:57.073_277+00:00 [45222] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:57.073_302+00:00 [45222] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:57.073_307+00:00 [45222] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:21:59.364_221+00:00 [45222] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:21:59.364_234+00:00 [45222] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:21:59.364_257+00:00 [45222] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:21:59.364_263+00:00 [45222] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:01.643_682+00:00 [45222] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:01.643_696+00:00 [45222] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:01.643_739+00:00 [45222] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:01.643_744+00:00 [45222] [INFO] create snapshot idx 400000 log_term 1 done: 42 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:03.922_486+00:00 [45222] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:03.922_503+00:00 [45222] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:03.922_527+00:00 [45222] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:03.922_532+00:00 [45222] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:06.215_874+00:00 [45222] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:06.215_939+00:00 [45222] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:06.215_960+00:00 [45222] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:06.215_964+00:00 [45222] [INFO] create snapshot idx 600000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:08.519_935+00:00 [45222] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:08.519_947+00:00 [45222] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:08.519_968+00:00 [45222] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:08.519_972+00:00 [45222] [INFO] create snapshot idx 700000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:10.803_543+00:00 [45222] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:10.803_561+00:00 [45222] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:10.803_590+00:00 [45222] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:10.803_627+00:00 [45222] [INFO] create snapshot idx 800000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:12.642_401+00:00 [45310] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:22:12.643_926+00:00 [45310] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:22:12.643_958+00:00 [45310] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:22:12.643_966+00:00 [45310] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:22:12.643_988+00:00 [45310] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:22:12.643_993+00:00 [45310] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:22:12.643_996+00:00 [45310] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:22:12.644_043+00:00 [45310] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:22:12.644_067+00:00 [45346] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:22:14.221_282+00:00 [45315] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:22:14.221_296+00:00 [45315] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:22:14.221_312+00:00 [45315] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:22:14.221_325+00:00 [45315] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:22:14.221_333+00:00 [45315] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:22:14.221_345+00:00 [45315] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:22:14.221_362+00:00 [45315] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:22:14.221_430+00:00 [45345] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:22:14.221_439+00:00 [45345] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:22:14.221_448+00:00 [45345] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:22:14.445_201+00:00 [45310] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:22:24.449_935+00:00 [45310] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:22:24.449_944+00:00 [45310] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:22:24.450_053+00:00 [45310] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:22:36.746_322+00:00 [45345] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:36.746_336+00:00 [45345] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:36.746_369+00:00 [45345] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:36.746_380+00:00 [45345] [INFO] create snapshot idx 100000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:39.035_398+00:00 [45345] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:39.035_411+00:00 [45345] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:39.035_461+00:00 [45345] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:39.035_471+00:00 [45345] [INFO] create snapshot idx 200000 log_term 1 done: 49 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:41.302_591+00:00 [45345] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:41.302_603+00:00 [45345] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:41.302_627+00:00 [45345] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:41.302_631+00:00 [45345] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:43.575_248+00:00 [45345] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:43.575_262+00:00 [45345] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:43.575_319+00:00 [45345] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:43.575_327+00:00 [45345] [INFO] create snapshot idx 400000 log_term 1 done: 58 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:45.869_626+00:00 [45345] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:45.869_659+00:00 [45345] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:45.869_683+00:00 [45345] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:45.869_690+00:00 [45345] [INFO] create snapshot idx 500000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:48.167_296+00:00 [45345] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:48.167_309+00:00 [45345] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:48.167_344+00:00 [45345] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:48.167_350+00:00 [45345] [INFO] create snapshot idx 600000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:50.462_519+00:00 [45345] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:50.462_532+00:00 [45345] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:50.462_557+00:00 [45345] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:50.462_580+00:00 [45345] [INFO] create snapshot idx 700000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:52.749_202+00:00 [45345] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:22:52.749_215+00:00 [45345] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:22:52.749_239+00:00 [45345] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:22:52.749_276+00:00 [45345] [INFO] create snapshot idx 800000 log_term 1 done: 54 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:22:54.577_279+00:00 [45426] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:22:54.578_892+00:00 [45426] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:22:54.578_942+00:00 [45426] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:22:54.578_949+00:00 [45426] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:22:54.578_977+00:00 [45426] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:22:54.578_983+00:00 [45426] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:22:54.578_987+00:00 [45426] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:22:54.579_025+00:00 [45426] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:22:54.579_050+00:00 [45462] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:22:55.813_272+00:00 [45431] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:22:55.813_283+00:00 [45431] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:22:55.813_296+00:00 [45431] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:22:55.813_311+00:00 [45431] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:22:55.813_318+00:00 [45431] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:22:55.813_321+00:00 [45431] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:22:55.813_338+00:00 [45431] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:22:55.813_404+00:00 [45461] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:22:55.813_412+00:00 [45461] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:22:55.813_422+00:00 [45461] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:22:55.879_845+00:00 [45426] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:23:05.884_500+00:00 [45426] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:23:05.884_508+00:00 [45426] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:23:05.884_608+00:00 [45426] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:23:18.166_138+00:00 [45461] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:18.166_168+00:00 [45461] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:18.166_202+00:00 [45461] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:18.166_216+00:00 [45461] [INFO] create snapshot idx 100000 log_term 1 done: 41 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:20.446_666+00:00 [45461] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:20.446_679+00:00 [45461] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:20.446_702+00:00 [45461] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:20.446_707+00:00 [45461] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:22.708_304+00:00 [45461] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:22.708_321+00:00 [45461] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:22.708_359+00:00 [45461] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:22.708_365+00:00 [45461] [INFO] create snapshot idx 300000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:24.994_241+00:00 [45461] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:24.994_258+00:00 [45461] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:24.994_290+00:00 [45461] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:24.994_305+00:00 [45461] [INFO] create snapshot idx 400000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:27.277_885+00:00 [45461] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:27.277_897+00:00 [45461] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:27.277_918+00:00 [45461] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:27.277_921+00:00 [45461] [INFO] create snapshot idx 500000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:29.561_611+00:00 [45461] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:29.561_627+00:00 [45461] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:29.561_655+00:00 [45461] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:29.561_659+00:00 [45461] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:31.851_272+00:00 [45461] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:31.851_299+00:00 [45461] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:31.851_341+00:00 [45461] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:31.851_347+00:00 [45461] [INFO] create snapshot idx 700000 log_term 1 done: 41 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:34.149_459+00:00 [45461] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:23:34.149_477+00:00 [45461] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:23:34.149_507+00:00 [45461] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:23:34.149_523+00:00 [45461] [INFO] create snapshot idx 800000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:23:36.012_494+00:00 [45546] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T07:23:36.014_014+00:00 [45546] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T07:23:36.014_049+00:00 [45546] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T07:23:36.014_054+00:00 [45546] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T07:23:36.014_077+00:00 [45546] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T07:23:36.014_081+00:00 [45546] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T07:23:36.014_084+00:00 [45546] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T07:23:36.014_137+00:00 [45546] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T07:23:36.014_146+00:00 [45582] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T07:23:37.683_366+00:00 [45552] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T07:23:37.683_378+00:00 [45552] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T07:23:37.683_390+00:00 [45552] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T07:23:37.683_400+00:00 [45552] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T07:23:37.683_406+00:00 [45552] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T07:23:37.683_408+00:00 [45552] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T07:23:37.683_424+00:00 [45552] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T07:23:37.683_485+00:00 [45581] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T07:23:37.683_494+00:00 [45581] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T07:23:37.683_504+00:00 [45581] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T07:23:37.815_287+00:00 [45546] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:23:47.819_937+00:00 [45546] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T07:23:47.819_947+00:00 [45546] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T07:23:47.820_060+00:00 [45546] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T07:24:00.083_974+00:00 [45581] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:00.083_992+00:00 [45581] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:00.084_022+00:00 [45581] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:00.084_037+00:00 [45581] [INFO] create snapshot idx 100000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:24:02.366_748+00:00 [45581] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:02.366_763+00:00 [45581] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:02.366_788+00:00 [45581] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:02.366_793+00:00 [45581] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:24:04.643_038+00:00 [45581] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:04.643_056+00:00 [45581] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:04.643_087+00:00 [45581] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:04.643_102+00:00 [45581] [INFO] create snapshot idx 300000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:24:06.896_365+00:00 [45581] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:06.896_383+00:00 [45581] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:06.896_412+00:00 [45581] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:06.896_417+00:00 [45581] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:24:09.183_690+00:00 [45581] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:09.183_708+00:00 [45581] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:09.183_738+00:00 [45581] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:09.183_753+00:00 [45581] [INFO] create snapshot idx 500000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:24:11.466_840+00:00 [45581] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:11.466_904+00:00 [45581] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:11.466_983+00:00 [45581] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:11.466_992+00:00 [45581] [INFO] create snapshot idx 600000 log_term 1 done: 62 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:24:13.739_572+00:00 [45581] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:13.739_585+00:00 [45581] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:13.739_609+00:00 [45581] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:13.739_615+00:00 [45581] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T07:24:16.019_777+00:00 [45581] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T07:24:16.019_828+00:00 [45581] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T07:24:16.019_862+00:00 [45581] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T07:24:16.019_867+00:00 [45581] [INFO] create snapshot idx 800000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:55:28.916_760+00:00 [1913] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T11:55:28.918_295+00:00 [1913] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T11:55:28.918_334+00:00 [1913] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T11:55:28.918_340+00:00 [1913] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T11:55:28.918_362+00:00 [1913] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T11:55:28.918_366+00:00 [1913] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T11:55:28.918_369+00:00 [1913] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T11:55:28.918_403+00:00 [1913] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T11:55:28.918_425+00:00 [1949] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T11:55:30.159_604+00:00 [1918] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T11:55:30.159_615+00:00 [1918] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T11:55:30.159_629+00:00 [1918] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T11:55:30.159_640+00:00 [1918] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T11:55:30.159_646+00:00 [1918] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T11:55:30.159_649+00:00 [1918] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T11:55:30.159_668+00:00 [1918] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T11:55:30.159_740+00:00 [1948] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T11:55:30.159_750+00:00 [1948] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T11:55:30.159_760+00:00 [1948] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T11:55:30.219_600+00:00 [1913] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:55:40.224_171+00:00 [1913] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T11:55:40.224_181+00:00 [1913] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T11:55:40.224_297+00:00 [1913] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:55:52.778_933+00:00 [1948] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:55:52.778_950+00:00 [1948] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:55:52.778_980+00:00 [1948] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:55:52.778_983+00:00 [1948] [INFO] create snapshot idx 100000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:55:55.345_513+00:00 [1948] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:55:55.345_528+00:00 [1948] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:55:55.345_551+00:00 [1948] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:55:55.345_556+00:00 [1948] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:55:57.900_350+00:00 [1948] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:55:57.900_362+00:00 [1948] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:55:57.900_390+00:00 [1948] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:55:57.900_393+00:00 [1948] [INFO] create snapshot idx 300000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:00.464_023+00:00 [1948] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:00.464_040+00:00 [1948] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:00.464_067+00:00 [1948] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:00.464_071+00:00 [1948] [INFO] create snapshot idx 400000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:03.047_574+00:00 [1948] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:03.047_591+00:00 [1948] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:03.047_618+00:00 [1948] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:03.047_622+00:00 [1948] [INFO] create snapshot idx 500000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:05.609_039+00:00 [1948] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:05.609_056+00:00 [1948] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:05.609_083+00:00 [1948] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:05.609_087+00:00 [1948] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:08.175_584+00:00 [1948] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:08.175_602+00:00 [1948] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:08.175_630+00:00 [1948] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:08.175_634+00:00 [1948] [INFO] create snapshot idx 700000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:10.298_529+00:00 [1979] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T11:56:10.300_007+00:00 [1979] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T11:56:10.300_037+00:00 [1979] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T11:56:10.300_043+00:00 [1979] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T11:56:10.300_063+00:00 [1979] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T11:56:10.300_067+00:00 [1979] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T11:56:10.300_069+00:00 [1979] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T11:56:10.300_104+00:00 [1979] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T11:56:10.300_136+00:00 [2015] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T11:56:12.031_453+00:00 [1985] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T11:56:12.031_466+00:00 [1985] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T11:56:12.031_482+00:00 [1985] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T11:56:12.031_498+00:00 [1985] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T11:56:12.031_505+00:00 [1985] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T11:56:12.031_509+00:00 [1985] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T11:56:12.031_529+00:00 [1985] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T11:56:12.031_601+00:00 [2014] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T11:56:12.031_612+00:00 [2014] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T11:56:12.031_623+00:00 [2014] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T11:56:12.101_273+00:00 [1979] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:56:22.106_159+00:00 [1979] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T11:56:22.106_168+00:00 [1979] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T11:56:22.106_287+00:00 [1979] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:56:34.217_603+00:00 [2014] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:34.217_614+00:00 [2014] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:34.217_632+00:00 [2014] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:34.217_635+00:00 [2014] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:36.377_380+00:00 [2014] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:36.377_391+00:00 [2014] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:36.377_417+00:00 [2014] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:36.377_422+00:00 [2014] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:38.536_281+00:00 [2014] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:38.536_292+00:00 [2014] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:38.536_316+00:00 [2014] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:38.536_321+00:00 [2014] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:40.704_799+00:00 [2014] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:40.704_813+00:00 [2014] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:40.704_837+00:00 [2014] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:40.704_841+00:00 [2014] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:42.859_505+00:00 [2014] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:42.859_516+00:00 [2014] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:42.859_539+00:00 [2014] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:42.859_545+00:00 [2014] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:45.034_789+00:00 [2014] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:45.034_800+00:00 [2014] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:45.034_824+00:00 [2014] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:45.034_828+00:00 [2014] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:47.219_633+00:00 [2014] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:47.219_645+00:00 [2014] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:47.219_667+00:00 [2014] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:47.219_670+00:00 [2014] [INFO] create snapshot idx 700000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:49.388_062+00:00 [2014] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:49.388_075+00:00 [2014] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:49.388_100+00:00 [2014] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:49.388_108+00:00 [2014] [INFO] create snapshot idx 800000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:51.561_358+00:00 [2014] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:56:51.561_373+00:00 [2014] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:56:51.561_396+00:00 [2014] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:56:51.561_400+00:00 [2014] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:56:52.193_376+00:00 [2049] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T11:56:52.194_838+00:00 [2049] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T11:56:52.194_869+00:00 [2049] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T11:56:52.194_873+00:00 [2049] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T11:56:52.194_897+00:00 [2049] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T11:56:52.194_901+00:00 [2049] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T11:56:52.194_904+00:00 [2049] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T11:56:52.194_944+00:00 [2049] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T11:56:52.194_973+00:00 [2085] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T11:56:53.339_159+00:00 [2052] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T11:56:53.339_172+00:00 [2052] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T11:56:53.339_186+00:00 [2052] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T11:56:53.339_197+00:00 [2052] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T11:56:53.339_204+00:00 [2052] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T11:56:53.339_208+00:00 [2052] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T11:56:53.339_227+00:00 [2052] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T11:56:53.339_312+00:00 [2084] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T11:56:53.339_323+00:00 [2084] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T11:56:53.339_333+00:00 [2084] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T11:56:53.495_748+00:00 [2049] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:57:03.500_457+00:00 [2049] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T11:57:03.500_466+00:00 [2049] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T11:57:03.500_578+00:00 [2049] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:57:15.552_452+00:00 [2084] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:15.552_468+00:00 [2084] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:15.552_492+00:00 [2084] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:15.552_497+00:00 [2084] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:17.641_510+00:00 [2084] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:17.641_527+00:00 [2084] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:17.641_557+00:00 [2084] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:17.641_562+00:00 [2084] [INFO] create snapshot idx 200000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:19.737_263+00:00 [2084] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:19.737_314+00:00 [2084] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:19.737_351+00:00 [2084] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:19.737_357+00:00 [2084] [INFO] create snapshot idx 300000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:21.831_482+00:00 [2084] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:21.831_493+00:00 [2084] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:21.831_512+00:00 [2084] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:21.831_515+00:00 [2084] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:23.929_198+00:00 [2084] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:23.929_229+00:00 [2084] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:23.929_284+00:00 [2084] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:23.929_288+00:00 [2084] [INFO] create snapshot idx 500000 log_term 1 done: 53 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:26.028_785+00:00 [2084] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:26.028_803+00:00 [2084] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:26.028_826+00:00 [2084] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:26.028_834+00:00 [2084] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:28.136_451+00:00 [2084] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:28.136_463+00:00 [2084] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:28.136_511+00:00 [2084] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:28.136_519+00:00 [2084] [INFO] create snapshot idx 700000 log_term 1 done: 49 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:30.232_116+00:00 [2084] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:30.232_164+00:00 [2084] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:30.232_188+00:00 [2084] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:30.232_193+00:00 [2084] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:32.346_851+00:00 [2084] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:32.346_863+00:00 [2084] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:32.346_886+00:00 [2084] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:32.346_891+00:00 [2084] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:33.594_885+00:00 [2124] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T11:57:33.596_377+00:00 [2124] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T11:57:33.596_408+00:00 [2124] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T11:57:33.596_412+00:00 [2124] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T11:57:33.596_435+00:00 [2124] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T11:57:33.596_439+00:00 [2124] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T11:57:33.596_442+00:00 [2124] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T11:57:33.596_480+00:00 [2124] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T11:57:33.596_501+00:00 [2160] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T11:57:35.473_712+00:00 [2130] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T11:57:35.473_724+00:00 [2130] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T11:57:35.473_738+00:00 [2130] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T11:57:35.473_749+00:00 [2130] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T11:57:35.473_755+00:00 [2130] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T11:57:35.473_759+00:00 [2130] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T11:57:35.473_777+00:00 [2130] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T11:57:35.473_854+00:00 [2159] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T11:57:35.473_864+00:00 [2159] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T11:57:35.473_874+00:00 [2159] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T11:57:35.647_641+00:00 [2124] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:57:45.652_922+00:00 [2124] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T11:57:45.652_931+00:00 [2124] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T11:57:45.653_054+00:00 [2124] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:57:57.658_785+00:00 [2159] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:57.658_799+00:00 [2159] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:57.658_823+00:00 [2159] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:57.658_831+00:00 [2159] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:57:59.665_563+00:00 [2159] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:57:59.665_577+00:00 [2159] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:57:59.665_600+00:00 [2159] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:57:59.665_604+00:00 [2159] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:01.658_181+00:00 [2159] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:01.658_195+00:00 [2159] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:01.658_220+00:00 [2159] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:01.658_225+00:00 [2159] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:03.669_403+00:00 [2159] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:03.669_415+00:00 [2159] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:03.669_437+00:00 [2159] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:03.669_442+00:00 [2159] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:05.673_972+00:00 [2159] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:05.673_985+00:00 [2159] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:05.674_045+00:00 [2159] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:05.674_055+00:00 [2159] [INFO] create snapshot idx 500000 log_term 1 done: 64 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:07.659_629+00:00 [2159] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:07.659_641+00:00 [2159] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:07.659_664+00:00 [2159] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:07.659_669+00:00 [2159] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:09.661_309+00:00 [2159] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:09.661_323+00:00 [2159] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:09.661_347+00:00 [2159] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:09.661_368+00:00 [2159] [INFO] create snapshot idx 700000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:11.661_574+00:00 [2159] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:11.661_586+00:00 [2159] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:11.661_609+00:00 [2159] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:11.661_612+00:00 [2159] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:13.659_904+00:00 [2159] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:13.659_916+00:00 [2159] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:13.659_940+00:00 [2159] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:13.659_946+00:00 [2159] [INFO] create snapshot idx 900000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:15.753_712+00:00 [2198] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T11:58:15.755_249+00:00 [2198] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T11:58:15.755_281+00:00 [2198] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T11:58:15.755_288+00:00 [2198] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T11:58:15.755_331+00:00 [2198] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T11:58:15.755_336+00:00 [2198] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T11:58:15.755_338+00:00 [2198] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T11:58:15.755_374+00:00 [2198] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T11:58:15.755_397+00:00 [2234] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T11:58:17.556_566+00:00 [2203] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T11:58:17.556_576+00:00 [2203] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T11:58:17.556_591+00:00 [2203] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T11:58:17.556_603+00:00 [2203] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T11:58:17.556_609+00:00 [2203] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T11:58:17.556_613+00:00 [2203] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T11:58:17.556_631+00:00 [2203] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T11:58:17.556_701+00:00 [2233] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T11:58:17.556_711+00:00 [2233] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T11:58:17.556_723+00:00 [2233] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T11:58:17.806_612+00:00 [2198] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:58:27.810_942+00:00 [2198] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T11:58:27.810_951+00:00 [2198] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T11:58:27.811_058+00:00 [2198] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:58:39.903_773+00:00 [2233] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:39.903_799+00:00 [2233] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:39.903_825+00:00 [2233] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:39.903_832+00:00 [2233] [INFO] create snapshot idx 100000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:42.156_171+00:00 [2233] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:42.156_185+00:00 [2233] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:42.156_242+00:00 [2233] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:42.156_250+00:00 [2233] [INFO] create snapshot idx 200000 log_term 1 done: 58 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:44.379_459+00:00 [2233] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:44.379_473+00:00 [2233] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:44.379_492+00:00 [2233] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:44.379_496+00:00 [2233] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:46.674_924+00:00 [2233] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:46.674_968+00:00 [2233] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:46.674_991+00:00 [2233] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:46.674_995+00:00 [2233] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:48.977_297+00:00 [2233] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:48.977_309+00:00 [2233] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:48.977_332+00:00 [2233] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:48.977_338+00:00 [2233] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:51.291_709+00:00 [2233] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:51.291_730+00:00 [2233] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:51.291_755+00:00 [2233] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:51.291_762+00:00 [2233] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:53.588_515+00:00 [2233] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:53.588_532+00:00 [2233] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:53.588_561+00:00 [2233] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:53.588_566+00:00 [2233] [INFO] create snapshot idx 700000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:55.862_807+00:00 [2233] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:58:55.862_822+00:00 [2233] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:58:55.862_847+00:00 [2233] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:58:55.862_851+00:00 [2233] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:58:57.907_001+00:00 [2287] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T11:58:57.908_554+00:00 [2287] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T11:58:57.908_597+00:00 [2287] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T11:58:57.908_601+00:00 [2287] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T11:58:57.908_624+00:00 [2287] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T11:58:57.908_628+00:00 [2287] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T11:58:57.908_631+00:00 [2287] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T11:58:57.908_682+00:00 [2287] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T11:58:57.908_705+00:00 [2323] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T11:58:59.101_879+00:00 [2292] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T11:58:59.101_890+00:00 [2292] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T11:58:59.101_904+00:00 [2292] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T11:58:59.101_915+00:00 [2292] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T11:58:59.101_922+00:00 [2292] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T11:58:59.101_926+00:00 [2292] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T11:58:59.101_945+00:00 [2292] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T11:58:59.102_018+00:00 [2322] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T11:58:59.102_028+00:00 [2322] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T11:58:59.102_039+00:00 [2322] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T11:58:59.209_506+00:00 [2287] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:59:09.213_917+00:00 [2287] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T11:59:09.213_927+00:00 [2287] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T11:59:09.214_040+00:00 [2287] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:59:21.501_462+00:00 [2322] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:21.501_499+00:00 [2322] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:21.501_522+00:00 [2322] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:21.501_528+00:00 [2322] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:23.797_885+00:00 [2322] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:23.797_904+00:00 [2322] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:23.797_933+00:00 [2322] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:23.797_938+00:00 [2322] [INFO] create snapshot idx 200000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:26.094_381+00:00 [2322] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:26.094_399+00:00 [2322] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:26.094_433+00:00 [2322] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:26.094_443+00:00 [2322] [INFO] create snapshot idx 300000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:28.390_732+00:00 [2322] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:28.390_750+00:00 [2322] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:28.390_778+00:00 [2322] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:28.390_784+00:00 [2322] [INFO] create snapshot idx 400000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:30.682_836+00:00 [2322] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:30.682_883+00:00 [2322] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:30.682_902+00:00 [2322] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:30.682_906+00:00 [2322] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:32.984_134+00:00 [2322] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:32.984_145+00:00 [2322] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:32.984_184+00:00 [2322] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:32.984_190+00:00 [2322] [INFO] create snapshot idx 600000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:35.285_545+00:00 [2322] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:35.285_561+00:00 [2322] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:35.285_589+00:00 [2322] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:35.285_600+00:00 [2322] [INFO] create snapshot idx 700000 log_term 1 done: 31 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:37.584_539+00:00 [2322] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T11:59:37.584_602+00:00 [2322] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T11:59:37.584_653+00:00 [2322] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T11:59:37.584_659+00:00 [2322] [INFO] create snapshot idx 800000 log_term 1 done: 50 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T11:59:39.315_347+00:00 [2406] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T11:59:39.316_810+00:00 [2406] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T11:59:39.316_841+00:00 [2406] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T11:59:39.316_848+00:00 [2406] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T11:59:39.316_869+00:00 [2406] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T11:59:39.316_872+00:00 [2406] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T11:59:39.316_876+00:00 [2406] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T11:59:39.316_914+00:00 [2406] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T11:59:39.316_934+00:00 [2442] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T11:59:40.746_142+00:00 [2412] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T11:59:40.746_154+00:00 [2412] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T11:59:40.746_171+00:00 [2412] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T11:59:40.746_183+00:00 [2412] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T11:59:40.746_190+00:00 [2412] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T11:59:40.746_194+00:00 [2412] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T11:59:40.746_213+00:00 [2412] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T11:59:40.746_280+00:00 [2441] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T11:59:40.746_290+00:00 [2441] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T11:59:40.746_301+00:00 [2441] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T11:59:40.867_878+00:00 [2406] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T11:59:50.872_869+00:00 [2406] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T11:59:50.872_879+00:00 [2406] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T11:59:50.872_991+00:00 [2406] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:00:03.160_631+00:00 [2441] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:03.160_651+00:00 [2441] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:03.160_681+00:00 [2441] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:03.160_687+00:00 [2441] [INFO] create snapshot idx 100000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:05.448_397+00:00 [2441] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:05.448_438+00:00 [2441] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:05.448_457+00:00 [2441] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:05.448_461+00:00 [2441] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:07.745_594+00:00 [2441] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:07.745_611+00:00 [2441] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:07.745_645+00:00 [2441] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:07.745_650+00:00 [2441] [INFO] create snapshot idx 300000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:10.041_354+00:00 [2441] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:10.041_367+00:00 [2441] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:10.041_384+00:00 [2441] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:10.041_388+00:00 [2441] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:12.362_079+00:00 [2441] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:12.362_106+00:00 [2441] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:12.362_129+00:00 [2441] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:12.362_135+00:00 [2441] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:14.676_716+00:00 [2441] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:14.676_746+00:00 [2441] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:14.676_818+00:00 [2441] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:14.676_824+00:00 [2441] [INFO] create snapshot idx 600000 log_term 1 done: 71 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:16.985_257+00:00 [2441] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:16.985_274+00:00 [2441] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:16.985_356+00:00 [2441] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:16.985_371+00:00 [2441] [INFO] create snapshot idx 700000 log_term 1 done: 90 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:19.283_445+00:00 [2441] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:19.283_480+00:00 [2441] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:19.283_503+00:00 [2441] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:19.283_508+00:00 [2441] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:20.977_067+00:00 [2558] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:00:20.978_544+00:00 [2558] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:00:20.978_575+00:00 [2558] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:00:20.978_582+00:00 [2558] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:00:20.978_603+00:00 [2558] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:00:20.978_607+00:00 [2558] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:00:20.978_610+00:00 [2558] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:00:20.978_650+00:00 [2558] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:00:20.978_673+00:00 [2594] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:00:22.518_880+00:00 [2564] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:00:22.518_893+00:00 [2564] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:00:22.518_908+00:00 [2564] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:00:22.518_924+00:00 [2564] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:00:22.518_930+00:00 [2564] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:00:22.518_933+00:00 [2564] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:00:22.518_952+00:00 [2564] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:00:22.519_016+00:00 [2593] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:00:22.519_027+00:00 [2593] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:00:22.519_037+00:00 [2593] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:00:22.529_670+00:00 [2558] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:00:32.534_192+00:00 [2558] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:00:32.534_202+00:00 [2558] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:00:32.534_313+00:00 [2558] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:00:44.809_867+00:00 [2593] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:44.809_902+00:00 [2593] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:44.809_923+00:00 [2593] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:44.809_927+00:00 [2593] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:47.077_193+00:00 [2593] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:47.077_209+00:00 [2593] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:47.077_247+00:00 [2593] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:47.077_258+00:00 [2593] [INFO] create snapshot idx 200000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:49.362_789+00:00 [2593] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:49.362_806+00:00 [2593] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:49.362_836+00:00 [2593] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:49.362_841+00:00 [2593] [INFO] create snapshot idx 300000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:51.642_137+00:00 [2593] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:51.642_185+00:00 [2593] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:51.642_205+00:00 [2593] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:51.642_208+00:00 [2593] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:53.919_423+00:00 [2593] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:53.919_435+00:00 [2593] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:53.919_469+00:00 [2593] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:53.919_474+00:00 [2593] [INFO] create snapshot idx 500000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:56.204_366+00:00 [2593] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:56.204_383+00:00 [2593] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:56.204_413+00:00 [2593] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:56.204_446+00:00 [2593] [INFO] create snapshot idx 600000 log_term 1 done: 55 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:00:58.500_644+00:00 [2593] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:00:58.500_685+00:00 [2593] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:00:58.500_703+00:00 [2593] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:00:58.500_706+00:00 [2593] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:00.803_805+00:00 [2593] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:00.803_843+00:00 [2593] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:00.803_897+00:00 [2593] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:00.803_922+00:00 [2593] [INFO] create snapshot idx 800000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:02.647_558+00:00 [2695] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:01:02.649_088+00:00 [2695] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:01:02.649_120+00:00 [2695] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:01:02.649_127+00:00 [2695] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:01:02.649_149+00:00 [2695] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:01:02.649_153+00:00 [2695] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:01:02.649_157+00:00 [2695] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:01:02.649_207+00:00 [2695] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:01:02.649_236+00:00 [2731] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:01:04.266_460+00:00 [2701] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:01:04.266_472+00:00 [2701] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:01:04.266_487+00:00 [2701] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:01:04.266_498+00:00 [2701] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:01:04.266_503+00:00 [2701] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:01:04.266_507+00:00 [2701] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:01:04.266_525+00:00 [2701] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:01:04.266_592+00:00 [2730] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:01:04.266_602+00:00 [2730] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:01:04.266_612+00:00 [2730] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:01:04.450_830+00:00 [2695] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:01:14.455_787+00:00 [2695] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:01:14.455_797+00:00 [2695] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:01:14.455_914+00:00 [2695] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:01:26.729_207+00:00 [2730] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:26.729_225+00:00 [2730] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:26.729_265+00:00 [2730] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:26.729_270+00:00 [2730] [INFO] create snapshot idx 100000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:29.017_324+00:00 [2730] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:29.017_343+00:00 [2730] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:29.017_372+00:00 [2730] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:29.017_378+00:00 [2730] [INFO] create snapshot idx 200000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:31.301_244+00:00 [2730] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:31.301_261+00:00 [2730] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:31.301_295+00:00 [2730] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:31.301_305+00:00 [2730] [INFO] create snapshot idx 300000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:33.578_013+00:00 [2730] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:33.578_046+00:00 [2730] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:33.578_066+00:00 [2730] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:33.578_069+00:00 [2730] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:35.850_487+00:00 [2730] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:35.850_546+00:00 [2730] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:35.850_570+00:00 [2730] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:35.850_575+00:00 [2730] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:38.146_641+00:00 [2730] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:38.146_655+00:00 [2730] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:38.146_680+00:00 [2730] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:38.146_686+00:00 [2730] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:40.435_507+00:00 [2730] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:40.435_520+00:00 [2730] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:40.435_544+00:00 [2730] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:40.435_550+00:00 [2730] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:42.710_571+00:00 [2730] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:01:42.710_584+00:00 [2730] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:01:42.710_608+00:00 [2730] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:01:42.710_613+00:00 [2730] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:01:44.566_384+00:00 [2877] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:01:44.567_894+00:00 [2877] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:01:44.567_929+00:00 [2877] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:01:44.567_934+00:00 [2877] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:01:44.567_957+00:00 [2877] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:01:44.567_961+00:00 [2877] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:01:44.567_963+00:00 [2877] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:01:44.568_001+00:00 [2877] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:01:44.568_024+00:00 [2913] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:01:46.244_237+00:00 [2883] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:01:46.244_248+00:00 [2883] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:01:46.244_264+00:00 [2883] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:01:46.244_275+00:00 [2883] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:01:46.244_282+00:00 [2883] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:01:46.244_285+00:00 [2883] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:01:46.244_303+00:00 [2883] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:01:46.244_383+00:00 [2912] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:01:46.244_394+00:00 [2912] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:01:46.244_404+00:00 [2912] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:01:46.369_129+00:00 [2877] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:01:56.374_004+00:00 [2877] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:01:56.374_013+00:00 [2877] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:01:56.374_133+00:00 [2877] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:02:08.585_556+00:00 [2912] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:08.585_570+00:00 [2912] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:08.585_594+00:00 [2912] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:08.585_599+00:00 [2912] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:02:10.818_650+00:00 [2912] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:10.818_664+00:00 [2912] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:10.818_688+00:00 [2912] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:10.818_694+00:00 [2912] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:02:13.058_383+00:00 [2912] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:13.058_400+00:00 [2912] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:13.058_435+00:00 [2912] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:13.058_441+00:00 [2912] [INFO] create snapshot idx 300000 log_term 1 done: 34 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:02:15.292_917+00:00 [2912] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:15.292_929+00:00 [2912] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:15.292_967+00:00 [2912] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:15.292_972+00:00 [2912] [INFO] create snapshot idx 400000 log_term 1 done: 36 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:02:17.563_607+00:00 [2912] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:17.563_619+00:00 [2912] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:17.563_642+00:00 [2912] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:17.563_649+00:00 [2912] [INFO] create snapshot idx 500000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:02:19.842_756+00:00 [2912] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:19.842_773+00:00 [2912] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:19.842_801+00:00 [2912] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:19.842_807+00:00 [2912] [INFO] create snapshot idx 600000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:02:22.075_433+00:00 [2912] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:22.075_445+00:00 [2912] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:22.075_503+00:00 [2912] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:22.075_533+00:00 [2912] [INFO] create snapshot idx 700000 log_term 1 done: 78 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:02:24.305_691+00:00 [2912] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:02:24.305_722+00:00 [2912] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:02:24.305_764+00:00 [2912] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:02:24.305_776+00:00 [2912] [INFO] create snapshot idx 800000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:04:58.363_015+00:00 [3242] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:04:58.364_625+00:00 [3242] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:04:58.364_662+00:00 [3242] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:04:58.364_666+00:00 [3242] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:04:58.364_689+00:00 [3242] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:04:58.364_694+00:00 [3242] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:04:58.364_696+00:00 [3242] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:04:58.364_731+00:00 [3242] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:04:58.364_755+00:00 [3278] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:04:59.828_060+00:00 [3247] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:04:59.828_084+00:00 [3247] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:04:59.828_120+00:00 [3247] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:04:59.828_148+00:00 [3247] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:04:59.828_163+00:00 [3247] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:04:59.828_174+00:00 [3247] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:04:59.828_222+00:00 [3247] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:04:59.828_400+00:00 [3277] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:04:59.828_434+00:00 [3277] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:04:59.828_461+00:00 [3277] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:04:59.915_742+00:00 [3242] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:05:09.920_995+00:00 [3242] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:05:09.921_004+00:00 [3242] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:05:09.921_124+00:00 [3242] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:05:22.528_746+00:00 [3277] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:05:22.528_763+00:00 [3277] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:05:22.528_790+00:00 [3277] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:05:22.528_795+00:00 [3277] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:05:25.086_424+00:00 [3277] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:05:25.086_437+00:00 [3277] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:05:25.086_460+00:00 [3277] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:05:25.086_465+00:00 [3277] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:05:27.659_848+00:00 [3277] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:05:27.659_866+00:00 [3277] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:05:27.659_892+00:00 [3277] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:05:27.659_896+00:00 [3277] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:05:30.240_040+00:00 [3277] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:05:30.240_056+00:00 [3277] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:05:30.240_084+00:00 [3277] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:05:30.240_088+00:00 [3277] [INFO] create snapshot idx 400000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:05:32.803_563+00:00 [3277] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:05:32.803_580+00:00 [3277] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:05:32.803_609+00:00 [3277] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:05:32.803_612+00:00 [3277] [INFO] create snapshot idx 500000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:05:35.378_951+00:00 [3277] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:05:35.378_970+00:00 [3277] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:05:35.378_996+00:00 [3277] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:05:35.379_000+00:00 [3277] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:05:37.932_464+00:00 [3277] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:05:37.932_482+00:00 [3277] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:05:37.932_509+00:00 [3277] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:05:37.932_513+00:00 [3277] [INFO] create snapshot idx 700000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:05:39.996_502+00:00 [3350] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:05:39.997_975+00:00 [3350] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:05:39.998_004+00:00 [3350] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:05:39.998_009+00:00 [3350] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:05:39.998_029+00:00 [3350] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:05:39.998_033+00:00 [3350] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:05:39.998_036+00:00 [3350] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:05:39.998_080+00:00 [3350] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:05:39.998_103+00:00 [3386] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:05:41.379_339+00:00 [3355] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:05:41.379_350+00:00 [3355] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:05:41.379_364+00:00 [3355] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:05:41.379_376+00:00 [3355] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:05:41.379_383+00:00 [3355] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:05:41.379_387+00:00 [3355] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:05:41.379_405+00:00 [3355] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:05:41.379_472+00:00 [3385] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:05:41.379_482+00:00 [3385] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:05:41.379_492+00:00 [3385] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:05:41.549_044+00:00 [3350] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:05:51.554_191+00:00 [3350] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:05:51.554_200+00:00 [3350] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:05:51.554_319+00:00 [3350] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:06:03.671_522+00:00 [3385] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:03.671_534+00:00 [3385] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:03.671_556+00:00 [3385] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:03.671_560+00:00 [3385] [INFO] create snapshot idx 100000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:05.795_487+00:00 [3385] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:05.795_500+00:00 [3385] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:05.795_527+00:00 [3385] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:05.795_536+00:00 [3385] [INFO] create snapshot idx 200000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:07.918_823+00:00 [3385] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:07.918_840+00:00 [3385] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:07.918_869+00:00 [3385] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:07.918_876+00:00 [3385] [INFO] create snapshot idx 300000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:10.058_501+00:00 [3385] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:10.058_513+00:00 [3385] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:10.058_537+00:00 [3385] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:10.058_542+00:00 [3385] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:12.195_445+00:00 [3385] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:12.195_460+00:00 [3385] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:12.195_521+00:00 [3385] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:12.195_526+00:00 [3385] [INFO] create snapshot idx 500000 log_term 1 done: 60 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:14.329_706+00:00 [3385] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:14.329_722+00:00 [3385] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:14.329_747+00:00 [3385] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:14.329_751+00:00 [3385] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:16.472_858+00:00 [3385] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:16.472_872+00:00 [3385] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:16.472_895+00:00 [3385] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:16.472_899+00:00 [3385] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:18.603_059+00:00 [3385] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:18.603_071+00:00 [3385] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:18.603_095+00:00 [3385] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:18.603_099+00:00 [3385] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:20.736_753+00:00 [3385] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:20.736_767+00:00 [3385] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:20.736_789+00:00 [3385] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:20.736_793+00:00 [3385] [INFO] create snapshot idx 900000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:21.644_161+00:00 [3455] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:06:21.645_636+00:00 [3455] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:06:21.645_667+00:00 [3455] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:06:21.645_674+00:00 [3455] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:06:21.645_696+00:00 [3455] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:06:21.645_700+00:00 [3455] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:06:21.645_704+00:00 [3455] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:06:21.645_743+00:00 [3455] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:06:21.645_767+00:00 [3491] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:06:23.031_112+00:00 [3461] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:06:23.031_136+00:00 [3461] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:06:23.031_174+00:00 [3461] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:06:23.031_201+00:00 [3461] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:06:23.031_216+00:00 [3461] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:06:23.031_227+00:00 [3461] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:06:23.031_275+00:00 [3461] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:06:23.031_485+00:00 [3490] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:06:23.031_519+00:00 [3490] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:06:23.031_546+00:00 [3490] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:06:23.196_896+00:00 [3455] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:06:33.202_363+00:00 [3455] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:06:33.202_372+00:00 [3455] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:06:33.202_484+00:00 [3455] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:06:45.225_545+00:00 [3490] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:45.225_561+00:00 [3490] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:45.225_590+00:00 [3490] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:45.225_595+00:00 [3490] [INFO] create snapshot idx 100000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:47.285_682+00:00 [3490] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:47.285_694+00:00 [3490] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:47.285_719+00:00 [3490] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:47.285_724+00:00 [3490] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:49.344_689+00:00 [3490] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:49.344_702+00:00 [3490] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:49.344_727+00:00 [3490] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:49.344_736+00:00 [3490] [INFO] create snapshot idx 300000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:51.409_123+00:00 [3490] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:51.409_136+00:00 [3490] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:51.409_161+00:00 [3490] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:51.409_166+00:00 [3490] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:53.471_453+00:00 [3490] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:53.471_466+00:00 [3490] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:53.471_487+00:00 [3490] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:53.471_491+00:00 [3490] [INFO] create snapshot idx 500000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:55.533_691+00:00 [3490] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:55.533_704+00:00 [3490] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:55.533_726+00:00 [3490] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:55.533_729+00:00 [3490] [INFO] create snapshot idx 600000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:57.585_407+00:00 [3490] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:57.585_420+00:00 [3490] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:57.585_444+00:00 [3490] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:57.585_451+00:00 [3490] [INFO] create snapshot idx 700000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:06:59.651_724+00:00 [3490] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:06:59.651_744+00:00 [3490] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:06:59.651_767+00:00 [3490] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:06:59.651_773+00:00 [3490] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:01.726_536+00:00 [3490] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:01.726_553+00:00 [3490] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:01.726_583+00:00 [3490] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:01.726_593+00:00 [3490] [INFO] create snapshot idx 900000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:03.299_350+00:00 [3563] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:07:03.300_890+00:00 [3563] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:07:03.300_924+00:00 [3563] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:07:03.300_930+00:00 [3563] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:07:03.300_950+00:00 [3563] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:07:03.300_954+00:00 [3563] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:07:03.300_957+00:00 [3563] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:07:03.300_995+00:00 [3563] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:07:03.301_015+00:00 [3599] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:07:05.096_229+00:00 [3568] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:07:05.096_241+00:00 [3568] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:07:05.096_256+00:00 [3568] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:07:05.096_273+00:00 [3568] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:07:05.096_279+00:00 [3568] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:07:05.096_283+00:00 [3568] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:07:05.096_301+00:00 [3568] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:07:05.096_383+00:00 [3598] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:07:05.096_394+00:00 [3598] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:07:05.096_404+00:00 [3598] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:07:05.102_087+00:00 [3563] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:07:15.106_842+00:00 [3563] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:07:15.106_851+00:00 [3563] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:07:15.106_963+00:00 [3563] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:07:27.112_815+00:00 [3598] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:27.112_828+00:00 [3598] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:27.112_872+00:00 [3598] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:27.112_877+00:00 [3598] [INFO] create snapshot idx 100000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:29.115_854+00:00 [3598] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:29.115_873+00:00 [3598] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:29.115_906+00:00 [3598] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:29.115_910+00:00 [3598] [INFO] create snapshot idx 200000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:31.117_991+00:00 [3598] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:31.118_076+00:00 [3598] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:31.118_100+00:00 [3598] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:31.118_104+00:00 [3598] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:33.113_176+00:00 [3598] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:33.113_236+00:00 [3598] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:33.113_261+00:00 [3598] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:33.113_265+00:00 [3598] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:35.115_840+00:00 [3598] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:35.115_903+00:00 [3598] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:35.115_922+00:00 [3598] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:35.115_925+00:00 [3598] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:37.113_345+00:00 [3598] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:37.113_359+00:00 [3598] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:37.113_377+00:00 [3598] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:37.113_381+00:00 [3598] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:39.112_312+00:00 [3598] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:39.112_324+00:00 [3598] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:39.112_348+00:00 [3598] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:39.112_353+00:00 [3598] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:41.124_002+00:00 [3598] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:41.124_023+00:00 [3598] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:41.124_073+00:00 [3598] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:41.124_079+00:00 [3598] [INFO] create snapshot idx 800000 log_term 1 done: 50 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:43.140_218+00:00 [3598] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:07:43.140_231+00:00 [3598] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:07:43.140_255+00:00 [3598] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:07:43.140_260+00:00 [3598] [INFO] create snapshot idx 900000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:07:45.209_928+00:00 [3671] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:07:45.211_454+00:00 [3671] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:07:45.211_485+00:00 [3671] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:07:45.211_489+00:00 [3671] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:07:45.211_509+00:00 [3671] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:07:45.211_513+00:00 [3671] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:07:45.211_515+00:00 [3671] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:07:45.211_554+00:00 [3671] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:07:45.211_574+00:00 [3707] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:07:46.517_751+00:00 [3674] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:07:46.517_764+00:00 [3674] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:07:46.517_779+00:00 [3674] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:07:46.517_795+00:00 [3674] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:07:46.517_802+00:00 [3674] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:07:46.517_805+00:00 [3674] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:07:46.517_823+00:00 [3674] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:07:46.517_897+00:00 [3706] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:07:46.517_907+00:00 [3706] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:07:46.517_917+00:00 [3706] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:07:46.762_602+00:00 [3671] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:07:56.767_400+00:00 [3671] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:07:56.767_410+00:00 [3671] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:07:56.767_530+00:00 [3671] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:08:08.868_056+00:00 [3706] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:08.868_069+00:00 [3706] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:08.868_095+00:00 [3706] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:08.868_100+00:00 [3706] [INFO] create snapshot idx 100000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:11.085_242+00:00 [3706] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:11.085_256+00:00 [3706] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:11.085_281+00:00 [3706] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:11.085_290+00:00 [3706] [INFO] create snapshot idx 200000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:13.342_332+00:00 [3706] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:13.342_344+00:00 [3706] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:13.342_368+00:00 [3706] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:13.342_373+00:00 [3706] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:15.586_960+00:00 [3706] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:15.586_975+00:00 [3706] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:15.587_038+00:00 [3706] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:15.587_043+00:00 [3706] [INFO] create snapshot idx 400000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:17.862_674+00:00 [3706] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:17.862_721+00:00 [3706] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:17.862_759+00:00 [3706] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:17.862_767+00:00 [3706] [INFO] create snapshot idx 500000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:20.126_168+00:00 [3706] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:20.126_181+00:00 [3706] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:20.126_238+00:00 [3706] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:20.126_243+00:00 [3706] [INFO] create snapshot idx 600000 log_term 1 done: 55 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:22.401_970+00:00 [3706] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:22.402_004+00:00 [3706] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:22.402_061+00:00 [3706] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:22.402_072+00:00 [3706] [INFO] create snapshot idx 700000 log_term 1 done: 61 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:24.658_743+00:00 [3706] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:24.658_783+00:00 [3706] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:24.658_804+00:00 [3706] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:24.658_807+00:00 [3706] [INFO] create snapshot idx 800000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:26.867_709+00:00 [3783] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:08:26.869_176+00:00 [3783] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:08:26.869_209+00:00 [3783] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:08:26.869_214+00:00 [3783] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:08:26.869_237+00:00 [3783] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:08:26.869_241+00:00 [3783] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:08:26.869_244+00:00 [3783] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:08:26.869_287+00:00 [3783] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:08:26.869_309+00:00 [3819] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:08:28.919_456+00:00 [3789] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:08:28.919_469+00:00 [3789] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:08:28.919_483+00:00 [3789] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:08:28.919_494+00:00 [3789] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:08:28.919_500+00:00 [3789] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:08:28.919_504+00:00 [3789] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:08:28.919_522+00:00 [3789] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:08:28.919_587+00:00 [3818] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:08:28.919_597+00:00 [3818] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:08:28.919_607+00:00 [3818] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:08:28.920_528+00:00 [3783] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:08:38.925_438+00:00 [3783] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:08:38.925_448+00:00 [3783] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:08:38.925_564+00:00 [3783] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:08:51.213_567+00:00 [3818] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:51.213_581+00:00 [3818] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:51.213_604+00:00 [3818] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:51.213_608+00:00 [3818] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:53.504_597+00:00 [3818] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:53.504_609+00:00 [3818] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:53.504_649+00:00 [3818] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:53.504_657+00:00 [3818] [INFO] create snapshot idx 200000 log_term 1 done: 41 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:55.801_460+00:00 [3818] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:55.801_478+00:00 [3818] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:55.801_511+00:00 [3818] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:55.801_525+00:00 [3818] [INFO] create snapshot idx 300000 log_term 1 done: 41 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:08:58.088_575+00:00 [3818] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:08:58.088_591+00:00 [3818] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:08:58.088_620+00:00 [3818] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:08:58.088_635+00:00 [3818] [INFO] create snapshot idx 400000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:00.389_036+00:00 [3818] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:00.389_052+00:00 [3818] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:00.389_099+00:00 [3818] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:00.389_109+00:00 [3818] [INFO] create snapshot idx 500000 log_term 1 done: 46 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:02.684_772+00:00 [3818] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:02.684_785+00:00 [3818] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:02.684_808+00:00 [3818] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:02.684_812+00:00 [3818] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:04.968_533+00:00 [3818] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:04.968_593+00:00 [3818] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:04.968_618+00:00 [3818] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:04.968_644+00:00 [3818] [INFO] create snapshot idx 700000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:07.273_835+00:00 [3818] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:07.273_869+00:00 [3818] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:07.273_903+00:00 [3818] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:07.273_934+00:00 [3818] [INFO] create snapshot idx 800000 log_term 1 done: 57 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:09.027_376+00:00 [3901] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:09:09.028_917+00:00 [3901] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:09:09.028_953+00:00 [3901] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:09:09.028_957+00:00 [3901] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:09:09.028_978+00:00 [3901] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:09:09.028_982+00:00 [3901] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:09:09.028_985+00:00 [3901] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:09:09.029_022+00:00 [3901] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:09:09.029_044+00:00 [3937] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:09:10.793_238+00:00 [3906] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:09:10.793_250+00:00 [3906] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:09:10.793_264+00:00 [3906] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:09:10.793_281+00:00 [3906] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:09:10.793_287+00:00 [3906] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:09:10.793_291+00:00 [3906] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:09:10.793_309+00:00 [3906] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:09:10.793_370+00:00 [3936] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:09:10.793_381+00:00 [3936] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:09:10.793_391+00:00 [3936] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:09:10.830_125+00:00 [3901] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:09:20.835_099+00:00 [3901] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:09:20.835_109+00:00 [3901] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:09:20.835_232+00:00 [3901] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:09:33.111_669+00:00 [3936] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:33.111_682+00:00 [3936] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:33.111_738+00:00 [3936] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:33.111_744+00:00 [3936] [INFO] create snapshot idx 100000 log_term 1 done: 50 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:35.405_822+00:00 [3936] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:35.405_870+00:00 [3936] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:35.405_893+00:00 [3936] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:35.405_899+00:00 [3936] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:37.710_714+00:00 [3936] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:37.710_727+00:00 [3936] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:37.710_757+00:00 [3936] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:37.710_763+00:00 [3936] [INFO] create snapshot idx 300000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:40.006_194+00:00 [3936] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:40.006_218+00:00 [3936] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:40.006_247+00:00 [3936] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:40.006_269+00:00 [3936] [INFO] create snapshot idx 400000 log_term 1 done: 44 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:42.315_323+00:00 [3936] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:42.315_335+00:00 [3936] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:42.315_359+00:00 [3936] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:42.315_379+00:00 [3936] [INFO] create snapshot idx 500000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:44.613_144+00:00 [3936] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:44.613_157+00:00 [3936] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:44.613_181+00:00 [3936] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:44.613_187+00:00 [3936] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:46.920_639+00:00 [3936] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:46.920_663+00:00 [3936] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:46.920_681+00:00 [3936] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:46.920_684+00:00 [3936] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:49.223_304+00:00 [3936] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:09:49.223_317+00:00 [3936] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:09:49.223_364+00:00 [3936] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:09:49.223_369+00:00 [3936] [INFO] create snapshot idx 800000 log_term 1 done: 45 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:09:50.939_597+00:00 [4015] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:09:50.941_071+00:00 [4015] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:09:50.941_104+00:00 [4015] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:09:50.941_110+00:00 [4015] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:09:50.941_133+00:00 [4015] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:09:50.941_137+00:00 [4015] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:09:50.941_140+00:00 [4015] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:09:50.941_181+00:00 [4015] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:09:50.941_211+00:00 [4051] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:09:52.690_423+00:00 [4020] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:09:52.690_436+00:00 [4020] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:09:52.690_450+00:00 [4020] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:09:52.690_461+00:00 [4020] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:09:52.690_468+00:00 [4020] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:09:52.690_472+00:00 [4020] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:09:52.690_490+00:00 [4020] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:09:52.690_565+00:00 [4050] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:09:52.690_575+00:00 [4050] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:09:52.690_585+00:00 [4050] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:09:52.742_733+00:00 [4015] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:10:02.747_665+00:00 [4015] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:10:02.747_674+00:00 [4015] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:10:02.747_795+00:00 [4015] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:10:14.985_687+00:00 [4050] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:14.985_707+00:00 [4050] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:14.985_741+00:00 [4050] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:14.985_756+00:00 [4050] [INFO] create snapshot idx 100000 log_term 1 done: 41 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:17.234_294+00:00 [4050] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:17.234_309+00:00 [4050] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:17.234_334+00:00 [4050] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:17.234_340+00:00 [4050] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:19.494_405+00:00 [4050] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:19.494_425+00:00 [4050] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:19.494_453+00:00 [4050] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:19.494_457+00:00 [4050] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:21.752_106+00:00 [4050] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:21.752_120+00:00 [4050] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:21.752_149+00:00 [4050] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:21.752_155+00:00 [4050] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:24.019_812+00:00 [4050] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:24.019_829+00:00 [4050] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:24.019_858+00:00 [4050] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:24.019_873+00:00 [4050] [INFO] create snapshot idx 500000 log_term 1 done: 36 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:26.293_772+00:00 [4050] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:26.293_832+00:00 [4050] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:26.293_860+00:00 [4050] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:26.293_864+00:00 [4050] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:28.570_739+00:00 [4050] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:28.570_752+00:00 [4050] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:28.570_776+00:00 [4050] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:28.570_784+00:00 [4050] [INFO] create snapshot idx 700000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:30.835_535+00:00 [4050] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:30.835_548+00:00 [4050] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:30.835_572+00:00 [4050] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:30.835_578+00:00 [4050] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:32.857_828+00:00 [4134] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:10:32.859_324+00:00 [4134] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:10:32.859_356+00:00 [4134] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:10:32.859_360+00:00 [4134] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:10:32.859_384+00:00 [4134] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:10:32.859_388+00:00 [4134] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:10:32.859_391+00:00 [4134] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:10:32.859_433+00:00 [4134] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:10:32.859_462+00:00 [4170] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:10:34.311_678+00:00 [4137] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:10:34.311_689+00:00 [4137] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:10:34.311_704+00:00 [4137] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:10:34.311_715+00:00 [4137] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:10:34.311_721+00:00 [4137] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:10:34.311_724+00:00 [4137] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:10:34.311_742+00:00 [4137] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:10:34.311_817+00:00 [4169] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:10:34.311_827+00:00 [4169] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:10:34.311_838+00:00 [4169] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:10:34.410_430+00:00 [4134] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:10:44.415_083+00:00 [4134] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:10:44.415_092+00:00 [4134] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:10:44.415_208+00:00 [4134] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:10:56.700_001+00:00 [4169] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:56.700_013+00:00 [4169] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:56.700_037+00:00 [4169] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:56.700_043+00:00 [4169] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:10:58.978_352+00:00 [4169] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:10:58.978_370+00:00 [4169] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:10:58.978_398+00:00 [4169] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:10:58.978_404+00:00 [4169] [INFO] create snapshot idx 200000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:01.268_397+00:00 [4169] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:01.268_415+00:00 [4169] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:01.268_445+00:00 [4169] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:01.268_450+00:00 [4169] [INFO] create snapshot idx 300000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:03.554_116+00:00 [4169] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:03.554_134+00:00 [4169] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:03.554_163+00:00 [4169] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:03.554_195+00:00 [4169] [INFO] create snapshot idx 400000 log_term 1 done: 54 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:05.835_003+00:00 [4169] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:05.835_017+00:00 [4169] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:05.835_040+00:00 [4169] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:05.835_049+00:00 [4169] [INFO] create snapshot idx 500000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:08.137_304+00:00 [4169] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:08.137_321+00:00 [4169] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:08.137_350+00:00 [4169] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:08.137_355+00:00 [4169] [INFO] create snapshot idx 600000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:10.415_946+00:00 [4169] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:10.415_973+00:00 [4169] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:10.416_007+00:00 [4169] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:10.416_013+00:00 [4169] [INFO] create snapshot idx 700000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:12.702_912+00:00 [4169] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:12.702_927+00:00 [4169] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:12.702_956+00:00 [4169] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:12.702_967+00:00 [4169] [INFO] create snapshot idx 800000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:14.528_044+00:00 [4252] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:11:14.529_542+00:00 [4252] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:11:14.529_572+00:00 [4252] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:11:14.529_578+00:00 [4252] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:11:14.529_598+00:00 [4252] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:11:14.529_602+00:00 [4252] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:11:14.529_605+00:00 [4252] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:11:14.529_640+00:00 [4252] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:11:14.529_670+00:00 [4288] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:11:16.490_872+00:00 [4258] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:11:16.490_886+00:00 [4258] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:11:16.490_900+00:00 [4258] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:11:16.490_916+00:00 [4258] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:11:16.490_922+00:00 [4258] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:11:16.490_925+00:00 [4258] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:11:16.490_944+00:00 [4258] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:11:16.491_010+00:00 [4287] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:11:16.491_020+00:00 [4287] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:11:16.491_030+00:00 [4287] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:11:16.580_867+00:00 [4252] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:11:26.585_700+00:00 [4252] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:11:26.585_709+00:00 [4252] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:11:26.585_824+00:00 [4252] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:11:38.846_818+00:00 [4287] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:38.846_832+00:00 [4287] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:38.846_867+00:00 [4287] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:38.846_882+00:00 [4287] [INFO] create snapshot idx 100000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:41.115_627+00:00 [4287] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:41.115_647+00:00 [4287] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:41.115_688+00:00 [4287] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:41.115_698+00:00 [4287] [INFO] create snapshot idx 200000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:43.347_198+00:00 [4287] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:43.347_210+00:00 [4287] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:43.347_234+00:00 [4287] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:43.347_241+00:00 [4287] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:45.599_372+00:00 [4287] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:45.599_385+00:00 [4287] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:45.599_414+00:00 [4287] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:45.599_430+00:00 [4287] [INFO] create snapshot idx 400000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:47.853_718+00:00 [4287] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:47.853_730+00:00 [4287] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:47.853_786+00:00 [4287] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:47.853_792+00:00 [4287] [INFO] create snapshot idx 500000 log_term 1 done: 55 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:50.144_865+00:00 [4287] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:50.144_882+00:00 [4287] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:50.144_911+00:00 [4287] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:50.144_916+00:00 [4287] [INFO] create snapshot idx 600000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:52.418_529+00:00 [4287] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:52.418_549+00:00 [4287] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:52.418_584+00:00 [4287] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:52.418_595+00:00 [4287] [INFO] create snapshot idx 700000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:11:54.703_767+00:00 [4287] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:11:54.703_786+00:00 [4287] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:11:54.703_820+00:00 [4287] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:11:54.703_835+00:00 [4287] [INFO] create snapshot idx 800000 log_term 1 done: 42 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:33:56.677_477+00:00 [5065] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:33:56.678_814+00:00 [5065] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:33:56.678_841+00:00 [5065] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:33:56.678_847+00:00 [5065] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:33:56.678_868+00:00 [5065] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:33:56.678_872+00:00 [5065] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:33:56.678_876+00:00 [5065] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:33:56.678_908+00:00 [5065] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:33:56.679_044+00:00 [5101] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:33:57.802_151+00:00 [5072] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:33:57.802_163+00:00 [5072] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:33:57.802_177+00:00 [5072] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:33:57.802_194+00:00 [5072] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:33:57.802_200+00:00 [5072] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:33:57.802_204+00:00 [5072] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:33:57.802_222+00:00 [5072] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:33:57.802_276+00:00 [5100] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:33:57.802_284+00:00 [5100] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:33:57.802_294+00:00 [5100] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:33:57.979_804+00:00 [5065] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:34:07.984_711+00:00 [5065] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:34:07.984_719+00:00 [5065] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:34:07.984_833+00:00 [5065] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:34:20.287_949+00:00 [5100] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:20.287_960+00:00 [5100] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:20.287_978+00:00 [5100] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:20.287_981+00:00 [5100] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:22.637_857+00:00 [5100] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:22.637_867+00:00 [5100] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:22.637_885+00:00 [5100] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:22.637_888+00:00 [5100] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:24.975_983+00:00 [5100] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:24.975_993+00:00 [5100] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:24.976_010+00:00 [5100] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:24.976_014+00:00 [5100] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:27.317_518+00:00 [5100] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:27.317_529+00:00 [5100] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:27.317_546+00:00 [5100] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:27.317_550+00:00 [5100] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:29.662_785+00:00 [5100] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:29.662_795+00:00 [5100] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:29.662_811+00:00 [5100] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:29.662_814+00:00 [5100] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:32.018_709+00:00 [5100] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:32.018_719+00:00 [5100] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:32.018_736+00:00 [5100] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:32.018_739+00:00 [5100] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:34.367_505+00:00 [5100] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:34.367_514+00:00 [5100] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:34.367_532+00:00 [5100] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:34.367_535+00:00 [5100] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:36.714_203+00:00 [5100] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:34:36.714_213+00:00 [5100] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:34:36.714_232+00:00 [5100] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:34:36.714_235+00:00 [5100] [INFO] create snapshot idx 800000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:34:38.062_186+00:00 [5173] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:34:38.063_568+00:00 [5173] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:34:38.063_597+00:00 [5173] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:34:38.063_603+00:00 [5173] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:34:38.063_625+00:00 [5173] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:34:38.063_629+00:00 [5173] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:34:38.063_632+00:00 [5173] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:34:38.063_661+00:00 [5173] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:34:38.063_809+00:00 [5209] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:34:39.567_821+00:00 [5180] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:34:39.567_831+00:00 [5180] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:34:39.567_845+00:00 [5180] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:34:39.567_860+00:00 [5180] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:34:39.567_867+00:00 [5180] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:34:39.567_870+00:00 [5180] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:34:39.567_888+00:00 [5180] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:34:39.567_934+00:00 [5208] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:34:39.567_942+00:00 [5208] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:34:39.567_952+00:00 [5208] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:34:39.615_007+00:00 [5173] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:34:49.619_774+00:00 [5173] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:34:49.619_783+00:00 [5173] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:34:49.619_893+00:00 [5173] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:35:01.666_613+00:00 [5208] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:01.666_624+00:00 [5208] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:01.666_642+00:00 [5208] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:01.666_645+00:00 [5208] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:04.106_277+00:00 [5208] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:04.106_287+00:00 [5208] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:04.106_303+00:00 [5208] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:04.106_307+00:00 [5208] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:06.702_343+00:00 [5208] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:06.702_353+00:00 [5208] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:06.702_370+00:00 [5208] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:06.702_373+00:00 [5208] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:09.310_833+00:00 [5208] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:09.310_843+00:00 [5208] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:09.310_860+00:00 [5208] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:09.310_863+00:00 [5208] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:11.912_301+00:00 [5208] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:11.912_312+00:00 [5208] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:11.912_330+00:00 [5208] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:11.912_333+00:00 [5208] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:14.522_998+00:00 [5208] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:14.523_007+00:00 [5208] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:14.523_026+00:00 [5208] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:14.523_029+00:00 [5208] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:17.123_634+00:00 [5208] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:17.123_644+00:00 [5208] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:17.123_662+00:00 [5208] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:17.123_666+00:00 [5208] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:19.698_786+00:00 [5277] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:35:19.700_880+00:00 [5277] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:35:19.700_915+00:00 [5277] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:35:19.700_921+00:00 [5277] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:35:19.700_945+00:00 [5277] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:35:19.700_950+00:00 [5277] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:35:19.700_953+00:00 [5277] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:35:19.700_989+00:00 [5277] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:35:19.701_495+00:00 [5313] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:35:21.234_181+00:00 [5284] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:35:21.234_192+00:00 [5284] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:35:21.234_207+00:00 [5284] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:35:21.234_219+00:00 [5284] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:35:21.234_226+00:00 [5284] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:35:21.234_230+00:00 [5284] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:35:21.234_249+00:00 [5284] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:35:21.234_302+00:00 [5312] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:35:21.234_309+00:00 [5312] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:35:21.234_319+00:00 [5312] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:35:21.251_986+00:00 [5277] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:35:31.256_653+00:00 [5277] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:35:31.256_662+00:00 [5277] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:35:31.256_772+00:00 [5277] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:35:43.740_205+00:00 [5312] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:43.740_214+00:00 [5312] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:43.740_231+00:00 [5312] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:43.740_235+00:00 [5312] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:46.337_161+00:00 [5312] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:46.337_171+00:00 [5312] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:46.337_189+00:00 [5312] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:46.337_192+00:00 [5312] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:48.937_034+00:00 [5312] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:48.937_043+00:00 [5312] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:48.937_059+00:00 [5312] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:48.937_063+00:00 [5312] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:51.541_681+00:00 [5312] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:51.541_690+00:00 [5312] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:51.541_706+00:00 [5312] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:51.541_709+00:00 [5312] [INFO] create snapshot idx 400000 log_term 1 done: 14 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:54.148_133+00:00 [5312] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:54.148_142+00:00 [5312] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:54.148_159+00:00 [5312] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:54.148_162+00:00 [5312] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:56.762_334+00:00 [5312] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:56.762_343+00:00 [5312] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:56.762_362+00:00 [5312] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:56.762_365+00:00 [5312] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:35:59.372_007+00:00 [5312] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:35:59.372_017+00:00 [5312] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:35:59.372_035+00:00 [5312] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:35:59.372_038+00:00 [5312] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:01.337_270+00:00 [5388] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:36:01.338_586+00:00 [5388] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:36:01.338_614+00:00 [5388] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:36:01.338_622+00:00 [5388] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:36:01.338_644+00:00 [5388] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:36:01.338_649+00:00 [5388] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:36:01.338_651+00:00 [5388] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:36:01.338_683+00:00 [5388] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:36:01.338_825+00:00 [5424] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:36:02.887_892+00:00 [5395] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:36:02.887_903+00:00 [5395] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:36:02.887_917+00:00 [5395] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:36:02.887_928+00:00 [5395] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:36:02.887_934+00:00 [5395] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:36:02.887_937+00:00 [5395] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:36:02.887_956+00:00 [5395] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:36:02.888_007+00:00 [5423] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:36:02.888_015+00:00 [5423] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:36:02.888_026+00:00 [5423] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:36:02.889_631+00:00 [5388] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:36:12.894_419+00:00 [5388] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:36:12.894_428+00:00 [5388] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:36:12.894_531+00:00 [5388] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:36:25.460_770+00:00 [5423] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:36:25.460_780+00:00 [5423] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:36:25.460_798+00:00 [5423] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:36:25.460_801+00:00 [5423] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:28.076_150+00:00 [5423] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:36:28.076_160+00:00 [5423] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:36:28.076_178+00:00 [5423] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:36:28.076_181+00:00 [5423] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:30.703_874+00:00 [5423] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:36:30.703_883+00:00 [5423] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:36:30.703_900+00:00 [5423] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:36:30.703_904+00:00 [5423] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:33.334_647+00:00 [5423] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:36:33.334_656+00:00 [5423] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:36:33.334_673+00:00 [5423] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:36:33.334_676+00:00 [5423] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:35.964_082+00:00 [5423] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:36:35.964_092+00:00 [5423] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:36:35.964_109+00:00 [5423] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:36:35.964_112+00:00 [5423] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:38.607_670+00:00 [5423] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:36:38.607_680+00:00 [5423] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:36:38.607_697+00:00 [5423] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:36:38.607_700+00:00 [5423] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:41.241_452+00:00 [5423] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:36:41.241_461+00:00 [5423] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:36:41.241_478+00:00 [5423] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:36:41.241_481+00:00 [5423] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:36:42.978_024+00:00 [5490] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:36:42.979_419+00:00 [5490] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:36:42.979_448+00:00 [5490] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:36:42.979_454+00:00 [5490] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:36:42.979_475+00:00 [5490] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:36:42.979_479+00:00 [5490] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:36:42.979_482+00:00 [5490] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:36:42.979_512+00:00 [5490] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:36:42.979_659+00:00 [5526] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:36:44.058_732+00:00 [5497] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:36:44.058_743+00:00 [5497] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:36:44.058_757+00:00 [5497] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:36:44.058_774+00:00 [5497] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:36:44.058_781+00:00 [5497] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:36:44.058_784+00:00 [5497] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:36:44.058_802+00:00 [5497] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:36:44.058_852+00:00 [5525] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:36:44.058_860+00:00 [5525] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:36:44.058_870+00:00 [5525] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:36:44.280_453+00:00 [5490] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:36:54.285_391+00:00 [5490] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:36:54.285_399+00:00 [5490] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:36:54.285_500+00:00 [5490] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:37:06.864_002+00:00 [5525] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:06.864_011+00:00 [5525] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:06.864_029+00:00 [5525] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:06.864_032+00:00 [5525] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:09.508_245+00:00 [5525] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:09.508_256+00:00 [5525] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:09.508_271+00:00 [5525] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:09.508_274+00:00 [5525] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:12.145_781+00:00 [5525] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:12.145_791+00:00 [5525] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:12.145_809+00:00 [5525] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:12.145_812+00:00 [5525] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:14.799_122+00:00 [5525] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:14.799_133+00:00 [5525] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:14.799_151+00:00 [5525] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:14.799_155+00:00 [5525] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:17.473_528+00:00 [5525] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:17.473_538+00:00 [5525] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:17.473_555+00:00 [5525] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:17.473_558+00:00 [5525] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:20.124_430+00:00 [5525] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:20.124_440+00:00 [5525] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:20.124_458+00:00 [5525] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:20.124_462+00:00 [5525] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:22.772_763+00:00 [5525] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:22.772_773+00:00 [5525] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:22.772_791+00:00 [5525] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:22.772_794+00:00 [5525] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:24.371_467+00:00 [5608] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:37:24.372_790+00:00 [5608] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:37:24.372_822+00:00 [5608] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:37:24.372_828+00:00 [5608] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:37:24.372_852+00:00 [5608] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:37:24.372_856+00:00 [5608] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:37:24.372_859+00:00 [5608] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:37:24.372_891+00:00 [5608] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:37:24.373_041+00:00 [5644] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:37:26.288_109+00:00 [5615] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:37:26.288_121+00:00 [5615] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:37:26.288_134+00:00 [5615] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:37:26.288_144+00:00 [5615] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:37:26.288_150+00:00 [5615] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:37:26.288_154+00:00 [5615] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:37:26.288_172+00:00 [5615] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:37:26.288_226+00:00 [5643] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:37:26.288_234+00:00 [5643] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:37:26.288_244+00:00 [5643] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:37:26.424_528+00:00 [5608] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:37:36.429_136+00:00 [5608] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:37:36.429_146+00:00 [5608] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:37:36.429_254+00:00 [5608] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:37:48.996_013+00:00 [5643] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:48.996_022+00:00 [5643] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:48.996_041+00:00 [5643] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:48.996_044+00:00 [5643] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:51.617_749+00:00 [5643] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:51.617_758+00:00 [5643] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:51.617_776+00:00 [5643] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:51.617_779+00:00 [5643] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:54.242_492+00:00 [5643] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:54.242_502+00:00 [5643] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:54.242_520+00:00 [5643] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:54.242_523+00:00 [5643] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:56.879_599+00:00 [5643] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:56.879_609+00:00 [5643] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:56.879_626+00:00 [5643] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:56.879_630+00:00 [5643] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:37:59.516_199+00:00 [5643] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:37:59.516_207+00:00 [5643] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:37:59.516_225+00:00 [5643] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:37:59.516_228+00:00 [5643] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:02.154_373+00:00 [5643] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:02.154_383+00:00 [5643] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:02.154_400+00:00 [5643] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:02.154_403+00:00 [5643] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:04.794_819+00:00 [5643] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:04.794_828+00:00 [5643] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:04.794_846+00:00 [5643] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:04.794_849+00:00 [5643] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:06.519_561+00:00 [5720] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:38:06.520_885+00:00 [5720] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:38:06.520_914+00:00 [5720] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:38:06.520_921+00:00 [5720] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:38:06.520_941+00:00 [5720] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:38:06.520_946+00:00 [5720] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:38:06.520_948+00:00 [5720] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:38:06.520_974+00:00 [5720] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:38:06.521_116+00:00 [5756] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:38:07.972_183+00:00 [5727] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:38:07.972_195+00:00 [5727] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:38:07.972_209+00:00 [5727] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:38:07.972_220+00:00 [5727] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:38:07.972_226+00:00 [5727] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:38:07.972_230+00:00 [5727] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:38:07.972_248+00:00 [5727] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:38:07.972_301+00:00 [5755] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:38:07.972_309+00:00 [5755] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:38:07.972_324+00:00 [5755] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:38:08.072_006+00:00 [5720] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:38:18.076_909+00:00 [5720] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:38:18.076_918+00:00 [5720] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:38:18.077_028+00:00 [5720] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:38:30.641_196+00:00 [5755] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:30.641_208+00:00 [5755] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:30.641_226+00:00 [5755] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:30.641_230+00:00 [5755] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:33.270_063+00:00 [5755] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:33.270_073+00:00 [5755] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:33.270_091+00:00 [5755] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:33.270_095+00:00 [5755] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:35.894_736+00:00 [5755] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:35.894_745+00:00 [5755] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:35.894_762+00:00 [5755] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:35.894_766+00:00 [5755] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:38.532_839+00:00 [5755] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:38.532_849+00:00 [5755] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:38.532_865+00:00 [5755] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:38.532_869+00:00 [5755] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:41.165_869+00:00 [5755] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:41.165_879+00:00 [5755] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:41.165_896+00:00 [5755] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:41.165_899+00:00 [5755] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:43.811_505+00:00 [5755] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:43.811_516+00:00 [5755] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:43.811_534+00:00 [5755] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:43.811_537+00:00 [5755] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:46.447_989+00:00 [5755] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:38:46.447_999+00:00 [5755] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:38:46.448_015+00:00 [5755] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:38:46.448_018+00:00 [5755] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:38:48.172_225+00:00 [5834] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:38:48.173_553+00:00 [5834] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:38:48.173_582+00:00 [5834] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:38:48.173_588+00:00 [5834] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:38:48.173_610+00:00 [5834] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:38:48.173_614+00:00 [5834] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:38:48.173_617+00:00 [5834] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:38:48.173_644+00:00 [5834] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:38:48.173_790+00:00 [5870] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:38:49.780_848+00:00 [5841] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:38:49.780_859+00:00 [5841] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:38:49.780_874+00:00 [5841] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:38:49.780_890+00:00 [5841] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:38:49.780_897+00:00 [5841] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:38:49.780_900+00:00 [5841] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:38:49.780_919+00:00 [5841] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:38:49.780_978+00:00 [5869] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:38:49.780_986+00:00 [5869] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:38:49.780_997+00:00 [5869] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:38:49.974_804+00:00 [5834] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:38:59.979_373+00:00 [5834] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:38:59.979_382+00:00 [5834] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:38:59.979_493+00:00 [5834] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:39:12.510_636+00:00 [5869] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:12.510_646+00:00 [5869] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:12.510_669+00:00 [5869] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:12.510_672+00:00 [5869] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:15.096_136+00:00 [5869] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:15.096_146+00:00 [5869] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:15.096_164+00:00 [5869] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:15.096_168+00:00 [5869] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:17.684_827+00:00 [5869] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:17.684_837+00:00 [5869] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:17.684_854+00:00 [5869] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:17.684_857+00:00 [5869] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:20.304_787+00:00 [5869] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:20.304_797+00:00 [5869] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:20.304_814+00:00 [5869] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:20.304_817+00:00 [5869] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:22.899_435+00:00 [5869] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:22.899_446+00:00 [5869] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:22.899_463+00:00 [5869] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:22.899_467+00:00 [5869] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:25.506_399+00:00 [5869] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:25.506_409+00:00 [5869] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:25.506_427+00:00 [5869] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:25.506_430+00:00 [5869] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:28.107_626+00:00 [5869] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:28.107_636+00:00 [5869] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:28.107_652+00:00 [5869] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:28.107_655+00:00 [5869] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:30.074_294+00:00 [5952] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:39:30.075_651+00:00 [5952] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:39:30.075_680+00:00 [5952] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:39:30.075_685+00:00 [5952] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:39:30.075_706+00:00 [5952] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:39:30.075_711+00:00 [5952] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:39:30.075_713+00:00 [5952] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:39:30.075_745+00:00 [5952] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:39:30.075_891+00:00 [5988] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:39:31.964_982+00:00 [5959] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:39:31.964_994+00:00 [5959] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:39:31.965_008+00:00 [5959] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:39:31.965_026+00:00 [5959] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:39:31.965_033+00:00 [5959] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:39:31.965_036+00:00 [5959] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:39:31.965_055+00:00 [5959] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:39:31.965_113+00:00 [5987] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:39:31.965_120+00:00 [5987] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:39:31.965_130+00:00 [5987] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:39:32.127_261+00:00 [5952] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:39:42.132_152+00:00 [5952] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:39:42.132_173+00:00 [5952] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:39:42.132_424+00:00 [5952] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:39:54.702_478+00:00 [5987] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:54.702_488+00:00 [5987] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:54.702_505+00:00 [5987] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:54.702_508+00:00 [5987] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:57.319_726+00:00 [5987] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:57.319_735+00:00 [5987] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:57.319_752+00:00 [5987] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:57.319_755+00:00 [5987] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:39:59.942_098+00:00 [5987] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:39:59.942_108+00:00 [5987] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:39:59.942_126+00:00 [5987] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:39:59.942_129+00:00 [5987] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:02.567_029+00:00 [5987] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:02.567_039+00:00 [5987] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:02.567_056+00:00 [5987] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:02.567_060+00:00 [5987] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:05.191_339+00:00 [5987] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:05.191_348+00:00 [5987] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:05.191_365+00:00 [5987] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:05.191_369+00:00 [5987] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:07.825_012+00:00 [5987] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:07.825_022+00:00 [5987] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:07.825_037+00:00 [5987] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:07.825_040+00:00 [5987] [INFO] create snapshot idx 600000 log_term 1 done: 14 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:10.455_813+00:00 [5987] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:10.455_822+00:00 [5987] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:10.455_839+00:00 [5987] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:10.455_842+00:00 [5987] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:12.231_381+00:00 [6076] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:40:12.232_696+00:00 [6076] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:40:12.232_730+00:00 [6076] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:40:12.232_734+00:00 [6076] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:40:12.232_756+00:00 [6076] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:40:12.232_760+00:00 [6076] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:40:12.232_763+00:00 [6076] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:40:12.232_794+00:00 [6076] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:40:12.232_934+00:00 [6112] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:40:13.754_019+00:00 [6083] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:40:13.754_030+00:00 [6083] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:40:13.754_044+00:00 [6083] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:40:13.754_055+00:00 [6083] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:40:13.754_062+00:00 [6083] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:40:13.754_065+00:00 [6083] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:40:13.754_084+00:00 [6083] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:40:13.754_137+00:00 [6111] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:40:13.754_145+00:00 [6111] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:40:13.754_155+00:00 [6111] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:40:13.783_897+00:00 [6076] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:40:23.788_701+00:00 [6076] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:40:23.788_710+00:00 [6076] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:40:23.788_815+00:00 [6076] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:40:36.381_883+00:00 [6111] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:36.381_894+00:00 [6111] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:36.381_915+00:00 [6111] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:36.381_919+00:00 [6111] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:39.036_863+00:00 [6111] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:39.036_874+00:00 [6111] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:39.036_892+00:00 [6111] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:39.036_895+00:00 [6111] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:41.690_992+00:00 [6111] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:41.691_002+00:00 [6111] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:41.691_019+00:00 [6111] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:41.691_023+00:00 [6111] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:44.356_056+00:00 [6111] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:44.356_066+00:00 [6111] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:44.356_082+00:00 [6111] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:44.356_085+00:00 [6111] [INFO] create snapshot idx 400000 log_term 1 done: 14 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:47.011_886+00:00 [6111] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:47.011_895+00:00 [6111] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:47.011_913+00:00 [6111] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:47.011_916+00:00 [6111] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:49.683_723+00:00 [6111] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:49.683_732+00:00 [6111] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:49.683_749+00:00 [6111] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:49.683_753+00:00 [6111] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:40:52.346_214+00:00 [6111] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:40:52.346_222+00:00 [6111] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:40:52.346_239+00:00 [6111] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:40:52.346_242+00:00 [6111] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:44:40.329_399+00:00 [6529] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:44:40.330_724+00:00 [6529] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:44:40.330_758+00:00 [6529] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:44:40.330_762+00:00 [6529] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:44:40.330_786+00:00 [6529] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:44:40.330_790+00:00 [6529] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:44:40.330_792+00:00 [6529] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:44:40.330_823+00:00 [6529] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:44:40.330_968+00:00 [6565] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:44:42.013_046+00:00 [6536] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:44:42.013_059+00:00 [6536] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:44:42.013_075+00:00 [6536] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:44:42.013_086+00:00 [6536] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:44:42.013_094+00:00 [6536] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:44:42.013_098+00:00 [6536] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:44:42.013_117+00:00 [6536] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:44:42.013_170+00:00 [6564] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:44:42.013_178+00:00 [6564] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:44:42.013_188+00:00 [6564] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:44:42.131_968+00:00 [6529] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:44:52.136_878+00:00 [6529] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:44:52.136_886+00:00 [6529] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:44:52.137_001+00:00 [6529] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:45:04.443_229+00:00 [6564] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:04.443_239+00:00 [6564] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:04.443_256+00:00 [6564] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:04.443_260+00:00 [6564] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:06.786_683+00:00 [6564] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:06.786_691+00:00 [6564] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:06.786_709+00:00 [6564] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:06.786_712+00:00 [6564] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:09.136_324+00:00 [6564] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:09.136_334+00:00 [6564] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:09.136_352+00:00 [6564] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:09.136_356+00:00 [6564] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:11.486_007+00:00 [6564] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:11.486_017+00:00 [6564] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:11.486_035+00:00 [6564] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:11.486_039+00:00 [6564] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:13.833_597+00:00 [6564] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:13.833_605+00:00 [6564] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:13.833_623+00:00 [6564] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:13.833_626+00:00 [6564] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:16.183_459+00:00 [6564] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:16.183_469+00:00 [6564] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:16.183_486+00:00 [6564] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:16.183_490+00:00 [6564] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:18.534_713+00:00 [6564] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:18.534_723+00:00 [6564] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:18.534_741+00:00 [6564] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:18.534_744+00:00 [6564] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:20.882_156+00:00 [6564] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:20.882_164+00:00 [6564] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:20.882_181+00:00 [6564] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:20.882_185+00:00 [6564] [INFO] create snapshot idx 800000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:22.214_216+00:00 [6637] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:45:22.215_614+00:00 [6637] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:45:22.215_643+00:00 [6637] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:45:22.215_649+00:00 [6637] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:45:22.215_669+00:00 [6637] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:45:22.215_673+00:00 [6637] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:45:22.215_675+00:00 [6637] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:45:22.215_708+00:00 [6637] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:45:22.215_861+00:00 [6673] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:45:23.488_917+00:00 [6644] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:45:23.488_929+00:00 [6644] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:45:23.488_943+00:00 [6644] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:45:23.488_960+00:00 [6644] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:45:23.488_967+00:00 [6644] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:45:23.488_970+00:00 [6644] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:45:23.488_988+00:00 [6644] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:45:23.489_042+00:00 [6672] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:45:23.489_050+00:00 [6672] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:45:23.489_060+00:00 [6672] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:45:23.516_577+00:00 [6637] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:45:33.521_367+00:00 [6637] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:45:33.521_376+00:00 [6637] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:45:33.521_493+00:00 [6637] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:45:45.574_383+00:00 [6672] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:45.574_393+00:00 [6672] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:45.574_412+00:00 [6672] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:45.574_415+00:00 [6672] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:48.030_445+00:00 [6672] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:48.030_455+00:00 [6672] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:48.030_473+00:00 [6672] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:48.030_477+00:00 [6672] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:50.629_485+00:00 [6672] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:50.629_494+00:00 [6672] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:50.629_511+00:00 [6672] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:50.629_514+00:00 [6672] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:53.239_241+00:00 [6672] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:53.239_251+00:00 [6672] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:53.239_269+00:00 [6672] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:53.239_273+00:00 [6672] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:55.845_754+00:00 [6672] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:55.845_763+00:00 [6672] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:55.845_780+00:00 [6672] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:55.845_782+00:00 [6672] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:45:58.462_666+00:00 [6672] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:45:58.462_675+00:00 [6672] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:45:58.462_693+00:00 [6672] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:45:58.462_696+00:00 [6672] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:01.073_439+00:00 [6672] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:01.073_449+00:00 [6672] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:01.073_467+00:00 [6672] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:01.073_470+00:00 [6672] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:03.599_822+00:00 [6743] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:46:03.601_142+00:00 [6743] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:46:03.601_175+00:00 [6743] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:46:03.601_179+00:00 [6743] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:46:03.601_202+00:00 [6743] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:46:03.601_206+00:00 [6743] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:46:03.601_208+00:00 [6743] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:46:03.601_235+00:00 [6743] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:46:03.601_378+00:00 [6779] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:46:05.313_502+00:00 [6750] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:46:05.313_513+00:00 [6750] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:46:05.313_527+00:00 [6750] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:46:05.313_537+00:00 [6750] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:46:05.313_543+00:00 [6750] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:46:05.313_547+00:00 [6750] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:46:05.313_565+00:00 [6750] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:46:05.313_614+00:00 [6778] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:46:05.313_622+00:00 [6778] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:46:05.313_633+00:00 [6778] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:46:05.402_337+00:00 [6743] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:46:15.407_173+00:00 [6743] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:46:15.407_183+00:00 [6743] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:46:15.407_289+00:00 [6743] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:46:27.896_144+00:00 [6778] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:27.896_154+00:00 [6778] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:27.896_171+00:00 [6778] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:27.896_175+00:00 [6778] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:30.520_186+00:00 [6778] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:30.520_197+00:00 [6778] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:30.520_215+00:00 [6778] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:30.520_218+00:00 [6778] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:33.137_624+00:00 [6778] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:33.137_634+00:00 [6778] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:33.137_651+00:00 [6778] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:33.137_654+00:00 [6778] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:35.764_063+00:00 [6778] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:35.764_072+00:00 [6778] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:35.764_090+00:00 [6778] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:35.764_093+00:00 [6778] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:38.385_929+00:00 [6778] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:38.385_938+00:00 [6778] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:38.385_955+00:00 [6778] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:38.385_958+00:00 [6778] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:41.023_164+00:00 [6778] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:41.023_175+00:00 [6778] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:41.023_192+00:00 [6778] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:41.023_195+00:00 [6778] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:43.648_293+00:00 [6778] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:46:43.648_303+00:00 [6778] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:46:43.648_320+00:00 [6778] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:46:43.648_323+00:00 [6778] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:46:45.487_520+00:00 [6849] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:46:45.488_829+00:00 [6849] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:46:45.488_860+00:00 [6849] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:46:45.488_864+00:00 [6849] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:46:45.488_887+00:00 [6849] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:46:45.488_891+00:00 [6849] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:46:45.488_894+00:00 [6849] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:46:45.488_920+00:00 [6849] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:46:45.489_065+00:00 [6885] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:46:46.694_136+00:00 [6856] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:46:46.694_148+00:00 [6856] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:46:46.694_163+00:00 [6856] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:46:46.694_174+00:00 [6856] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:46:46.694_180+00:00 [6856] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:46:46.694_183+00:00 [6856] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:46:46.694_202+00:00 [6856] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:46:46.694_262+00:00 [6884] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:46:46.694_270+00:00 [6884] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:46:46.694_280+00:00 [6884] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:46:46.789_803+00:00 [6849] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:46:56.794_122+00:00 [6849] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:46:56.794_131+00:00 [6849] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:46:56.794_242+00:00 [6849] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:47:09.360_032+00:00 [6884] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:09.360_042+00:00 [6884] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:09.360_059+00:00 [6884] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:09.360_062+00:00 [6884] [INFO] create snapshot idx 100000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:11.985_056+00:00 [6884] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:11.985_067+00:00 [6884] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:11.985_084+00:00 [6884] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:11.985_087+00:00 [6884] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:14.608_423+00:00 [6884] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:14.608_432+00:00 [6884] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:14.608_449+00:00 [6884] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:14.608_452+00:00 [6884] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:17.239_293+00:00 [6884] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:17.239_309+00:00 [6884] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:17.239_326+00:00 [6884] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:17.239_329+00:00 [6884] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:19.867_294+00:00 [6884] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:19.867_314+00:00 [6884] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:19.867_336+00:00 [6884] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:19.867_344+00:00 [6884] [INFO] create snapshot idx 500000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:22.503_327+00:00 [6884] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:22.503_336+00:00 [6884] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:22.503_353+00:00 [6884] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:22.503_356+00:00 [6884] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:25.131_927+00:00 [6884] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:25.131_938+00:00 [6884] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:25.131_955+00:00 [6884] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:25.131_958+00:00 [6884] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:26.878_785+00:00 [6959] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:47:26.880_148+00:00 [6959] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:47:26.880_174+00:00 [6959] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:47:26.880_179+00:00 [6959] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:47:26.880_200+00:00 [6959] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:47:26.880_204+00:00 [6959] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:47:26.880_207+00:00 [6959] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:47:26.880_235+00:00 [6959] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:47:26.880_370+00:00 [6995] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:47:28.804_495+00:00 [6966] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:47:28.804_507+00:00 [6966] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:47:28.804_522+00:00 [6966] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:47:28.804_539+00:00 [6966] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:47:28.804_546+00:00 [6966] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:47:28.804_550+00:00 [6966] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:47:28.804_569+00:00 [6966] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:47:28.804_632+00:00 [6994] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:47:28.804_640+00:00 [6994] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:47:28.804_651+00:00 [6994] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:47:28.931_770+00:00 [6959] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:47:38.936_982+00:00 [6959] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:47:38.936_993+00:00 [6959] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:47:38.937_112+00:00 [6959] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:47:51.506_707+00:00 [6994] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:51.506_717+00:00 [6994] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:51.506_735+00:00 [6994] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:51.506_738+00:00 [6994] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:54.139_964+00:00 [6994] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:54.139_974+00:00 [6994] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:54.139_992+00:00 [6994] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:54.139_995+00:00 [6994] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:56.775_042+00:00 [6994] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:56.775_051+00:00 [6994] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:56.775_069+00:00 [6994] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:56.775_072+00:00 [6994] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:47:59.420_225+00:00 [6994] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:47:59.420_236+00:00 [6994] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:47:59.420_254+00:00 [6994] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:47:59.420_258+00:00 [6994] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:02.059_913+00:00 [6994] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:02.059_923+00:00 [6994] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:02.059_940+00:00 [6994] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:02.059_943+00:00 [6994] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:04.713_512+00:00 [6994] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:04.713_522+00:00 [6994] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:04.713_539+00:00 [6994] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:04.713_543+00:00 [6994] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:07.352_974+00:00 [6994] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:07.352_983+00:00 [6994] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:07.353_000+00:00 [6994] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:07.353_004+00:00 [6994] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:09.024_395+00:00 [7070] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:48:09.025_713+00:00 [7070] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:48:09.025_742+00:00 [7070] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:48:09.025_748+00:00 [7070] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:48:09.025_769+00:00 [7070] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:48:09.025_773+00:00 [7070] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:48:09.025_776+00:00 [7070] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:48:09.025_809+00:00 [7070] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:48:09.025_948+00:00 [7106] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:48:10.735_009+00:00 [7077] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:48:10.735_022+00:00 [7077] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:48:10.735_037+00:00 [7077] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:48:10.735_048+00:00 [7077] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:48:10.735_054+00:00 [7077] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:48:10.735_058+00:00 [7077] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:48:10.735_076+00:00 [7077] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:48:10.735_141+00:00 [7105] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:48:10.735_149+00:00 [7105] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:48:10.735_159+00:00 [7105] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:48:10.827_086+00:00 [7070] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:48:20.831_735+00:00 [7070] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:48:20.831_743+00:00 [7070] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:48:20.831_851+00:00 [7070] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:48:33.410_197+00:00 [7105] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:33.410_207+00:00 [7105] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:33.410_225+00:00 [7105] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:33.410_228+00:00 [7105] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:36.038_554+00:00 [7105] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:36.038_564+00:00 [7105] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:36.038_582+00:00 [7105] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:36.038_585+00:00 [7105] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:38.671_494+00:00 [7105] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:38.671_505+00:00 [7105] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:38.671_522+00:00 [7105] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:38.671_525+00:00 [7105] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:41.311_807+00:00 [7105] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:41.311_818+00:00 [7105] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:41.311_835+00:00 [7105] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:41.311_839+00:00 [7105] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:43.952_493+00:00 [7105] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:43.952_502+00:00 [7105] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:43.952_519+00:00 [7105] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:43.952_523+00:00 [7105] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:46.601_586+00:00 [7105] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:46.601_596+00:00 [7105] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:46.601_613+00:00 [7105] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:46.601_616+00:00 [7105] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:49.246_668+00:00 [7105] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:48:49.246_676+00:00 [7105] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:48:49.246_694+00:00 [7105] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:48:49.246_697+00:00 [7105] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:48:50.922_337+00:00 [7182] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:48:50.924_373+00:00 [7182] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:48:50.924_404+00:00 [7182] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:48:50.924_411+00:00 [7182] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:48:50.924_433+00:00 [7182] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:48:50.924_439+00:00 [7182] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:48:50.924_442+00:00 [7182] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:48:50.924_477+00:00 [7182] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:48:50.924_990+00:00 [7218] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:48:52.035_686+00:00 [7189] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:48:52.035_698+00:00 [7189] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:48:52.035_712+00:00 [7189] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:48:52.035_723+00:00 [7189] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:48:52.035_729+00:00 [7189] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:48:52.035_733+00:00 [7189] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:48:52.035_751+00:00 [7189] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:48:52.035_808+00:00 [7217] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:48:52.035_816+00:00 [7217] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:48:52.035_826+00:00 [7217] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:48:52.225_361+00:00 [7182] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:49:02.230_433+00:00 [7182] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:49:02.230_442+00:00 [7182] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:49:02.230_551+00:00 [7182] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:49:14.792_682+00:00 [7217] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:14.792_692+00:00 [7217] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:14.792_711+00:00 [7217] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:14.792_715+00:00 [7217] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:17.420_616+00:00 [7217] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:17.420_625+00:00 [7217] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:17.420_642+00:00 [7217] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:17.420_646+00:00 [7217] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:20.047_539+00:00 [7217] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:20.047_548+00:00 [7217] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:20.047_565+00:00 [7217] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:20.047_569+00:00 [7217] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:22.682_561+00:00 [7217] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:22.682_571+00:00 [7217] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:22.682_589+00:00 [7217] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:22.682_592+00:00 [7217] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:25.318_393+00:00 [7217] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:25.318_403+00:00 [7217] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:25.318_420+00:00 [7217] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:25.318_423+00:00 [7217] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:27.960_306+00:00 [7217] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:27.960_315+00:00 [7217] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:27.960_332+00:00 [7217] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:27.960_335+00:00 [7217] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:30.593_546+00:00 [7217] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:30.593_554+00:00 [7217] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:30.593_571+00:00 [7217] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:30.593_574+00:00 [7217] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:32.321_394+00:00 [7299] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:49:32.322_725+00:00 [7299] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:49:32.322_760+00:00 [7299] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:49:32.322_764+00:00 [7299] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:49:32.322_788+00:00 [7299] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:49:32.322_792+00:00 [7299] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:49:32.322_795+00:00 [7299] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:49:32.322_822+00:00 [7299] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:49:32.322_966+00:00 [7335] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:49:34.233_028+00:00 [7306] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:49:34.233_040+00:00 [7306] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:49:34.233_055+00:00 [7306] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:49:34.233_066+00:00 [7306] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:49:34.233_073+00:00 [7306] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:49:34.233_076+00:00 [7306] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:49:34.233_094+00:00 [7306] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:49:34.233_148+00:00 [7334] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:49:34.233_156+00:00 [7334] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:49:34.233_166+00:00 [7334] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:49:34.374_051+00:00 [7299] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:49:44.378_729+00:00 [7299] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:49:44.378_737+00:00 [7299] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:49:44.378_843+00:00 [7299] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:49:56.945_219+00:00 [7334] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:56.945_229+00:00 [7334] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:56.945_252+00:00 [7334] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:56.945_255+00:00 [7334] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:49:59.571_851+00:00 [7334] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:49:59.571_860+00:00 [7334] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:49:59.571_878+00:00 [7334] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:49:59.571_882+00:00 [7334] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:02.204_194+00:00 [7334] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:02.204_205+00:00 [7334] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:02.204_223+00:00 [7334] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:02.204_227+00:00 [7334] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:04.838_935+00:00 [7334] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:04.838_944+00:00 [7334] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:04.838_962+00:00 [7334] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:04.838_965+00:00 [7334] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:07.472_553+00:00 [7334] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:07.472_566+00:00 [7334] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:07.472_583+00:00 [7334] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:07.472_587+00:00 [7334] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:10.121_019+00:00 [7334] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:10.121_030+00:00 [7334] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:10.121_049+00:00 [7334] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:10.121_052+00:00 [7334] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:12.761_640+00:00 [7334] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:12.761_650+00:00 [7334] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:12.761_667+00:00 [7334] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:12.761_670+00:00 [7334] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:14.472_593+00:00 [7415] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:50:14.473_916+00:00 [7415] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:50:14.473_944+00:00 [7415] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:50:14.473_952+00:00 [7415] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:50:14.473_972+00:00 [7415] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:50:14.473_976+00:00 [7415] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:50:14.473_984+00:00 [7415] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:50:14.474_018+00:00 [7415] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:50:14.474_165+00:00 [7451] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:50:16.149_240+00:00 [7422] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:50:16.149_253+00:00 [7422] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:50:16.149_267+00:00 [7422] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:50:16.149_282+00:00 [7422] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:50:16.149_288+00:00 [7422] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:50:16.149_291+00:00 [7422] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:50:16.149_310+00:00 [7422] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:50:16.149_362+00:00 [7450] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:50:16.149_370+00:00 [7450] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:50:16.149_381+00:00 [7450] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:50:16.275_217+00:00 [7415] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:50:26.280_114+00:00 [7415] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:50:26.280_124+00:00 [7415] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:50:26.280_237+00:00 [7415] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:50:38.844_656+00:00 [7450] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:38.844_666+00:00 [7450] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:38.844_684+00:00 [7450] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:38.844_688+00:00 [7450] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:41.463_908+00:00 [7450] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:41.463_918+00:00 [7450] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:41.463_934+00:00 [7450] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:41.463_938+00:00 [7450] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:44.085_974+00:00 [7450] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:44.085_983+00:00 [7450] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:44.086_001+00:00 [7450] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:44.086_004+00:00 [7450] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:46.713_342+00:00 [7450] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:46.713_353+00:00 [7450] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:46.713_370+00:00 [7450] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:46.713_373+00:00 [7450] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:49.336_684+00:00 [7450] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:49.336_694+00:00 [7450] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:49.336_709+00:00 [7450] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:49.336_712+00:00 [7450] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:51.968_567+00:00 [7450] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:51.968_577+00:00 [7450] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:51.968_595+00:00 [7450] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:51.968_599+00:00 [7450] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:54.598_859+00:00 [7450] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:50:54.598_869+00:00 [7450] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:50:54.598_885+00:00 [7450] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:50:54.598_889+00:00 [7450] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:50:56.377_316+00:00 [7535] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T12:50:56.378_656+00:00 [7535] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T12:50:56.378_685+00:00 [7535] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T12:50:56.378_690+00:00 [7535] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T12:50:56.378_711+00:00 [7535] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T12:50:56.378_715+00:00 [7535] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T12:50:56.378_718+00:00 [7535] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T12:50:56.378_744+00:00 [7535] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T12:50:56.378_887+00:00 [7571] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T12:50:58.005_929+00:00 [7542] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T12:50:58.005_940+00:00 [7542] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T12:50:58.005_955+00:00 [7542] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T12:50:58.005_971+00:00 [7542] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T12:50:58.005_977+00:00 [7542] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T12:50:58.005_981+00:00 [7542] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T12:50:58.006_000+00:00 [7542] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T12:50:58.006_051+00:00 [7570] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T12:50:58.006_059+00:00 [7570] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T12:50:58.006_069+00:00 [7570] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T12:50:58.180_257+00:00 [7535] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:51:08.184_631+00:00 [7535] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T12:51:08.184_641+00:00 [7535] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T12:51:08.184_751+00:00 [7535] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T12:51:20.782_521+00:00 [7570] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:51:20.782_531+00:00 [7570] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:51:20.782_549+00:00 [7570] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:51:20.782_552+00:00 [7570] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:51:23.413_006+00:00 [7570] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:51:23.413_015+00:00 [7570] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:51:23.413_036+00:00 [7570] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:51:23.413_040+00:00 [7570] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:51:26.039_972+00:00 [7570] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:51:26.039_982+00:00 [7570] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:51:26.039_999+00:00 [7570] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:51:26.040_002+00:00 [7570] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:51:28.677_899+00:00 [7570] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:51:28.677_909+00:00 [7570] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:51:28.677_926+00:00 [7570] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:51:28.677_929+00:00 [7570] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:51:31.310_518+00:00 [7570] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:51:31.310_528+00:00 [7570] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:51:31.310_545+00:00 [7570] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:51:31.310_548+00:00 [7570] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:51:33.950_554+00:00 [7570] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:51:33.950_564+00:00 [7570] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:51:33.950_581+00:00 [7570] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:51:33.950_584+00:00 [7570] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T12:51:36.591_822+00:00 [7570] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T12:51:36.591_832+00:00 [7570] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T12:51:36.591_849+00:00 [7570] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T12:51:36.591_852+00:00 [7570] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:13.979_890+00:00 [8383] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:03:13.981_233+00:00 [8383] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:03:13.981_261+00:00 [8383] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:03:13.981_266+00:00 [8383] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:03:13.981_287+00:00 [8383] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:03:13.981_291+00:00 [8383] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:03:13.981_294+00:00 [8383] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:03:13.981_328+00:00 [8383] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:03:13.981_468+00:00 [8419] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:03:15.730_555+00:00 [8390] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:03:15.730_570+00:00 [8390] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:03:15.730_589+00:00 [8390] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:03:15.730_609+00:00 [8390] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:03:15.730_617+00:00 [8390] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:03:15.730_622+00:00 [8390] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:03:15.730_650+00:00 [8390] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:03:15.730_711+00:00 [8418] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:03:15.730_719+00:00 [8418] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:03:15.730_729+00:00 [8418] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:03:15.782_396+00:00 [8383] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:03:25.787_638+00:00 [8383] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:03:25.787_648+00:00 [8383] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:03:25.787_760+00:00 [8383] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:03:38.092_789+00:00 [8418] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:38.092_801+00:00 [8418] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:38.092_819+00:00 [8418] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:38.092_823+00:00 [8418] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:40.442_443+00:00 [8418] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:40.442_454+00:00 [8418] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:40.442_471+00:00 [8418] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:40.442_474+00:00 [8418] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:42.798_634+00:00 [8418] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:42.798_645+00:00 [8418] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:42.798_662+00:00 [8418] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:42.798_665+00:00 [8418] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:45.154_509+00:00 [8418] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:45.154_518+00:00 [8418] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:45.154_536+00:00 [8418] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:45.154_539+00:00 [8418] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:47.511_216+00:00 [8418] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:47.511_225+00:00 [8418] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:47.511_242+00:00 [8418] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:47.511_245+00:00 [8418] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:49.873_348+00:00 [8418] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:49.873_357+00:00 [8418] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:49.873_374+00:00 [8418] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:49.873_377+00:00 [8418] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:52.234_598+00:00 [8418] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:52.234_608+00:00 [8418] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:52.234_625+00:00 [8418] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:52.234_628+00:00 [8418] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:54.595_205+00:00 [8418] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:03:54.595_215+00:00 [8418] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:03:54.595_233+00:00 [8418] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:03:54.595_236+00:00 [8418] [INFO] create snapshot idx 800000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:03:55.864_567+00:00 [8496] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:03:55.865_885+00:00 [8496] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:03:55.865_915+00:00 [8496] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:03:55.865_919+00:00 [8496] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:03:55.865_941+00:00 [8496] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:03:55.865_945+00:00 [8496] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:03:55.865_947+00:00 [8496] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:03:55.865_974+00:00 [8496] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:03:55.866_120+00:00 [8532] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:03:57.377_141+00:00 [8503] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:03:57.377_152+00:00 [8503] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:03:57.377_166+00:00 [8503] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:03:57.377_177+00:00 [8503] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:03:57.377_183+00:00 [8503] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:03:57.377_187+00:00 [8503] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:03:57.377_205+00:00 [8503] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:03:57.377_254+00:00 [8531] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:03:57.377_262+00:00 [8531] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:03:57.377_272+00:00 [8531] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:03:57.416_986+00:00 [8496] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:04:07.421_923+00:00 [8496] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:04:07.421_932+00:00 [8496] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:04:07.422_048+00:00 [8496] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:04:19.488_550+00:00 [8531] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:04:19.488_560+00:00 [8531] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:04:19.488_577+00:00 [8531] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:04:19.488_580+00:00 [8531] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:04:21.855_511+00:00 [8531] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:04:21.855_521+00:00 [8531] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:04:21.855_539+00:00 [8531] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:04:21.855_543+00:00 [8531] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:04:24.464_071+00:00 [8531] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:04:24.464_081+00:00 [8531] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:04:24.464_098+00:00 [8531] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:04:24.464_101+00:00 [8531] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:04:27.075_967+00:00 [8531] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:04:27.075_977+00:00 [8531] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:04:27.075_994+00:00 [8531] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:04:27.075_997+00:00 [8531] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:04:29.688_166+00:00 [8531] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:04:29.688_176+00:00 [8531] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:04:29.688_192+00:00 [8531] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:04:29.688_195+00:00 [8531] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:04:32.302_229+00:00 [8531] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:04:32.302_239+00:00 [8531] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:04:32.302_256+00:00 [8531] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:04:32.302_259+00:00 [8531] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:04:34.912_604+00:00 [8531] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:04:34.912_613+00:00 [8531] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:04:34.912_629+00:00 [8531] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:04:34.912_633+00:00 [8531] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:04:37.501_872+00:00 [8600] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:04:37.503_224+00:00 [8600] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:04:37.503_254+00:00 [8600] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:04:37.503_261+00:00 [8600] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:04:37.503_282+00:00 [8600] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:04:37.503_286+00:00 [8600] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:04:37.503_289+00:00 [8600] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:04:37.503_347+00:00 [8600] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:04:37.503_511+00:00 [8636] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:04:39.227_566+00:00 [8607] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:04:39.227_579+00:00 [8607] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:04:39.227_594+00:00 [8607] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:04:39.227_604+00:00 [8607] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:04:39.227_611+00:00 [8607] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:04:39.227_614+00:00 [8607] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:04:39.227_633+00:00 [8607] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:04:39.227_690+00:00 [8635] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:04:39.227_698+00:00 [8635] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:04:39.227_708+00:00 [8635] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:04:39.304_466+00:00 [8600] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:04:49.309_325+00:00 [8600] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:04:49.309_334+00:00 [8600] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:04:49.309_453+00:00 [8600] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:05:01.805_328+00:00 [8635] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:01.805_339+00:00 [8635] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:01.805_358+00:00 [8635] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:01.805_362+00:00 [8635] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:04.437_668+00:00 [8635] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:04.437_678+00:00 [8635] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:04.437_696+00:00 [8635] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:04.437_699+00:00 [8635] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:07.069_689+00:00 [8635] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:07.069_700+00:00 [8635] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:07.069_717+00:00 [8635] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:07.069_721+00:00 [8635] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:09.713_507+00:00 [8635] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:09.713_518+00:00 [8635] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:09.713_535+00:00 [8635] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:09.713_539+00:00 [8635] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:12.353_452+00:00 [8635] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:12.353_463+00:00 [8635] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:12.353_480+00:00 [8635] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:12.353_484+00:00 [8635] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:14.994_362+00:00 [8635] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:14.994_372+00:00 [8635] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:14.994_389+00:00 [8635] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:14.994_392+00:00 [8635] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:17.629_569+00:00 [8635] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:17.629_578+00:00 [8635] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:17.629_595+00:00 [8635] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:17.629_598+00:00 [8635] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:19.389_240+00:00 [8694] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:05:19.390_558+00:00 [8694] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:05:19.390_586+00:00 [8694] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:05:19.390_592+00:00 [8694] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:05:19.390_614+00:00 [8694] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:05:19.390_618+00:00 [8694] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:05:19.390_621+00:00 [8694] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:05:19.390_650+00:00 [8694] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:05:19.390_789+00:00 [8730] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:05:20.837_862+00:00 [8701] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:05:20.837_874+00:00 [8701] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:05:20.837_889+00:00 [8701] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:05:20.837_900+00:00 [8701] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:05:20.837_906+00:00 [8701] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:05:20.837_910+00:00 [8701] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:05:20.837_928+00:00 [8701] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:05:20.837_984+00:00 [8729] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:05:20.837_991+00:00 [8729] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:05:20.838_001+00:00 [8729] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:05:20.941_802+00:00 [8694] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:05:30.947_110+00:00 [8694] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:05:30.947_119+00:00 [8694] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:05:30.947_228+00:00 [8694] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:05:43.498_191+00:00 [8729] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:43.498_201+00:00 [8729] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:43.498_219+00:00 [8729] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:43.498_222+00:00 [8729] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:46.102_576+00:00 [8729] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:46.102_585+00:00 [8729] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:46.102_603+00:00 [8729] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:46.102_606+00:00 [8729] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:48.714_018+00:00 [8729] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:48.714_029+00:00 [8729] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:48.714_047+00:00 [8729] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:48.714_050+00:00 [8729] [INFO] create snapshot idx 300000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:51.322_148+00:00 [8729] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:51.322_158+00:00 [8729] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:51.322_177+00:00 [8729] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:51.322_181+00:00 [8729] [INFO] create snapshot idx 400000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:53.934_352+00:00 [8729] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:53.934_361+00:00 [8729] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:53.934_378+00:00 [8729] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:53.934_382+00:00 [8729] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:56.552_052+00:00 [8729] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:56.552_062+00:00 [8729] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:56.552_080+00:00 [8729] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:56.552_083+00:00 [8729] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:05:59.174_490+00:00 [8729] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:05:59.174_499+00:00 [8729] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:05:59.174_518+00:00 [8729] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:05:59.174_521+00:00 [8729] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:01.029_896+00:00 [8768] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:06:01.031_230+00:00 [8768] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:06:01.031_259+00:00 [8768] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:06:01.031_263+00:00 [8768] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:06:01.031_285+00:00 [8768] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:06:01.031_289+00:00 [8768] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:06:01.031_292+00:00 [8768] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:06:01.031_404+00:00 [8768] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:06:01.031_556+00:00 [8804] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:06:02.743_642+00:00 [8775] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:06:02.743_655+00:00 [8775] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:06:02.743_671+00:00 [8775] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:06:02.743_682+00:00 [8775] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:06:02.743_688+00:00 [8775] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:06:02.743_691+00:00 [8775] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:06:02.743_710+00:00 [8775] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:06:02.743_766+00:00 [8803] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:06:02.743_774+00:00 [8803] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:06:02.743_784+00:00 [8803] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:06:02.832_542+00:00 [8768] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:06:12.837_129+00:00 [8768] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:06:12.837_137+00:00 [8768] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:06:12.837_243+00:00 [8768] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:06:25.393_030+00:00 [8803] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:06:25.393_040+00:00 [8803] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:06:25.393_058+00:00 [8803] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:06:25.393_061+00:00 [8803] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:28.006_295+00:00 [8803] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:06:28.006_306+00:00 [8803] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:06:28.006_327+00:00 [8803] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:06:28.006_331+00:00 [8803] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:30.627_031+00:00 [8803] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:06:30.627_041+00:00 [8803] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:06:30.627_058+00:00 [8803] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:06:30.627_061+00:00 [8803] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:33.254_881+00:00 [8803] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:06:33.254_889+00:00 [8803] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:06:33.254_907+00:00 [8803] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:06:33.254_911+00:00 [8803] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:35.876_034+00:00 [8803] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:06:35.876_044+00:00 [8803] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:06:35.876_061+00:00 [8803] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:06:35.876_065+00:00 [8803] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:38.502_523+00:00 [8803] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:06:38.502_532+00:00 [8803] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:06:38.502_549+00:00 [8803] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:06:38.502_553+00:00 [8803] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:41.123_133+00:00 [8803] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:06:41.123_142+00:00 [8803] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:06:41.123_160+00:00 [8803] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:06:41.123_163+00:00 [8803] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:06:42.926_558+00:00 [8842] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:06:42.927_934+00:00 [8842] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:06:42.927_962+00:00 [8842] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:06:42.927_966+00:00 [8842] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:06:42.927_988+00:00 [8842] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:06:42.927_993+00:00 [8842] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:06:42.927_996+00:00 [8842] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:06:42.928_026+00:00 [8842] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:06:42.928_171+00:00 [8878] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:06:44.710_239+00:00 [8849] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:06:44.710_252+00:00 [8849] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:06:44.710_266+00:00 [8849] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:06:44.710_277+00:00 [8849] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:06:44.710_283+00:00 [8849] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:06:44.710_287+00:00 [8849] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:06:44.710_306+00:00 [8849] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:06:44.710_359+00:00 [8877] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:06:44.710_367+00:00 [8877] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:06:44.710_377+00:00 [8877] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:06:44.729_249+00:00 [8842] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:06:54.734_579+00:00 [8842] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:06:54.734_589+00:00 [8842] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:06:54.734_697+00:00 [8842] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:07:07.298_578+00:00 [8877] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:07.298_588+00:00 [8877] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:07.298_607+00:00 [8877] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:07.298_610+00:00 [8877] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:09.904_502+00:00 [8877] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:09.904_511+00:00 [8877] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:09.904_529+00:00 [8877] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:09.904_532+00:00 [8877] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:12.518_658+00:00 [8877] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:12.518_667+00:00 [8877] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:12.518_683+00:00 [8877] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:12.518_687+00:00 [8877] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:15.139_813+00:00 [8877] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:15.139_824+00:00 [8877] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:15.139_840+00:00 [8877] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:15.139_844+00:00 [8877] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:17.796_272+00:00 [8877] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:17.796_281+00:00 [8877] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:17.796_298+00:00 [8877] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:17.796_302+00:00 [8877] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:20.420_675+00:00 [8877] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:20.420_686+00:00 [8877] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:20.420_705+00:00 [8877] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:20.420_708+00:00 [8877] [INFO] create snapshot idx 600000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:23.046_522+00:00 [8877] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:23.046_532+00:00 [8877] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:23.046_549+00:00 [8877] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:23.046_552+00:00 [8877] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:24.829_059+00:00 [8918] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:07:24.830_391+00:00 [8918] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:07:24.830_423+00:00 [8918] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:07:24.830_427+00:00 [8918] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:07:24.830_452+00:00 [8918] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:07:24.830_456+00:00 [8918] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:07:24.830_459+00:00 [8918] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:07:24.830_489+00:00 [8918] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:07:24.830_627+00:00 [8954] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:07:26.742_664+00:00 [8925] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:07:26.742_675+00:00 [8925] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:07:26.742_690+00:00 [8925] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:07:26.742_705+00:00 [8925] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:07:26.742_711+00:00 [8925] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:07:26.742_714+00:00 [8925] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:07:26.742_733+00:00 [8925] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:07:26.742_784+00:00 [8953] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:07:26.742_792+00:00 [8953] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:07:26.742_802+00:00 [8953] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:07:26.881_633+00:00 [8918] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:07:36.886_567+00:00 [8918] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:07:36.886_577+00:00 [8918] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:07:36.886_679+00:00 [8918] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:07:49.469_415+00:00 [8953] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:49.469_425+00:00 [8953] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:49.469_446+00:00 [8953] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:49.469_450+00:00 [8953] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:52.099_767+00:00 [8953] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:52.099_777+00:00 [8953] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:52.099_795+00:00 [8953] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:52.099_799+00:00 [8953] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:54.733_615+00:00 [8953] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:54.733_625+00:00 [8953] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:54.733_642+00:00 [8953] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:54.733_645+00:00 [8953] [INFO] create snapshot idx 300000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:07:57.371_069+00:00 [8953] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:07:57.371_080+00:00 [8953] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:07:57.371_097+00:00 [8953] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:07:57.371_101+00:00 [8953] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:00.012_235+00:00 [8953] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:00.012_245+00:00 [8953] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:00.012_262+00:00 [8953] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:00.012_265+00:00 [8953] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:02.657_461+00:00 [8953] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:02.657_472+00:00 [8953] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:02.657_488+00:00 [8953] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:02.657_492+00:00 [8953] [INFO] create snapshot idx 600000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:05.304_113+00:00 [8953] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:05.304_122+00:00 [8953] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:05.304_139+00:00 [8953] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:05.304_142+00:00 [8953] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:06.980_671+00:00 [8998] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:08:06.982_032+00:00 [8998] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:08:06.982_061+00:00 [8998] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:08:06.982_069+00:00 [8998] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:08:06.982_088+00:00 [8998] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:08:06.982_092+00:00 [8998] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:08:06.982_095+00:00 [8998] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:08:06.982_125+00:00 [8998] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:08:06.982_267+00:00 [9034] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:08:08.208_308+00:00 [9005] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:08:08.208_319+00:00 [9005] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:08:08.208_334+00:00 [9005] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:08:08.208_344+00:00 [9005] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:08:08.208_350+00:00 [9005] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:08:08.208_354+00:00 [9005] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:08:08.208_372+00:00 [9005] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:08:08.208_431+00:00 [9033] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:08:08.208_439+00:00 [9033] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:08:08.208_448+00:00 [9033] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:08:08.282_996+00:00 [8998] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:08:18.287_673+00:00 [8998] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:08:18.287_683+00:00 [8998] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:08:18.287_790+00:00 [8998] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:08:30.838_369+00:00 [9033] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:30.838_379+00:00 [9033] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:30.838_401+00:00 [9033] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:30.838_404+00:00 [9033] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:33.438_887+00:00 [9033] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:33.438_896+00:00 [9033] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:33.438_913+00:00 [9033] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:33.438_916+00:00 [9033] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:36.040_655+00:00 [9033] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:36.040_664+00:00 [9033] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:36.040_681+00:00 [9033] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:36.040_684+00:00 [9033] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:38.641_978+00:00 [9033] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:38.641_986+00:00 [9033] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:38.642_003+00:00 [9033] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:38.642_007+00:00 [9033] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:41.246_444+00:00 [9033] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:41.246_453+00:00 [9033] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:41.246_470+00:00 [9033] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:41.246_473+00:00 [9033] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:43.855_405+00:00 [9033] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:43.855_415+00:00 [9033] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:43.855_433+00:00 [9033] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:43.855_436+00:00 [9033] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:46.468_454+00:00 [9033] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:08:46.468_464+00:00 [9033] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:08:46.468_482+00:00 [9033] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:08:46.468_485+00:00 [9033] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:08:48.384_980+00:00 [9078] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:08:48.386_301+00:00 [9078] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:08:48.386_332+00:00 [9078] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:08:48.386_336+00:00 [9078] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:08:48.386_360+00:00 [9078] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:08:48.386_364+00:00 [9078] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:08:48.386_367+00:00 [9078] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:08:48.386_398+00:00 [9078] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:08:48.386_540+00:00 [9114] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:08:49.695_574+00:00 [9085] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:08:49.695_587+00:00 [9085] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:08:49.695_602+00:00 [9085] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:08:49.695_612+00:00 [9085] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:08:49.695_619+00:00 [9085] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:08:49.695_622+00:00 [9085] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:08:49.695_640+00:00 [9085] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:08:49.695_691+00:00 [9113] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:08:49.695_699+00:00 [9113] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:08:49.695_710+00:00 [9113] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:08:49.937_835+00:00 [9078] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:08:59.942_351+00:00 [9078] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:08:59.942_361+00:00 [9078] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:08:59.942_470+00:00 [9078] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:09:12.490_859+00:00 [9113] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:12.490_869+00:00 [9113] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:12.490_887+00:00 [9113] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:12.490_891+00:00 [9113] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:15.085_331+00:00 [9113] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:15.085_341+00:00 [9113] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:15.085_358+00:00 [9113] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:15.085_361+00:00 [9113] [INFO] create snapshot idx 200000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:17.684_944+00:00 [9113] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:17.684_953+00:00 [9113] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:17.684_971+00:00 [9113] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:17.684_974+00:00 [9113] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:20.286_245+00:00 [9113] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:20.286_254+00:00 [9113] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:20.286_270+00:00 [9113] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:20.286_273+00:00 [9113] [INFO] create snapshot idx 400000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:22.922_364+00:00 [9113] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:22.922_373+00:00 [9113] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:22.922_389+00:00 [9113] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:22.922_392+00:00 [9113] [INFO] create snapshot idx 500000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:25.535_180+00:00 [9113] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:25.535_189+00:00 [9113] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:25.535_205+00:00 [9113] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:25.535_207+00:00 [9113] [INFO] create snapshot idx 600000 log_term 1 done: 14 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:28.142_756+00:00 [9113] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:28.142_767+00:00 [9113] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:28.142_785+00:00 [9113] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:28.142_788+00:00 [9113] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:30.041_469+00:00 [9162] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:09:30.042_802+00:00 [9162] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:09:30.042_829+00:00 [9162] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:09:30.042_835+00:00 [9162] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:09:30.042_858+00:00 [9162] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:09:30.042_863+00:00 [9162] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:09:30.042_866+00:00 [9162] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:09:30.042_898+00:00 [9162] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:09:30.043_039+00:00 [9198] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:09:31.495_131+00:00 [9169] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:09:31.495_143+00:00 [9169] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:09:31.495_157+00:00 [9169] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:09:31.495_173+00:00 [9169] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:09:31.495_179+00:00 [9169] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:09:31.495_183+00:00 [9169] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:09:31.495_201+00:00 [9169] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:09:31.495_268+00:00 [9197] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:09:31.495_276+00:00 [9197] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:09:31.495_286+00:00 [9197] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:09:31.593_982+00:00 [9162] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:09:41.598_746+00:00 [9162] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:09:41.598_756+00:00 [9162] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:09:41.598_868+00:00 [9162] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:09:54.149_982+00:00 [9197] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:54.149_991+00:00 [9197] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:54.150_009+00:00 [9197] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:54.150_013+00:00 [9197] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:56.753_042+00:00 [9197] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:56.753_052+00:00 [9197] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:56.753_070+00:00 [9197] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:56.753_073+00:00 [9197] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:09:59.359_627+00:00 [9197] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:09:59.359_636+00:00 [9197] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:09:59.359_654+00:00 [9197] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:09:59.359_657+00:00 [9197] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:10:01.968_323+00:00 [9197] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:10:01.968_334+00:00 [9197] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:10:01.968_351+00:00 [9197] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:10:01.968_355+00:00 [9197] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:10:04.581_285+00:00 [9197] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:10:04.581_295+00:00 [9197] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:10:04.581_313+00:00 [9197] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:10:04.581_317+00:00 [9197] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:10:07.200_535+00:00 [9197] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:10:07.200_544+00:00 [9197] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:10:07.200_562+00:00 [9197] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:10:07.200_566+00:00 [9197] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:10:09.827_586+00:00 [9197] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:10:09.827_594+00:00 [9197] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:10:09.827_612+00:00 [9197] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:10:09.827_615+00:00 [9197] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:12.808_450+00:00 [9484] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:23:12.810_055+00:00 [9484] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:23:12.810_087+00:00 [9484] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:23:12.810_093+00:00 [9484] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:23:12.810_114+00:00 [9484] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:23:12.810_118+00:00 [9484] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:23:12.810_121+00:00 [9484] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:23:12.810_167+00:00 [9484] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:23:12.810_196+00:00 [9520] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:23:14.635_437+00:00 [9487] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:23:14.635_448+00:00 [9487] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:23:14.635_464+00:00 [9487] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:23:14.635_477+00:00 [9487] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:23:14.635_483+00:00 [9487] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:23:14.635_487+00:00 [9487] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:23:14.635_507+00:00 [9487] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:23:14.635_574+00:00 [9519] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:23:14.635_584+00:00 [9519] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:23:14.635_594+00:00 [9519] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:23:14.861_555+00:00 [9484] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:23:24.866_279+00:00 [9484] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:23:24.866_288+00:00 [9484] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:23:24.866_410+00:00 [9484] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:23:37.477_046+00:00 [9519] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:23:37.477_060+00:00 [9519] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:23:37.477_084+00:00 [9519] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:23:37.477_088+00:00 [9519] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:40.077_946+00:00 [9519] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:23:40.077_957+00:00 [9519] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:23:40.077_977+00:00 [9519] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:23:40.077_981+00:00 [9519] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:42.695_716+00:00 [9519] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:23:42.695_734+00:00 [9519] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:23:42.695_761+00:00 [9519] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:23:42.695_764+00:00 [9519] [INFO] create snapshot idx 300000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:45.282_200+00:00 [9519] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:23:45.282_216+00:00 [9519] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:23:45.282_243+00:00 [9519] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:23:45.282_247+00:00 [9519] [INFO] create snapshot idx 400000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:47.879_907+00:00 [9519] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:23:47.879_923+00:00 [9519] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:23:47.879_951+00:00 [9519] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:23:47.879_956+00:00 [9519] [INFO] create snapshot idx 500000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:50.469_489+00:00 [9519] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:23:50.469_506+00:00 [9519] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:23:50.469_533+00:00 [9519] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:23:50.469_536+00:00 [9519] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:53.080_937+00:00 [9519] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:23:53.080_954+00:00 [9519] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:23:53.080_980+00:00 [9519] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:23:53.080_984+00:00 [9519] [INFO] create snapshot idx 700000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:23:54.941_812+00:00 [9552] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:23:54.943_283+00:00 [9552] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:23:54.943_333+00:00 [9552] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:23:54.943_339+00:00 [9552] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:23:54.943_363+00:00 [9552] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:23:54.943_367+00:00 [9552] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:23:54.943_370+00:00 [9552] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:23:54.943_417+00:00 [9552] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:23:54.943_446+00:00 [9588] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:23:56.111_703+00:00 [9558] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:23:56.111_715+00:00 [9558] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:23:56.111_731+00:00 [9558] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:23:56.111_743+00:00 [9558] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:23:56.111_750+00:00 [9558] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:23:56.111_753+00:00 [9558] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:23:56.111_772+00:00 [9558] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:23:56.111_844+00:00 [9587] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:23:56.111_855+00:00 [9587] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:23:56.111_865+00:00 [9587] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:23:56.244_487+00:00 [9552] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:24:06.249_578+00:00 [9552] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:24:06.249_588+00:00 [9552] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:24:06.249_703+00:00 [9552] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:24:18.347_645+00:00 [9587] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:18.347_657+00:00 [9587] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:18.347_735+00:00 [9587] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:18.347_742+00:00 [9587] [INFO] create snapshot idx 100000 log_term 1 done: 77 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:20.438_935+00:00 [9587] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:20.438_949+00:00 [9587] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:20.438_973+00:00 [9587] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:20.438_979+00:00 [9587] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:22.544_993+00:00 [9587] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:22.545_006+00:00 [9587] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:22.545_034+00:00 [9587] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:22.545_039+00:00 [9587] [INFO] create snapshot idx 300000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:24.660_319+00:00 [9587] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:24.660_332+00:00 [9587] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:24.660_353+00:00 [9587] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:24.660_357+00:00 [9587] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:26.776_061+00:00 [9587] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:26.776_073+00:00 [9587] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:26.776_097+00:00 [9587] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:26.776_102+00:00 [9587] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:28.883_276+00:00 [9587] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:28.883_315+00:00 [9587] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:28.883_336+00:00 [9587] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:28.883_340+00:00 [9587] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:30.997_619+00:00 [9587] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:30.997_631+00:00 [9587] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:30.997_654+00:00 [9587] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:30.997_658+00:00 [9587] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:33.119_453+00:00 [9587] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:33.119_468+00:00 [9587] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:33.119_492+00:00 [9587] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:33.119_496+00:00 [9587] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:35.235_145+00:00 [9587] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:35.235_158+00:00 [9587] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:35.235_182+00:00 [9587] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:35.235_187+00:00 [9587] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:24:36.341_263+00:00 [9622] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:24:36.342_819+00:00 [9622] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:24:36.342_859+00:00 [9622] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:24:36.342_864+00:00 [9622] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:24:36.342_886+00:00 [9622] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:24:36.342_890+00:00 [9622] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:24:36.342_893+00:00 [9622] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:24:36.342_933+00:00 [9622] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:24:36.342_958+00:00 [9658] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:24:37.483_155+00:00 [9628] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:24:37.483_166+00:00 [9628] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:24:37.483_181+00:00 [9628] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:24:37.483_193+00:00 [9628] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:24:37.483_200+00:00 [9628] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:24:37.483_204+00:00 [9628] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:24:37.483_223+00:00 [9628] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:24:37.483_282+00:00 [9657] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:24:37.483_291+00:00 [9657] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:24:37.483_317+00:00 [9657] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:24:37.643_812+00:00 [9622] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:24:47.648_572+00:00 [9622] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:24:47.648_581+00:00 [9622] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:24:47.648_690+00:00 [9622] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:24:59.670_000+00:00 [9657] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:24:59.670_012+00:00 [9657] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:24:59.670_029+00:00 [9657] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:24:59.670_033+00:00 [9657] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:01.700_178+00:00 [9657] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:01.700_192+00:00 [9657] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:01.700_216+00:00 [9657] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:01.700_222+00:00 [9657] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:03.734_148+00:00 [9657] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:03.734_160+00:00 [9657] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:03.734_189+00:00 [9657] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:03.734_194+00:00 [9657] [INFO] create snapshot idx 300000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:05.772_379+00:00 [9657] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:05.772_391+00:00 [9657] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:05.772_415+00:00 [9657] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:05.772_421+00:00 [9657] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:07.809_759+00:00 [9657] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:07.809_772+00:00 [9657] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:07.809_790+00:00 [9657] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:07.809_793+00:00 [9657] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:09.870_867+00:00 [9657] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:09.870_920+00:00 [9657] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:09.870_946+00:00 [9657] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:09.870_950+00:00 [9657] [INFO] create snapshot idx 600000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:11.914_577+00:00 [9657] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:11.914_591+00:00 [9657] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:11.914_616+00:00 [9657] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:11.914_624+00:00 [9657] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:13.944_908+00:00 [9657] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:13.944_919+00:00 [9657] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:13.944_943+00:00 [9657] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:13.944_949+00:00 [9657] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:15.977_477+00:00 [9657] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:15.977_496+00:00 [9657] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:15.977_550+00:00 [9657] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:15.977_564+00:00 [9657] [INFO] create snapshot idx 900000 log_term 1 done: 61 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:17.749_369+00:00 [9692] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:25:17.750_877+00:00 [9692] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:25:17.750_910+00:00 [9692] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:25:17.750_914+00:00 [9692] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:25:17.750_939+00:00 [9692] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:25:17.750_943+00:00 [9692] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:25:17.750_946+00:00 [9692] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:25:17.750_988+00:00 [9692] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:25:17.751_014+00:00 [9728] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:25:19.577_196+00:00 [9698] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:25:19.577_207+00:00 [9698] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:25:19.577_221+00:00 [9698] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:25:19.577_236+00:00 [9698] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:25:19.577_243+00:00 [9698] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:25:19.577_247+00:00 [9698] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:25:19.577_266+00:00 [9698] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:25:19.577_338+00:00 [9727] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:25:19.577_348+00:00 [9727] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:25:19.577_358+00:00 [9727] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:25:19.802_180+00:00 [9692] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:25:29.807_220+00:00 [9692] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:25:29.807_239+00:00 [9692] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:25:29.807_533+00:00 [9692] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:25:41.813_684+00:00 [9727] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:41.813_697+00:00 [9727] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:41.813_725+00:00 [9727] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:41.813_730+00:00 [9727] [INFO] create snapshot idx 100000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:43.820_776+00:00 [9727] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:43.820_787+00:00 [9727] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:43.820_810+00:00 [9727] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:43.820_818+00:00 [9727] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:45.812_770+00:00 [9727] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:45.812_783+00:00 [9727] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:45.812_856+00:00 [9727] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:45.812_861+00:00 [9727] [INFO] create snapshot idx 300000 log_term 1 done: 72 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:47.812_406+00:00 [9727] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:47.812_419+00:00 [9727] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:47.812_444+00:00 [9727] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:47.812_449+00:00 [9727] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:49.812_545+00:00 [9727] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:49.812_558+00:00 [9727] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:49.812_592+00:00 [9727] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:49.812_619+00:00 [9727] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:51.813_193+00:00 [9727] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:51.813_205+00:00 [9727] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:51.813_228+00:00 [9727] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:51.813_233+00:00 [9727] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:53.814_895+00:00 [9727] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:53.814_981+00:00 [9727] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:53.815_004+00:00 [9727] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:53.815_010+00:00 [9727] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:55.812_057+00:00 [9727] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:55.812_070+00:00 [9727] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:55.812_095+00:00 [9727] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:55.812_100+00:00 [9727] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:57.813_764+00:00 [9727] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:25:57.813_778+00:00 [9727] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:25:57.813_800+00:00 [9727] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:25:57.813_804+00:00 [9727] [INFO] create snapshot idx 900000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:25:59.911_579+00:00 [9772] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:25:59.913_058+00:00 [9772] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:25:59.913_095+00:00 [9772] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:25:59.913_100+00:00 [9772] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:25:59.913_123+00:00 [9772] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:25:59.913_128+00:00 [9772] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:25:59.913_130+00:00 [9772] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:25:59.913_175+00:00 [9772] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:25:59.913_208+00:00 [9808] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:26:01.576_438+00:00 [9778] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:26:01.576_450+00:00 [9778] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:26:01.576_465+00:00 [9778] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:26:01.576_476+00:00 [9778] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:26:01.576_483+00:00 [9778] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:26:01.576_486+00:00 [9778] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:26:01.576_505+00:00 [9778] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:26:01.576_580+00:00 [9807] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:26:01.576_590+00:00 [9807] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:26:01.576_601+00:00 [9807] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:26:01.714_442+00:00 [9772] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:26:11.719_187+00:00 [9772] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:26:11.719_197+00:00 [9772] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:26:11.719_323+00:00 [9772] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:26:23.843_639+00:00 [9807] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:23.843_652+00:00 [9807] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:23.843_678+00:00 [9807] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:23.843_683+00:00 [9807] [INFO] create snapshot idx 100000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:26.078_079+00:00 [9807] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:26.078_134+00:00 [9807] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:26.078_157+00:00 [9807] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:26.078_161+00:00 [9807] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:28.296_038+00:00 [9807] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:28.296_050+00:00 [9807] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:28.296_073+00:00 [9807] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:28.296_077+00:00 [9807] [INFO] create snapshot idx 300000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:30.536_366+00:00 [9807] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:30.536_377+00:00 [9807] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:30.536_396+00:00 [9807] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:30.536_399+00:00 [9807] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:32.732_207+00:00 [9807] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:32.732_258+00:00 [9807] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:32.732_296+00:00 [9807] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:32.732_306+00:00 [9807] [INFO] create snapshot idx 500000 log_term 1 done: 36 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:34.991_190+00:00 [9807] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:34.991_207+00:00 [9807] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:34.991_235+00:00 [9807] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:34.991_250+00:00 [9807] [INFO] create snapshot idx 600000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:37.270_505+00:00 [9807] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:37.270_522+00:00 [9807] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:37.270_564+00:00 [9807] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:37.270_568+00:00 [9807] [INFO] create snapshot idx 700000 log_term 1 done: 35 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:39.553_799+00:00 [9807] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:26:39.553_810+00:00 [9807] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:26:39.553_844+00:00 [9807] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:26:39.553_849+00:00 [9807] [INFO] create snapshot idx 800000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:26:41.822_235+00:00 [9846] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:26:41.823_724+00:00 [9846] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:26:41.823_759+00:00 [9846] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:26:41.823_764+00:00 [9846] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:26:41.823_787+00:00 [9846] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:26:41.823_791+00:00 [9846] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:26:41.823_794+00:00 [9846] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:26:41.823_830+00:00 [9846] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:26:41.823_860+00:00 [9882] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:26:43.819_071+00:00 [9849] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:26:43.819_082+00:00 [9849] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:26:43.819_096+00:00 [9849] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:26:43.819_107+00:00 [9849] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:26:43.819_114+00:00 [9849] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:26:43.819_118+00:00 [9849] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:26:43.819_135+00:00 [9849] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:26:43.819_199+00:00 [9881] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:26:43.819_209+00:00 [9881] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:26:43.819_220+00:00 [9881] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:26:43.874_948+00:00 [9846] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:26:53.880_035+00:00 [9846] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:26:53.880_055+00:00 [9846] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:26:53.880_328+00:00 [9846] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:27:06.167_389+00:00 [9881] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:06.167_407+00:00 [9881] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:06.167_438+00:00 [9881] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:06.167_449+00:00 [9881] [INFO] create snapshot idx 100000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:08.470_672+00:00 [9881] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:08.470_689+00:00 [9881] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:08.470_723+00:00 [9881] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:08.470_729+00:00 [9881] [INFO] create snapshot idx 200000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:10.767_005+00:00 [9881] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:10.767_018+00:00 [9881] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:10.767_042+00:00 [9881] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:10.767_046+00:00 [9881] [INFO] create snapshot idx 300000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:13.062_507+00:00 [9881] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:13.062_519+00:00 [9881] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:13.062_542+00:00 [9881] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:13.062_549+00:00 [9881] [INFO] create snapshot idx 400000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:15.371_178+00:00 [9881] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:15.371_219+00:00 [9881] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:15.371_256+00:00 [9881] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:15.371_260+00:00 [9881] [INFO] create snapshot idx 500000 log_term 1 done: 34 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:17.694_894+00:00 [9881] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:17.694_907+00:00 [9881] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:17.694_933+00:00 [9881] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:17.694_956+00:00 [9881] [INFO] create snapshot idx 600000 log_term 1 done: 42 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:19.995_469+00:00 [9881] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:19.995_496+00:00 [9881] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:19.995_519+00:00 [9881] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:19.995_541+00:00 [9881] [INFO] create snapshot idx 700000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:22.304_628+00:00 [9881] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:22.304_638+00:00 [9881] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:22.304_657+00:00 [9881] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:22.304_660+00:00 [9881] [INFO] create snapshot idx 800000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:23.983_854+00:00 [9922] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:27:23.985_348+00:00 [9922] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:27:23.985_379+00:00 [9922] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:27:23.985_387+00:00 [9922] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:27:23.985_408+00:00 [9922] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:27:23.985_413+00:00 [9922] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:27:23.985_416+00:00 [9922] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:27:23.985_454+00:00 [9922] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:27:23.985_477+00:00 [9958] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:27:25.405_711+00:00 [9928] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:27:25.405_724+00:00 [9928] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:27:25.405_739+00:00 [9928] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:27:25.405_751+00:00 [9928] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:27:25.405_758+00:00 [9928] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:27:25.405_762+00:00 [9928] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:27:25.405_781+00:00 [9928] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:27:25.405_843+00:00 [9957] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:27:25.405_853+00:00 [9957] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:27:25.405_864+00:00 [9957] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:27:25.537_082+00:00 [9922] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:27:35.542_042+00:00 [9922] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:27:35.542_051+00:00 [9922] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:27:35.542_158+00:00 [9922] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:27:47.787_721+00:00 [9957] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:47.787_734+00:00 [9957] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:47.787_758+00:00 [9957] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:47.787_781+00:00 [9957] [INFO] create snapshot idx 100000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:50.050_986+00:00 [9957] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:50.051_001+00:00 [9957] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:50.051_026+00:00 [9957] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:50.051_032+00:00 [9957] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:52.324_857+00:00 [9957] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:52.324_993+00:00 [9957] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:52.325_028+00:00 [9957] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:52.325_038+00:00 [9957] [INFO] create snapshot idx 300000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:54.583_779+00:00 [9957] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:54.583_792+00:00 [9957] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:54.583_815+00:00 [9957] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:54.583_819+00:00 [9957] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:56.855_340+00:00 [9957] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:56.855_354+00:00 [9957] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:56.855_397+00:00 [9957] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:56.855_403+00:00 [9957] [INFO] create snapshot idx 500000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:27:59.133_537+00:00 [9957] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:27:59.133_552+00:00 [9957] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:27:59.133_576+00:00 [9957] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:27:59.133_581+00:00 [9957] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:01.406_123+00:00 [9957] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:01.406_136+00:00 [9957] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:01.406_160+00:00 [9957] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:01.406_167+00:00 [9957] [INFO] create snapshot idx 700000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:03.663_679+00:00 [9957] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:03.663_692+00:00 [9957] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:03.663_714+00:00 [9957] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:03.663_718+00:00 [9957] [INFO] create snapshot idx 800000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:05.648_338+00:00 [10002] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:28:05.649_877+00:00 [10002] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:28:05.649_911+00:00 [10002] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:28:05.649_918+00:00 [10002] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:28:05.649_939+00:00 [10002] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:28:05.649_943+00:00 [10002] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:28:05.649_946+00:00 [10002] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:28:05.649_979+00:00 [10002] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:28:05.650_002+00:00 [10038] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:28:07.080_205+00:00 [10005] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:28:07.080_218+00:00 [10005] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:28:07.080_234+00:00 [10005] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:28:07.080_246+00:00 [10005] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:28:07.080_253+00:00 [10005] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:28:07.080_257+00:00 [10005] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:28:07.080_275+00:00 [10005] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:28:07.080_344+00:00 [10037] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:28:07.080_354+00:00 [10037] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:28:07.080_363+00:00 [10037] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:28:07.201_050+00:00 [10002] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:28:17.205_533+00:00 [10002] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:28:17.205_553+00:00 [10002] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:28:17.205_824+00:00 [10002] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:28:29.482_852+00:00 [10037] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:29.482_869+00:00 [10037] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:29.482_890+00:00 [10037] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:29.482_894+00:00 [10037] [INFO] create snapshot idx 100000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:31.775_087+00:00 [10037] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:31.775_100+00:00 [10037] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:31.775_130+00:00 [10037] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:31.775_145+00:00 [10037] [INFO] create snapshot idx 200000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:34.074_547+00:00 [10037] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:34.074_563+00:00 [10037] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:34.074_598+00:00 [10037] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:34.074_604+00:00 [10037] [INFO] create snapshot idx 300000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:36.363_965+00:00 [10037] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:36.363_977+00:00 [10037] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:36.364_000+00:00 [10037] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:36.364_007+00:00 [10037] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:38.653_935+00:00 [10037] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:38.653_968+00:00 [10037] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:38.654_006+00:00 [10037] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:38.654_016+00:00 [10037] [INFO] create snapshot idx 500000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:40.945_078+00:00 [10037] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:40.945_095+00:00 [10037] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:40.945_129+00:00 [10037] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:40.945_135+00:00 [10037] [INFO] create snapshot idx 600000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:43.253_525+00:00 [10037] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:43.253_542+00:00 [10037] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:43.253_572+00:00 [10037] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:43.253_586+00:00 [10037] [INFO] create snapshot idx 700000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:45.557_953+00:00 [10037] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:28:45.557_966+00:00 [10037] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:28:45.557_986+00:00 [10037] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:28:45.557_990+00:00 [10037] [INFO] create snapshot idx 800000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:28:47.315_518+00:00 [10084] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:28:47.317_018+00:00 [10084] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:28:47.317_049+00:00 [10084] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:28:47.317_057+00:00 [10084] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:28:47.317_079+00:00 [10084] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:28:47.317_083+00:00 [10084] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:28:47.317_085+00:00 [10084] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:28:47.317_126+00:00 [10084] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:28:47.317_154+00:00 [10120] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:28:49.162_502+00:00 [10089] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:28:49.162_527+00:00 [10089] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:28:49.162_564+00:00 [10089] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:28:49.162_590+00:00 [10089] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:28:49.162_601+00:00 [10089] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:28:49.162_605+00:00 [10089] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:28:49.162_622+00:00 [10089] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:28:49.162_697+00:00 [10119] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:28:49.162_707+00:00 [10119] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:28:49.162_717+00:00 [10119] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:28:49.368_486+00:00 [10084] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:28:59.373_554+00:00 [10084] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:28:59.373_563+00:00 [10084] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:28:59.373_674+00:00 [10084] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:29:11.648_764+00:00 [10119] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:11.648_782+00:00 [10119] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:11.648_811+00:00 [10119] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:11.648_829+00:00 [10119] [INFO] create snapshot idx 100000 log_term 1 done: 35 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:13.924_253+00:00 [10119] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:13.924_297+00:00 [10119] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:13.924_318+00:00 [10119] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:13.924_322+00:00 [10119] [INFO] create snapshot idx 200000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:16.198_891+00:00 [10119] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:16.198_920+00:00 [10119] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:16.198_944+00:00 [10119] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:16.198_951+00:00 [10119] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:18.473_147+00:00 [10119] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:18.473_201+00:00 [10119] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:18.473_224+00:00 [10119] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:18.473_228+00:00 [10119] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:20.754_839+00:00 [10119] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:20.754_852+00:00 [10119] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:20.754_875+00:00 [10119] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:20.754_880+00:00 [10119] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:23.060_766+00:00 [10119] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:23.060_780+00:00 [10119] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:23.060_806+00:00 [10119] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:23.060_811+00:00 [10119] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:25.356_696+00:00 [10119] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:25.356_737+00:00 [10119] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:25.356_827+00:00 [10119] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:25.356_835+00:00 [10119] [INFO] create snapshot idx 700000 log_term 1 done: 91 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:27.648_054+00:00 [10119] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:27.648_065+00:00 [10119] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:27.648_106+00:00 [10119] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:27.648_112+00:00 [10119] [INFO] create snapshot idx 800000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:29.482_848+00:00 [10168] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:29:29.484_371+00:00 [10168] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:29:29.484_402+00:00 [10168] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:29:29.484_407+00:00 [10168] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:29:29.484_428+00:00 [10168] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:29:29.484_432+00:00 [10168] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:29:29.484_435+00:00 [10168] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:29:29.484_469+00:00 [10168] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:29:29.484_490+00:00 [10204] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:29:30.580_735+00:00 [10174] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:29:30.580_749+00:00 [10174] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:29:30.580_764+00:00 [10174] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:29:30.580_776+00:00 [10174] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:29:30.580_783+00:00 [10174] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:29:30.580_787+00:00 [10174] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:29:30.580_806+00:00 [10174] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:29:30.580_882+00:00 [10203] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:29:30.580_892+00:00 [10203] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:29:30.580_901+00:00 [10203] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:29:30.785_367+00:00 [10168] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:29:40.789_900+00:00 [10168] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:29:40.789_911+00:00 [10168] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:29:40.790_026+00:00 [10168] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:29:53.079_064+00:00 [10203] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:53.079_078+00:00 [10203] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:53.079_095+00:00 [10203] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:53.079_099+00:00 [10203] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:55.367_753+00:00 [10203] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:55.367_769+00:00 [10203] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:55.367_797+00:00 [10203] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:55.367_808+00:00 [10203] [INFO] create snapshot idx 200000 log_term 1 done: 31 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:57.648_031+00:00 [10203] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:57.648_043+00:00 [10203] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:57.648_067+00:00 [10203] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:57.648_072+00:00 [10203] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:29:59.930_401+00:00 [10203] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:29:59.930_413+00:00 [10203] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:29:59.930_437+00:00 [10203] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:29:59.930_441+00:00 [10203] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:30:02.155_128+00:00 [10203] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:30:02.155_142+00:00 [10203] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:30:02.155_167+00:00 [10203] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:30:02.155_172+00:00 [10203] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:30:04.425_382+00:00 [10203] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:30:04.425_395+00:00 [10203] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:30:04.425_419+00:00 [10203] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:30:04.425_424+00:00 [10203] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:30:06.700_862+00:00 [10203] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:30:06.700_900+00:00 [10203] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:30:06.700_920+00:00 [10203] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:30:06.700_923+00:00 [10203] [INFO] create snapshot idx 700000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:30:08.972_547+00:00 [10203] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:30:08.972_566+00:00 [10203] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:30:08.972_595+00:00 [10203] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:30:08.972_610+00:00 [10203] [INFO] create snapshot idx 800000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:38:44.266_280+00:00 [10570] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:38:44.267_848+00:00 [10570] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:38:44.267_882+00:00 [10570] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:38:44.267_887+00:00 [10570] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:38:44.267_913+00:00 [10570] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:38:44.267_917+00:00 [10570] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:38:44.267_920+00:00 [10570] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:38:44.267_956+00:00 [10570] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:38:44.267_978+00:00 [10606] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:38:45.736_182+00:00 [10575] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:38:45.736_193+00:00 [10575] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:38:45.736_208+00:00 [10575] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:38:45.736_219+00:00 [10575] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:38:45.736_225+00:00 [10575] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:38:45.736_229+00:00 [10575] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:38:45.736_247+00:00 [10575] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:38:45.736_308+00:00 [10605] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:38:45.736_317+00:00 [10605] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:38:45.736_327+00:00 [10605] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:38:45.818_950+00:00 [10570] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:38:55.824_014+00:00 [10570] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:38:55.824_024+00:00 [10570] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:38:55.824_136+00:00 [10570] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:39:08.363_086+00:00 [10605] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:08.363_119+00:00 [10605] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:08.363_138+00:00 [10605] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:08.363_142+00:00 [10605] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:10.892_500+00:00 [10605] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:10.892_512+00:00 [10605] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:10.892_535+00:00 [10605] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:10.892_539+00:00 [10605] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:13.429_783+00:00 [10605] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:13.429_796+00:00 [10605] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:13.429_823+00:00 [10605] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:13.429_827+00:00 [10605] [INFO] create snapshot idx 300000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:15.940_738+00:00 [10605] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:15.940_752+00:00 [10605] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:15.940_778+00:00 [10605] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:15.940_782+00:00 [10605] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:18.461_329+00:00 [10605] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:18.461_354+00:00 [10605] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:18.461_373+00:00 [10605] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:18.461_377+00:00 [10605] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:20.979_493+00:00 [10605] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:20.979_510+00:00 [10605] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:20.979_536+00:00 [10605] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:20.979_540+00:00 [10605] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:23.514_700+00:00 [10605] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:23.514_718+00:00 [10605] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:23.514_744+00:00 [10605] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:23.514_747+00:00 [10605] [INFO] create snapshot idx 700000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:25.902_286+00:00 [10672] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:39:25.903_791+00:00 [10672] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:39:25.903_826+00:00 [10672] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:39:25.903_830+00:00 [10672] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:39:25.903_850+00:00 [10672] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:39:25.903_854+00:00 [10672] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:39:25.903_857+00:00 [10672] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:39:25.903_892+00:00 [10672] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:39:25.903_922+00:00 [10708] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:39:27.633_219+00:00 [10675] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:39:27.633_230+00:00 [10675] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:39:27.633_245+00:00 [10675] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:39:27.633_255+00:00 [10675] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:39:27.633_262+00:00 [10675] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:39:27.633_266+00:00 [10675] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:39:27.633_283+00:00 [10675] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:39:27.633_352+00:00 [10707] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:39:27.633_363+00:00 [10707] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:39:27.633_373+00:00 [10707] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:39:27.705_030+00:00 [10672] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:39:37.709_855+00:00 [10672] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:39:37.709_864+00:00 [10672] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:39:37.709_984+00:00 [10672] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:39:49.828_104+00:00 [10707] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:49.828_122+00:00 [10707] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:49.828_152+00:00 [10707] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:49.828_163+00:00 [10707] [INFO] create snapshot idx 100000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:51.965_186+00:00 [10707] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:51.965_203+00:00 [10707] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:51.965_242+00:00 [10707] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:51.965_247+00:00 [10707] [INFO] create snapshot idx 200000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:54.107_941+00:00 [10707] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:54.107_954+00:00 [10707] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:54.107_977+00:00 [10707] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:54.107_987+00:00 [10707] [INFO] create snapshot idx 300000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:56.255_013+00:00 [10707] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:56.255_026+00:00 [10707] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:56.255_049+00:00 [10707] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:56.255_053+00:00 [10707] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:39:58.412_307+00:00 [10707] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:39:58.412_319+00:00 [10707] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:39:58.412_342+00:00 [10707] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:39:58.412_347+00:00 [10707] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:00.570_659+00:00 [10707] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:00.570_676+00:00 [10707] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:00.570_706+00:00 [10707] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:00.570_720+00:00 [10707] [INFO] create snapshot idx 600000 log_term 1 done: 32 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:02.733_654+00:00 [10707] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:02.733_667+00:00 [10707] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:02.733_691+00:00 [10707] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:02.733_697+00:00 [10707] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:04.909_016+00:00 [10707] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:04.909_028+00:00 [10707] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:04.909_052+00:00 [10707] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:04.909_058+00:00 [10707] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:07.077_891+00:00 [10707] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:07.077_905+00:00 [10707] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:07.077_928+00:00 [10707] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:07.077_937+00:00 [10707] [INFO] create snapshot idx 900000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:07.799_999+00:00 [10778] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:40:07.801_477+00:00 [10778] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:40:07.801_508+00:00 [10778] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:40:07.801_512+00:00 [10778] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:40:07.801_532+00:00 [10778] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:40:07.801_536+00:00 [10778] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:40:07.801_539+00:00 [10778] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:40:07.801_575+00:00 [10778] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:40:07.801_602+00:00 [10814] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:40:09.262_798+00:00 [10784] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:40:09.262_810+00:00 [10784] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:40:09.262_825+00:00 [10784] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:40:09.262_845+00:00 [10784] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:40:09.262_851+00:00 [10784] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:40:09.262_855+00:00 [10784] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:40:09.262_874+00:00 [10784] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:40:09.262_942+00:00 [10813] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:40:09.262_952+00:00 [10813] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:40:09.262_962+00:00 [10813] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:40:09.352_873+00:00 [10778] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:40:19.357_543+00:00 [10778] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:40:19.357_553+00:00 [10778] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:40:19.357_670+00:00 [10778] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:40:31.405_997+00:00 [10813] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:31.406_009+00:00 [10813] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:31.406_034+00:00 [10813] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:31.406_038+00:00 [10813] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:33.484_784+00:00 [10813] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:33.484_838+00:00 [10813] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:33.484_866+00:00 [10813] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:33.484_869+00:00 [10813] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:35.568_452+00:00 [10813] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:35.568_464+00:00 [10813] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:35.568_488+00:00 [10813] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:35.568_493+00:00 [10813] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:37.669_722+00:00 [10813] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:37.669_735+00:00 [10813] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:37.669_761+00:00 [10813] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:37.669_769+00:00 [10813] [INFO] create snapshot idx 400000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:39.772_924+00:00 [10813] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:39.772_937+00:00 [10813] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:39.772_961+00:00 [10813] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:39.772_966+00:00 [10813] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:41.865_684+00:00 [10813] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:41.865_696+00:00 [10813] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:41.865_780+00:00 [10813] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:41.865_784+00:00 [10813] [INFO] create snapshot idx 600000 log_term 1 done: 82 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:43.929_019+00:00 [10813] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:43.929_031+00:00 [10813] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:43.929_055+00:00 [10813] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:43.929_060+00:00 [10813] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:46.030_368+00:00 [10813] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:46.030_382+00:00 [10813] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:46.030_405+00:00 [10813] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:46.030_414+00:00 [10813] [INFO] create snapshot idx 800000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:48.133_880+00:00 [10813] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:40:48.133_892+00:00 [10813] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:40:48.133_916+00:00 [10813] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:40:48.133_922+00:00 [10813] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:40:49.456_439+00:00 [10885] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:40:49.458_008+00:00 [10885] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:40:49.458_051+00:00 [10885] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:40:49.458_055+00:00 [10885] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:40:49.458_079+00:00 [10885] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:40:49.458_083+00:00 [10885] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:40:49.458_086+00:00 [10885] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:40:49.458_122+00:00 [10885] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:40:49.458_144+00:00 [10921] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:40:51.408_360+00:00 [10890] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:40:51.408_374+00:00 [10890] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:40:51.408_388+00:00 [10890] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:40:51.408_399+00:00 [10890] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:40:51.408_405+00:00 [10890] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:40:51.408_409+00:00 [10890] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:40:51.408_427+00:00 [10890] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:40:51.408_497+00:00 [10920] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:40:51.408_507+00:00 [10920] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:40:51.408_517+00:00 [10920] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:40:51.509_701+00:00 [10885] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:41:01.514_056+00:00 [10885] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:41:01.514_066+00:00 [10885] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:41:01.514_175+00:00 [10885] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:41:13.491_659+00:00 [10920] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:13.491_673+00:00 [10920] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:13.491_697+00:00 [10920] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:13.491_703+00:00 [10920] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:15.442_585+00:00 [10920] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:15.442_597+00:00 [10920] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:15.442_616+00:00 [10920] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:15.442_619+00:00 [10920] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:17.384_102+00:00 [10920] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:17.384_117+00:00 [10920] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:17.384_140+00:00 [10920] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:17.384_145+00:00 [10920] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:19.319_050+00:00 [10920] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:19.319_063+00:00 [10920] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:19.319_081+00:00 [10920] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:19.319_084+00:00 [10920] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:21.280_712+00:00 [10920] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:21.280_726+00:00 [10920] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:21.280_750+00:00 [10920] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:21.280_755+00:00 [10920] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:23.225_849+00:00 [10920] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:23.225_863+00:00 [10920] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:23.225_888+00:00 [10920] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:23.225_893+00:00 [10920] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:25.187_277+00:00 [10920] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:25.187_375+00:00 [10920] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:25.187_396+00:00 [10920] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:25.187_400+00:00 [10920] [INFO] create snapshot idx 700000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:27.132_874+00:00 [10920] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:27.132_886+00:00 [10920] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:27.132_910+00:00 [10920] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:27.132_918+00:00 [10920] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:29.072_614+00:00 [10920] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:29.072_628+00:00 [10920] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:29.072_649+00:00 [10920] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:29.072_653+00:00 [10920] [INFO] create snapshot idx 900000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:31.044_333+00:00 [10920] [INFO] creating a snapshot for index 1000000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:31.044_345+00:00 [10920] [INFO] create snapshot idx 1000000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:31.044_363+00:00 [10920] [INFO] snapshot idx 1000000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:31.044_367+00:00 [10920] [INFO] create snapshot idx 1000000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:31.619_842+00:00 [11002] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:41:31.621_420+00:00 [11002] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:41:31.621_458+00:00 [11002] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:41:31.621_463+00:00 [11002] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:41:31.621_484+00:00 [11002] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:41:31.621_488+00:00 [11002] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:41:31.621_490+00:00 [11002] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:41:31.621_530+00:00 [11002] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:41:31.621_552+00:00 [11038] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:41:32.970_737+00:00 [11007] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:41:32.970_749+00:00 [11007] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:41:32.970_764+00:00 [11007] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:41:32.970_780+00:00 [11007] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:41:32.970_787+00:00 [11007] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:41:32.970_790+00:00 [11007] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:41:32.970_809+00:00 [11007] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:41:32.970_873+00:00 [11037] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:41:32.970_883+00:00 [11037] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:41:32.970_893+00:00 [11037] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:41:33.172_822+00:00 [11002] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:41:43.177_497+00:00 [11002] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:41:43.177_506+00:00 [11002] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:41:43.177_620+00:00 [11002] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:41:55.275_884+00:00 [11037] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:55.275_897+00:00 [11037] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:55.275_920+00:00 [11037] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:55.275_925+00:00 [11037] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:57.539_922+00:00 [11037] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:57.539_935+00:00 [11037] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:57.539_961+00:00 [11037] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:57.539_966+00:00 [11037] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:41:59.764_424+00:00 [11037] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:41:59.764_437+00:00 [11037] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:41:59.764_460+00:00 [11037] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:41:59.764_465+00:00 [11037] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:01.955_483+00:00 [11037] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:01.955_495+00:00 [11037] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:01.955_519+00:00 [11037] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:01.955_525+00:00 [11037] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:04.132_066+00:00 [11037] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:04.132_079+00:00 [11037] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:04.132_098+00:00 [11037] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:04.132_102+00:00 [11037] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:06.382_716+00:00 [11037] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:06.382_728+00:00 [11037] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:06.382_751+00:00 [11037] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:06.382_755+00:00 [11037] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:08.657_379+00:00 [11037] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:08.657_392+00:00 [11037] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:08.657_418+00:00 [11037] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:08.657_425+00:00 [11037] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:10.936_069+00:00 [11037] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:10.936_081+00:00 [11037] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:10.936_104+00:00 [11037] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:10.936_110+00:00 [11037] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:13.278_784+00:00 [11119] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:42:13.280_322+00:00 [11119] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:42:13.280_355+00:00 [11119] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:42:13.280_359+00:00 [11119] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:42:13.280_382+00:00 [11119] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:42:13.280_386+00:00 [11119] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:42:13.280_389+00:00 [11119] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:42:13.280_425+00:00 [11119] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:42:13.280_462+00:00 [11155] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:42:14.529_672+00:00 [11125] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:42:14.529_685+00:00 [11125] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:42:14.529_701+00:00 [11125] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:42:14.529_713+00:00 [11125] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:42:14.529_719+00:00 [11125] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:42:14.529_723+00:00 [11125] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:42:14.529_741+00:00 [11125] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:42:14.529_820+00:00 [11154] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:42:14.529_830+00:00 [11154] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:42:14.529_840+00:00 [11154] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:42:14.581_406+00:00 [11119] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:42:24.586_489+00:00 [11119] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:42:24.586_499+00:00 [11119] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:42:24.586_624+00:00 [11119] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:42:36.926_038+00:00 [11154] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:36.926_092+00:00 [11154] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:36.926_116+00:00 [11154] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:36.926_121+00:00 [11154] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:39.260_257+00:00 [11154] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:39.260_267+00:00 [11154] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:39.260_285+00:00 [11154] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:39.260_289+00:00 [11154] [INFO] create snapshot idx 200000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:41.605_958+00:00 [11154] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:41.605_979+00:00 [11154] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:41.606_003+00:00 [11154] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:41.606_008+00:00 [11154] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:43.945_117+00:00 [11154] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:43.945_134+00:00 [11154] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:43.945_164+00:00 [11154] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:43.945_169+00:00 [11154] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:46.287_616+00:00 [11154] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:46.287_633+00:00 [11154] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:46.287_661+00:00 [11154] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:46.287_667+00:00 [11154] [INFO] create snapshot idx 500000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:48.640_181+00:00 [11154] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:48.640_194+00:00 [11154] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:48.640_234+00:00 [11154] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:48.640_239+00:00 [11154] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:50.991_106+00:00 [11154] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:50.991_124+00:00 [11154] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:50.991_173+00:00 [11154] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:50.991_199+00:00 [11154] [INFO] create snapshot idx 700000 log_term 1 done: 68 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:53.354_201+00:00 [11154] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:42:53.354_218+00:00 [11154] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:42:53.354_248+00:00 [11154] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:42:53.354_253+00:00 [11154] [INFO] create snapshot idx 800000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:42:54.691_227+00:00 [11231] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:42:54.692_733+00:00 [11231] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:42:54.692_762+00:00 [11231] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:42:54.692_768+00:00 [11231] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:42:54.692_791+00:00 [11231] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:42:54.692_795+00:00 [11231] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:42:54.692_798+00:00 [11231] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:42:54.692_836+00:00 [11231] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:42:54.692_872+00:00 [11267] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:42:55.746_019+00:00 [11237] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:42:55.746_030+00:00 [11237] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:42:55.746_045+00:00 [11237] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:42:55.746_057+00:00 [11237] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:42:55.746_063+00:00 [11237] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:42:55.746_067+00:00 [11237] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:42:55.746_085+00:00 [11237] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:42:55.746_150+00:00 [11266] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:42:55.746_161+00:00 [11266] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:42:55.746_170+00:00 [11266] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:42:55.993_620+00:00 [11231] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:43:05.998_218+00:00 [11231] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:43:05.998_228+00:00 [11231] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:43:05.998_347+00:00 [11231] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:43:18.287_431+00:00 [11266] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:18.287_455+00:00 [11266] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:18.287_483+00:00 [11266] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:18.287_488+00:00 [11266] [INFO] create snapshot idx 100000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:20.584_105+00:00 [11266] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:20.584_117+00:00 [11266] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:20.584_143+00:00 [11266] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:20.584_147+00:00 [11266] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:22.889_840+00:00 [11266] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:22.889_852+00:00 [11266] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:22.889_876+00:00 [11266] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:22.889_881+00:00 [11266] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:25.188_644+00:00 [11266] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:25.188_658+00:00 [11266] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:25.188_681+00:00 [11266] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:25.188_687+00:00 [11266] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:27.501_320+00:00 [11266] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:27.501_333+00:00 [11266] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:27.501_357+00:00 [11266] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:27.501_361+00:00 [11266] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:29.815_797+00:00 [11266] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:29.815_818+00:00 [11266] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:29.815_847+00:00 [11266] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:29.815_852+00:00 [11266] [INFO] create snapshot idx 600000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:32.133_833+00:00 [11266] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:32.133_846+00:00 [11266] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:32.133_869+00:00 [11266] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:32.133_875+00:00 [11266] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:34.442_782+00:00 [11266] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:43:34.442_798+00:00 [11266] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:43:34.442_827+00:00 [11266] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:43:34.442_832+00:00 [11266] [INFO] create snapshot idx 800000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:43:36.105_856+00:00 [11347] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:43:36.107_400+00:00 [11347] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:43:36.107_434+00:00 [11347] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:43:36.107_440+00:00 [11347] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:43:36.107_464+00:00 [11347] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:43:36.107_469+00:00 [11347] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:43:36.107_472+00:00 [11347] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:43:36.107_517+00:00 [11347] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:43:36.107_553+00:00 [11383] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:43:37.678_742+00:00 [11353] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:43:37.678_755+00:00 [11353] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:43:37.678_770+00:00 [11353] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:43:37.678_780+00:00 [11353] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:43:37.678_787+00:00 [11353] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:43:37.678_790+00:00 [11353] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:43:37.678_809+00:00 [11353] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:43:37.678_875+00:00 [11382] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:43:37.678_886+00:00 [11382] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:43:37.678_896+00:00 [11382] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:43:37.908_610+00:00 [11347] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:43:47.913_304+00:00 [11347] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:43:47.913_313+00:00 [11347] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:43:47.913_424+00:00 [11347] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:44:00.163_457+00:00 [11382] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:00.163_470+00:00 [11382] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:00.163_494+00:00 [11382] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:00.163_500+00:00 [11382] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:02.414_966+00:00 [11382] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:02.414_977+00:00 [11382] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:02.415_005+00:00 [11382] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:02.415_010+00:00 [11382] [INFO] create snapshot idx 200000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:04.674_473+00:00 [11382] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:04.674_490+00:00 [11382] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:04.674_520+00:00 [11382] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:04.674_535+00:00 [11382] [INFO] create snapshot idx 300000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:06.949_579+00:00 [11382] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:06.949_594+00:00 [11382] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:06.949_619+00:00 [11382] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:06.949_624+00:00 [11382] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:09.225_677+00:00 [11382] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:09.225_711+00:00 [11382] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:09.225_735+00:00 [11382] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:09.225_741+00:00 [11382] [INFO] create snapshot idx 500000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:11.502_334+00:00 [11382] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:11.502_347+00:00 [11382] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:11.502_385+00:00 [11382] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:11.502_396+00:00 [11382] [INFO] create snapshot idx 600000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:13.782_684+00:00 [11382] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:13.782_702+00:00 [11382] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:13.782_730+00:00 [11382] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:13.782_736+00:00 [11382] [INFO] create snapshot idx 700000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:16.039_886+00:00 [11382] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:16.039_900+00:00 [11382] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:16.039_924+00:00 [11382] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:16.039_931+00:00 [11382] [INFO] create snapshot idx 800000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:18.021_752+00:00 [11463] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:44:18.023_292+00:00 [11463] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:44:18.023_374+00:00 [11463] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:44:18.023_379+00:00 [11463] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:44:18.023_400+00:00 [11463] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:44:18.023_404+00:00 [11463] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:44:18.023_407+00:00 [11463] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:44:18.023_446+00:00 [11463] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:44:18.023_468+00:00 [11499] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:44:19.208_669+00:00 [11468] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:44:19.208_681+00:00 [11468] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:44:19.208_697+00:00 [11468] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:44:19.208_713+00:00 [11468] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:44:19.208_720+00:00 [11468] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:44:19.208_723+00:00 [11468] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:44:19.208_742+00:00 [11468] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:44:19.208_806+00:00 [11498] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:44:19.208_816+00:00 [11498] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:44:19.208_826+00:00 [11498] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:44:19.324_497+00:00 [11463] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:44:29.329_270+00:00 [11463] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:44:29.329_280+00:00 [11463] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:44:29.329_393+00:00 [11463] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:44:41.577_113+00:00 [11498] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:41.577_128+00:00 [11498] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:41.577_149+00:00 [11498] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:41.577_153+00:00 [11498] [INFO] create snapshot idx 100000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:43.833_707+00:00 [11498] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:43.833_724+00:00 [11498] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:43.833_754+00:00 [11498] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:43.833_768+00:00 [11498] [INFO] create snapshot idx 200000 log_term 1 done: 36 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:46.108_994+00:00 [11498] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:46.109_008+00:00 [11498] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:46.109_028+00:00 [11498] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:46.109_032+00:00 [11498] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:48.398_679+00:00 [11498] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:48.398_692+00:00 [11498] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:48.398_716+00:00 [11498] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:48.398_722+00:00 [11498] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:50.684_064+00:00 [11498] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:50.684_078+00:00 [11498] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:50.684_121+00:00 [11498] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:50.684_127+00:00 [11498] [INFO] create snapshot idx 500000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:52.962_390+00:00 [11498] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:52.962_402+00:00 [11498] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:52.962_439+00:00 [11498] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:52.962_444+00:00 [11498] [INFO] create snapshot idx 600000 log_term 1 done: 31 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:55.234_044+00:00 [11498] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:55.234_057+00:00 [11498] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:55.234_122+00:00 [11498] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:55.234_134+00:00 [11498] [INFO] create snapshot idx 700000 log_term 1 done: 70 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:57.522_735+00:00 [11498] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:44:57.522_747+00:00 [11498] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:44:57.522_770+00:00 [11498] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:44:57.522_776+00:00 [11498] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:44:59.442_549+00:00 [11583] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-24T13:44:59.444_065+00:00 [11583] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-24T13:44:59.444_098+00:00 [11583] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-24T13:44:59.444_105+00:00 [11583] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-24T13:44:59.444_128+00:00 [11583] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-24T13:44:59.444_132+00:00 [11583] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-24T13:44:59.444_136+00:00 [11583] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-24T13:44:59.444_173+00:00 [11583] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-24T13:44:59.444_195+00:00 [11619] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-24T13:45:00.532_388+00:00 [11586] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-24T13:45:00.532_399+00:00 [11586] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-24T13:45:00.532_413+00:00 [11586] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-24T13:45:00.532_424+00:00 [11586] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-24T13:45:00.532_430+00:00 [11586] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-24T13:45:00.532_434+00:00 [11586] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-24T13:45:00.532_452+00:00 [11586] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-24T13:45:00.532_524+00:00 [11618] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-24T13:45:00.532_534+00:00 [11618] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-24T13:45:00.532_544+00:00 [11618] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-24T13:45:00.745_100+00:00 [11583] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:45:10.749_839+00:00 [11583] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-24T13:45:10.749_849+00:00 [11583] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-24T13:45:10.749_968+00:00 [11583] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-24T13:45:22.988_992+00:00 [11618] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:22.989_005+00:00 [11618] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:22.989_029+00:00 [11618] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:22.989_034+00:00 [11618] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:45:25.222_994+00:00 [11618] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:25.223_007+00:00 [11618] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:25.223_030+00:00 [11618] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:25.223_036+00:00 [11618] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:45:27.471_536+00:00 [11618] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:27.471_553+00:00 [11618] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:27.471_587+00:00 [11618] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:27.471_598+00:00 [11618] [INFO] create snapshot idx 300000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:45:29.719_050+00:00 [11618] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:29.719_069+00:00 [11618] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:29.719_098+00:00 [11618] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:29.719_113+00:00 [11618] [INFO] create snapshot idx 400000 log_term 1 done: 38 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:45:31.963_088+00:00 [11618] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:31.963_111+00:00 [11618] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:31.963_175+00:00 [11618] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:31.963_181+00:00 [11618] [INFO] create snapshot idx 500000 log_term 1 done: 44 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:45:34.215_563+00:00 [11618] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:34.215_576+00:00 [11618] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:34.215_602+00:00 [11618] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:34.215_607+00:00 [11618] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:45:36.466_264+00:00 [11618] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:36.466_289+00:00 [11618] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:36.466_311+00:00 [11618] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:36.466_317+00:00 [11618] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-24T13:45:38.720_802+00:00 [11618] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-24T13:45:38.720_821+00:00 [11618] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-24T13:45:38.720_851+00:00 [11618] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-24T13:45:38.720_856+00:00 [11618] [INFO] create snapshot idx 800000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
