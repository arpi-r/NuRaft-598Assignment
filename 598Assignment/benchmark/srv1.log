2022-04-23T12:56:12.521_257-05:00 [106323] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T12:56:12.523_917-05:00 [106323] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T12:56:12.523_945-05:00 [106323] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T12:56:12.523_949-05:00 [106323] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T12:56:12.523_991-05:00 [106323] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T12:56:12.523_997-05:00 [106323] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T12:56:12.524_000-05:00 [106323] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T12:56:12.524_046-05:00 [106323] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T12:56:12.524_117-05:00 [106359] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T12:56:13.594_349-05:00 [106356] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T12:56:13.594_378-05:00 [106356] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T12:56:13.594_405-05:00 [106356] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T12:56:13.594_427-05:00 [106356] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T12:56:13.594_442-05:00 [106356] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T12:56:13.594_452-05:00 [106356] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T12:56:13.594_470-05:00 [106356] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T12:56:13.594_599-05:00 [106358] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T12:56:13.594_630-05:00 [106358] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T12:56:13.594_661-05:00 [106358] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T12:56:13.825_637-05:00 [106323] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T12:56:23.834_481-05:00 [106323] [WARN] previous adding server (2) is in progress, last activity: 10009 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T12:56:23.834_502-05:00 [106323] [WARN] activity timeout (last activity 10009 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T12:56:23.834_744-05:00 [106323] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:41:58.020_437+00:00 [12323] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:41:58.021_887+00:00 [12323] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:41:58.021_914+00:00 [12323] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:41:58.021_920+00:00 [12323] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:41:58.021_943+00:00 [12323] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:41:58.021_947+00:00 [12323] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:41:58.021_949+00:00 [12323] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:41:58.021_987+00:00 [12323] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:41:58.022_024+00:00 [12359] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:41:59.639_155+00:00 [12326] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:41:59.639_164+00:00 [12326] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:41:59.639_178+00:00 [12326] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:41:59.639_186+00:00 [12326] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:41:59.639_192+00:00 [12326] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:41:59.639_194+00:00 [12326] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:41:59.639_210+00:00 [12326] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:41:59.639_282+00:00 [12358] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:41:59.639_295+00:00 [12358] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:41:59.639_305+00:00 [12358] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:41:59.823_039+00:00 [12323] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:42:09.826_927+00:00 [12323] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:42:09.826_935+00:00 [12323] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:42:09.827_030+00:00 [12323] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:42:22.637_948+00:00 [12358] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:22.637_957+00:00 [12358] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:22.637_975+00:00 [12358] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:22.637_980+00:00 [12358] [INFO] create snapshot idx 100000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:25.465_255+00:00 [12358] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:25.465_265+00:00 [12358] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:25.465_283+00:00 [12358] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:25.465_288+00:00 [12358] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:28.269_783+00:00 [12358] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:28.269_793+00:00 [12358] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:28.269_811+00:00 [12358] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:28.269_814+00:00 [12358] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:31.108_136+00:00 [12358] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:31.108_149+00:00 [12358] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:31.108_170+00:00 [12358] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:31.108_174+00:00 [12358] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:33.900_681+00:00 [12358] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:33.900_691+00:00 [12358] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:33.900_709+00:00 [12358] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:33.900_713+00:00 [12358] [INFO] create snapshot idx 500000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:36.728_479+00:00 [12358] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:36.728_494+00:00 [12358] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:36.728_520+00:00 [12358] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:36.728_524+00:00 [12358] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:39.528_928+00:00 [12358] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:42:39.528_937+00:00 [12358] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:42:39.528_954+00:00 [12358] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:42:39.528_961+00:00 [12358] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:42:53.622_266+00:00 [12526] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:42:53.623_741+00:00 [12526] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:42:53.623_775+00:00 [12526] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:42:53.623_783+00:00 [12526] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:42:53.623_805+00:00 [12526] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:42:53.623_809+00:00 [12526] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:42:53.623_812+00:00 [12526] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:42:53.623_853+00:00 [12526] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:42:53.623_873+00:00 [12562] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:42:54.959_008+00:00 [12529] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:42:54.959_018+00:00 [12529] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:42:54.959_030+00:00 [12529] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:42:54.959_040+00:00 [12529] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:42:54.959_046+00:00 [12529] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:42:54.959_048+00:00 [12529] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:42:54.959_064+00:00 [12529] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:42:54.959_131+00:00 [12561] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:42:54.959_145+00:00 [12561] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:42:54.959_155+00:00 [12561] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:42:55.174_727+00:00 [12526] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:43:05.178_499+00:00 [12526] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:43:05.178_507+00:00 [12526] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:43:05.178_610+00:00 [12526] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:43:17.984_856+00:00 [12561] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:17.984_866+00:00 [12561] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:17.984_890+00:00 [12561] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:17.984_895+00:00 [12561] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:20.829_383+00:00 [12561] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:20.829_396+00:00 [12561] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:20.829_417+00:00 [12561] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:20.829_422+00:00 [12561] [INFO] create snapshot idx 200000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:23.706_848+00:00 [12561] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:23.706_857+00:00 [12561] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:23.706_874+00:00 [12561] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:23.706_879+00:00 [12561] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:26.475_249+00:00 [12561] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:26.475_260+00:00 [12561] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:26.475_289+00:00 [12561] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:26.475_294+00:00 [12561] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:29.276_697+00:00 [12561] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:29.276_707+00:00 [12561] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:29.276_724+00:00 [12561] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:29.276_731+00:00 [12561] [INFO] create snapshot idx 500000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:32.128_292+00:00 [12561] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:32.128_305+00:00 [12561] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:32.128_330+00:00 [12561] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:32.128_335+00:00 [12561] [INFO] create snapshot idx 600000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:34.979_564+00:00 [12561] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:43:34.979_574+00:00 [12561] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:43:34.979_595+00:00 [12561] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:43:34.979_599+00:00 [12561] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:43:44.698_348+00:00 [12738] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:43:44.699_840+00:00 [12738] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:43:44.699_867+00:00 [12738] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:43:44.699_874+00:00 [12738] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:43:44.699_895+00:00 [12738] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:43:44.699_899+00:00 [12738] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:43:44.699_902+00:00 [12738] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:43:44.699_944+00:00 [12738] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:43:44.699_974+00:00 [12774] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:43:46.380_101+00:00 [12741] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:43:46.380_110+00:00 [12741] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:43:46.380_124+00:00 [12741] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:43:46.380_134+00:00 [12741] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:43:46.380_139+00:00 [12741] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:43:46.380_142+00:00 [12741] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:43:46.380_158+00:00 [12741] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:43:46.380_221+00:00 [12773] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:43:46.380_235+00:00 [12773] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:43:46.380_245+00:00 [12773] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:43:46.501_157+00:00 [12738] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:43:56.504_700+00:00 [12738] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:43:56.504_707+00:00 [12738] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:43:56.504_795+00:00 [12738] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:44:09.842_061+00:00 [12773] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:09.842_073+00:00 [12773] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:09.842_096+00:00 [12773] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:09.842_100+00:00 [12773] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:13.175_252+00:00 [12773] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:13.175_262+00:00 [12773] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:13.175_282+00:00 [12773] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:13.175_288+00:00 [12773] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:16.508_555+00:00 [12773] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:16.508_564+00:00 [12773] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:16.508_581+00:00 [12773] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:16.508_585+00:00 [12773] [INFO] create snapshot idx 300000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:19.841_967+00:00 [12773] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:19.841_976+00:00 [12773] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:19.841_994+00:00 [12773] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:19.841_999+00:00 [12773] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:44:23.175_126+00:00 [12773] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:44:23.175_135+00:00 [12773] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:44:23.175_159+00:00 [12773] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:44:23.175_163+00:00 [12773] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:20.960_452+00:00 [13210] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:45:20.961_896+00:00 [13210] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:45:20.961_932+00:00 [13210] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:45:20.961_937+00:00 [13210] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:45:20.961_959+00:00 [13210] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:45:20.961_963+00:00 [13210] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:45:20.961_966+00:00 [13210] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:45:20.962_008+00:00 [13210] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:45:20.962_038+00:00 [13246] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:45:22.085_159+00:00 [13213] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:45:22.085_167+00:00 [13213] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:45:22.085_181+00:00 [13213] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:45:22.085_190+00:00 [13213] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:45:22.085_196+00:00 [13213] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:45:22.085_199+00:00 [13213] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:45:22.085_215+00:00 [13213] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:45:22.085_270+00:00 [13245] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:45:22.085_278+00:00 [13245] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:45:22.085_288+00:00 [13245] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:45:22.262_712+00:00 [13210] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:45:32.266_589+00:00 [13210] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:45:32.266_596+00:00 [13210] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:45:32.266_691+00:00 [13210] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:45:45.078_818+00:00 [13245] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:45.078_828+00:00 [13245] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:45.078_845+00:00 [13245] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:45.078_852+00:00 [13245] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:47.893_137+00:00 [13245] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:47.893_146+00:00 [13245] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:47.893_165+00:00 [13245] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:47.893_170+00:00 [13245] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:50.729_030+00:00 [13245] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:50.729_041+00:00 [13245] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:50.729_064+00:00 [13245] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:50.729_069+00:00 [13245] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:53.572_639+00:00 [13245] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:53.572_648+00:00 [13245] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:53.572_667+00:00 [13245] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:53.572_677+00:00 [13245] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:56.457_333+00:00 [13245] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:56.457_342+00:00 [13245] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:56.457_362+00:00 [13245] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:56.457_370+00:00 [13245] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:45:59.279_998+00:00 [13245] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:45:59.280_009+00:00 [13245] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:45:59.280_033+00:00 [13245] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:45:59.280_038+00:00 [13245] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:02.331_902+00:00 [13339] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:46:02.333_334+00:00 [13339] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:46:02.333_371+00:00 [13339] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:46:02.333_377+00:00 [13339] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:46:02.333_399+00:00 [13339] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:46:02.333_402+00:00 [13339] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:46:02.333_405+00:00 [13339] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:46:02.333_439+00:00 [13339] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:46:02.333_464+00:00 [13375] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:46:03.626_611+00:00 [13344] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:46:03.626_621+00:00 [13344] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:46:03.626_633+00:00 [13344] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:46:03.626_643+00:00 [13344] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:46:03.626_648+00:00 [13344] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:46:03.626_651+00:00 [13344] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:46:03.626_667+00:00 [13344] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:46:03.626_739+00:00 [13374] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:46:03.626_753+00:00 [13374] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:46:03.626_763+00:00 [13374] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:46:03.634_482+00:00 [13339] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:46:13.638_555+00:00 [13339] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:46:13.638_569+00:00 [13339] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:46:13.638_661+00:00 [13339] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:46:25.872_332+00:00 [13374] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:25.872_344+00:00 [13374] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:25.872_367+00:00 [13374] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:25.872_375+00:00 [13374] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:28.091_515+00:00 [13374] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:28.091_524+00:00 [13374] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:28.091_541+00:00 [13374] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:28.091_545+00:00 [13374] [INFO] create snapshot idx 200000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:30.319_867+00:00 [13374] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:30.319_880+00:00 [13374] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:30.319_903+00:00 [13374] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:30.319_908+00:00 [13374] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:32.556_612+00:00 [13374] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:32.556_627+00:00 [13374] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:32.556_649+00:00 [13374] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:32.556_653+00:00 [13374] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:34.792_257+00:00 [13374] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:34.792_269+00:00 [13374] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:34.792_290+00:00 [13374] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:34.792_294+00:00 [13374] [INFO] create snapshot idx 500000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:37.033_664+00:00 [13374] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:37.033_675+00:00 [13374] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:37.033_695+00:00 [13374] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:37.033_703+00:00 [13374] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:39.266_900+00:00 [13374] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:39.266_909+00:00 [13374] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:39.266_925+00:00 [13374] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:39.266_929+00:00 [13374] [INFO] create snapshot idx 700000 log_term 1 done: 15 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:41.511_133+00:00 [13374] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:46:41.511_145+00:00 [13374] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:46:41.511_166+00:00 [13374] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:46:41.511_175+00:00 [13374] [INFO] create snapshot idx 800000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:46:43.728_130+00:00 [13431] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:46:43.729_579+00:00 [13431] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:46:43.729_618+00:00 [13431] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:46:43.729_623+00:00 [13431] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:46:43.729_648+00:00 [13431] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:46:43.729_652+00:00 [13431] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:46:43.729_655+00:00 [13431] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:46:43.729_697+00:00 [13431] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:46:43.729_721+00:00 [13467] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:46:45.332_879+00:00 [13434] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:46:45.332_889+00:00 [13434] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:46:45.332_901+00:00 [13434] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:46:45.332_910+00:00 [13434] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:46:45.332_916+00:00 [13434] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:46:45.332_919+00:00 [13434] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:46:45.332_934+00:00 [13434] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:46:45.333_004+00:00 [13466] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:46:45.333_018+00:00 [13466] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:46:45.333_029+00:00 [13466] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:46:45.530_757+00:00 [13431] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:46:55.534_826+00:00 [13431] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:46:55.534_834+00:00 [13431] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:46:55.534_930+00:00 [13431] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:47:07.619_783+00:00 [13466] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:07.619_796+00:00 [13466] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:07.619_816+00:00 [13466] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:07.619_820+00:00 [13466] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:09.665_461+00:00 [13466] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:09.665_474+00:00 [13466] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:09.665_497+00:00 [13466] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:09.665_501+00:00 [13466] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:11.747_895+00:00 [13466] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:11.747_906+00:00 [13466] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:11.747_926+00:00 [13466] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:11.747_931+00:00 [13466] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:13.821_635+00:00 [13466] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:13.821_645+00:00 [13466] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:13.821_668+00:00 [13466] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:13.821_672+00:00 [13466] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:15.902_586+00:00 [13466] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:15.902_600+00:00 [13466] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:15.902_620+00:00 [13466] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:15.902_624+00:00 [13466] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:17.993_289+00:00 [13466] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:17.993_301+00:00 [13466] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:17.993_325+00:00 [13466] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:17.993_330+00:00 [13466] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:20.072_363+00:00 [13466] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:20.072_375+00:00 [13466] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:20.072_412+00:00 [13466] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:20.072_422+00:00 [13466] [INFO] create snapshot idx 700000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:22.155_678+00:00 [13466] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:22.155_690+00:00 [13466] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:22.155_725+00:00 [13466] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:22.155_730+00:00 [13466] [INFO] create snapshot idx 800000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:24.233_225+00:00 [13466] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:24.233_238+00:00 [13466] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:24.233_258+00:00 [13466] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:24.233_263+00:00 [13466] [INFO] create snapshot idx 900000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:25.632_258+00:00 [13513] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:47:25.633_710+00:00 [13513] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:47:25.633_739+00:00 [13513] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:47:25.633_743+00:00 [13513] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:47:25.633_765+00:00 [13513] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:47:25.633_769+00:00 [13513] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:47:25.633_772+00:00 [13513] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:47:25.633_803+00:00 [13513] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:47:25.633_836+00:00 [13549] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:47:27.354_970+00:00 [13516] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:47:27.354_979+00:00 [13516] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:47:27.354_993+00:00 [13516] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:47:27.355_002+00:00 [13516] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:47:27.355_008+00:00 [13516] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:47:27.355_012+00:00 [13516] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:47:27.355_029+00:00 [13516] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:47:27.355_088+00:00 [13548] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:47:27.355_096+00:00 [13548] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:47:27.355_104+00:00 [13548] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:47:27.434_775+00:00 [13513] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:47:37.439_020+00:00 [13513] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:47:37.439_028+00:00 [13513] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:47:37.439_123+00:00 [13513] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:47:49.500_056+00:00 [13548] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:49.500_069+00:00 [13548] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:49.500_093+00:00 [13548] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:49.500_099+00:00 [13548] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:51.535_024+00:00 [13548] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:51.535_036+00:00 [13548] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:51.535_058+00:00 [13548] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:51.535_068+00:00 [13548] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:53.575_062+00:00 [13548] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:53.575_074+00:00 [13548] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:53.575_097+00:00 [13548] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:53.575_102+00:00 [13548] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:55.610_872+00:00 [13548] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:55.610_885+00:00 [13548] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:55.610_909+00:00 [13548] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:55.610_913+00:00 [13548] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:57.661_708+00:00 [13548] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:57.661_724+00:00 [13548] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:57.661_755+00:00 [13548] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:57.661_764+00:00 [13548] [INFO] create snapshot idx 500000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:47:59.713_422+00:00 [13548] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:47:59.713_433+00:00 [13548] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:47:59.713_451+00:00 [13548] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:47:59.713_454+00:00 [13548] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:01.773_245+00:00 [13548] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:01.773_258+00:00 [13548] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:01.773_287+00:00 [13548] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:01.773_292+00:00 [13548] [INFO] create snapshot idx 700000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:03.838_808+00:00 [13548] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:03.838_821+00:00 [13548] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:03.838_860+00:00 [13548] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:03.838_865+00:00 [13548] [INFO] create snapshot idx 800000 log_term 1 done: 37 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:05.893_194+00:00 [13548] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:05.893_204+00:00 [13548] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:05.893_227+00:00 [13548] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:05.893_232+00:00 [13548] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:07.540_432+00:00 [13617] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:48:07.541_889+00:00 [13617] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:48:07.541_923+00:00 [13617] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:48:07.541_928+00:00 [13617] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:48:07.541_952+00:00 [13617] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:48:07.541_956+00:00 [13617] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:48:07.541_959+00:00 [13617] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:48:07.541_995+00:00 [13617] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:48:07.542_028+00:00 [13653] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:48:09.189_184+00:00 [13620] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:48:09.189_193+00:00 [13620] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:48:09.189_205+00:00 [13620] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:48:09.189_216+00:00 [13620] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:48:09.189_221+00:00 [13620] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:48:09.189_224+00:00 [13620] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:48:09.189_239+00:00 [13620] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:48:09.189_312+00:00 [13652] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:48:09.189_326+00:00 [13652] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:48:09.189_336+00:00 [13652] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:48:09.342_998+00:00 [13617] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:48:19.347_350+00:00 [13617] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:48:19.347_358+00:00 [13617] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:48:19.347_454+00:00 [13617] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:48:31.436_723+00:00 [13652] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:31.436_733+00:00 [13652] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:31.436_755+00:00 [13652] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:31.436_763+00:00 [13652] [INFO] create snapshot idx 100000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:33.481_709+00:00 [13652] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:33.481_721+00:00 [13652] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:33.481_745+00:00 [13652] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:33.481_750+00:00 [13652] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:35.532_301+00:00 [13652] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:35.532_314+00:00 [13652] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:35.532_337+00:00 [13652] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:35.532_342+00:00 [13652] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:37.594_476+00:00 [13652] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:37.594_486+00:00 [13652] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:37.594_509+00:00 [13652] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:37.594_515+00:00 [13652] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:39.647_910+00:00 [13652] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:39.647_923+00:00 [13652] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:39.647_943+00:00 [13652] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:39.647_947+00:00 [13652] [INFO] create snapshot idx 500000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:41.725_124+00:00 [13652] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:41.725_137+00:00 [13652] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:41.725_160+00:00 [13652] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:41.725_165+00:00 [13652] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:43.787_969+00:00 [13652] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:43.787_981+00:00 [13652] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:43.788_005+00:00 [13652] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:43.788_013+00:00 [13652] [INFO] create snapshot idx 700000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:45.850_800+00:00 [13652] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:45.850_824+00:00 [13652] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:45.850_849+00:00 [13652] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:45.850_856+00:00 [13652] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:47.919_825+00:00 [13652] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:48:47.919_837+00:00 [13652] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:48:47.919_860+00:00 [13652] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:48:47.919_865+00:00 [13652] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:48:49.454_110+00:00 [13702] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:48:49.455_602+00:00 [13702] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:48:49.455_637+00:00 [13702] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:48:49.455_642+00:00 [13702] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:48:49.455_663+00:00 [13702] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:48:49.455_667+00:00 [13702] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:48:49.455_670+00:00 [13702] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:48:49.455_702+00:00 [13702] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:48:49.455_728+00:00 [13738] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:48:51.306_884+00:00 [13705] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:48:51.306_893+00:00 [13705] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:48:51.306_908+00:00 [13705] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:48:51.306_918+00:00 [13705] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:48:51.306_924+00:00 [13705] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:48:51.306_927+00:00 [13705] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:48:51.306_944+00:00 [13705] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:48:51.307_000+00:00 [13737] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:48:51.307_010+00:00 [13737] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:48:51.307_020+00:00 [13737] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:48:51.507_321+00:00 [13702] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:01.511_907+00:00 [13702] [WARN] previous adding server (2) is in progress, last activity: 10005 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:49:01.511_914+00:00 [13702] [WARN] activity timeout (last activity 10005 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:49:01.512_017+00:00 [13702] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:13.583_558+00:00 [13737] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:13.583_570+00:00 [13737] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:13.583_593+00:00 [13737] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:13.583_598+00:00 [13737] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:15.638_649+00:00 [13737] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:15.638_659+00:00 [13737] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:15.638_681+00:00 [13737] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:15.638_685+00:00 [13737] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:17.684_841+00:00 [13737] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:17.684_854+00:00 [13737] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:17.684_878+00:00 [13737] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:17.684_887+00:00 [13737] [INFO] create snapshot idx 300000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:19.733_046+00:00 [13737] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:19.733_060+00:00 [13737] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:19.733_092+00:00 [13737] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:19.733_101+00:00 [13737] [INFO] create snapshot idx 400000 log_term 1 done: 34 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:21.796_588+00:00 [13737] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:21.796_601+00:00 [13737] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:21.796_624+00:00 [13737] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:21.796_629+00:00 [13737] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:23.851_247+00:00 [13737] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:23.851_261+00:00 [13737] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:23.851_304+00:00 [13737] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:23.851_311+00:00 [13737] [INFO] create snapshot idx 600000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:25.916_840+00:00 [13737] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:25.916_853+00:00 [13737] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:25.916_876+00:00 [13737] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:25.916_882+00:00 [13737] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:27.995_152+00:00 [13737] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:27.995_164+00:00 [13737] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:27.995_195+00:00 [13737] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:27.995_199+00:00 [13737] [INFO] create snapshot idx 800000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:30.061_941+00:00 [13737] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:30.061_953+00:00 [13737] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:30.061_973+00:00 [13737] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:30.061_977+00:00 [13737] [INFO] create snapshot idx 900000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:31.618_625+00:00 [13792] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:49:31.620_133+00:00 [13792] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:49:31.620_171+00:00 [13792] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:49:31.620_175+00:00 [13792] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:49:31.620_200+00:00 [13792] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:49:31.620_204+00:00 [13792] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:49:31.620_207+00:00 [13792] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:49:31.620_243+00:00 [13792] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:49:31.620_277+00:00 [13828] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:49:32.680_391+00:00 [13795] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:49:32.680_400+00:00 [13795] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:49:32.680_412+00:00 [13795] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:49:32.680_423+00:00 [13795] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:49:32.680_428+00:00 [13795] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:49:32.680_431+00:00 [13795] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:49:32.680_446+00:00 [13795] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:49:32.680_515+00:00 [13827] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:49:32.680_528+00:00 [13827] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:49:32.680_538+00:00 [13827] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:49:32.921_045+00:00 [13792] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:42.925_140+00:00 [13792] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:49:42.925_148+00:00 [13792] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:49:42.925_243+00:00 [13792] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:49:55.024_442+00:00 [13827] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:55.024_455+00:00 [13827] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:55.024_517+00:00 [13827] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:55.024_523+00:00 [13827] [INFO] create snapshot idx 100000 log_term 1 done: 62 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:57.067_214+00:00 [13827] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:57.067_227+00:00 [13827] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:57.067_250+00:00 [13827] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:57.067_254+00:00 [13827] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:49:59.143_539+00:00 [13827] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:49:59.143_551+00:00 [13827] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:49:59.143_589+00:00 [13827] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:49:59.143_596+00:00 [13827] [INFO] create snapshot idx 300000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:01.197_477+00:00 [13827] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:01.197_488+00:00 [13827] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:01.197_512+00:00 [13827] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:01.197_521+00:00 [13827] [INFO] create snapshot idx 400000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:03.262_302+00:00 [13827] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:03.262_314+00:00 [13827] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:03.262_339+00:00 [13827] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:03.262_344+00:00 [13827] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:05.329_407+00:00 [13827] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:05.329_419+00:00 [13827] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:05.329_442+00:00 [13827] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:05.329_452+00:00 [13827] [INFO] create snapshot idx 600000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:07.384_534+00:00 [13827] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:07.384_546+00:00 [13827] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:07.384_569+00:00 [13827] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:07.384_573+00:00 [13827] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:09.462_701+00:00 [13827] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:09.462_714+00:00 [13827] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:09.462_737+00:00 [13827] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:09.462_742+00:00 [13827] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:11.532_662+00:00 [13827] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:11.532_672+00:00 [13827] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:11.532_695+00:00 [13827] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:11.532_701+00:00 [13827] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:13.035_834+00:00 [13882] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:50:13.037_307+00:00 [13882] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:50:13.037_336+00:00 [13882] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:50:13.037_342+00:00 [13882] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:50:13.037_363+00:00 [13882] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:50:13.037_367+00:00 [13882] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:50:13.037_370+00:00 [13882] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:50:13.037_414+00:00 [13882] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:50:13.037_438+00:00 [13918] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:50:14.137_581+00:00 [13886] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:50:14.137_590+00:00 [13886] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:50:14.137_602+00:00 [13886] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:50:14.137_612+00:00 [13886] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:50:14.137_618+00:00 [13886] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:50:14.137_621+00:00 [13886] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:50:14.137_635+00:00 [13886] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:50:14.137_702+00:00 [13917] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:50:14.137_716+00:00 [13917] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:50:14.137_725+00:00 [13917] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:50:14.338_111+00:00 [13882] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:50:24.341_953+00:00 [13882] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:50:24.341_960+00:00 [13882] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:50:24.342_049+00:00 [13882] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:50:36.463_476+00:00 [13917] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:36.463_492+00:00 [13917] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:36.463_510+00:00 [13917] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:36.463_514+00:00 [13917] [INFO] create snapshot idx 100000 log_term 1 done: 17 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:38.563_778+00:00 [13917] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:38.563_789+00:00 [13917] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:38.563_814+00:00 [13917] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:38.563_819+00:00 [13917] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:40.650_868+00:00 [13917] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:40.650_881+00:00 [13917] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:40.650_904+00:00 [13917] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:40.650_908+00:00 [13917] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:42.744_683+00:00 [13917] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:42.744_696+00:00 [13917] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:42.744_718+00:00 [13917] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:42.744_724+00:00 [13917] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:44.842_795+00:00 [13917] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:44.842_807+00:00 [13917] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:44.842_834+00:00 [13917] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:44.842_842+00:00 [13917] [INFO] create snapshot idx 500000 log_term 1 done: 29 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:46.945_563+00:00 [13917] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:46.945_576+00:00 [13917] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:46.945_596+00:00 [13917] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:46.945_601+00:00 [13917] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:49.034_464+00:00 [13917] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:49.034_475+00:00 [13917] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:49.034_497+00:00 [13917] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:49.034_504+00:00 [13917] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:51.136_528+00:00 [13917] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:51.136_538+00:00 [13917] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:51.136_564+00:00 [13917] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:51.136_571+00:00 [13917] [INFO] create snapshot idx 800000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:53.234_357+00:00 [13917] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:50:53.234_367+00:00 [13917] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:50:53.234_389+00:00 [13917] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:50:53.234_395+00:00 [13917] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:50:54.452_716+00:00 [13987] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:50:54.454_195+00:00 [13987] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:50:54.454_227+00:00 [13987] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:50:54.454_231+00:00 [13987] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:50:54.454_254+00:00 [13987] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:50:54.454_258+00:00 [13987] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:50:54.454_260+00:00 [13987] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:50:54.454_295+00:00 [13987] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:50:54.454_326+00:00 [14023] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:50:56.424_461+00:00 [13990] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:50:56.424_471+00:00 [13990] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:50:56.424_484+00:00 [13990] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:50:56.424_499+00:00 [13990] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:50:56.424_506+00:00 [13990] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:50:56.424_509+00:00 [13990] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:50:56.424_526+00:00 [13990] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:50:56.424_598+00:00 [14022] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:50:56.424_612+00:00 [14022] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:50:56.424_627+00:00 [14022] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:50:56.505_311+00:00 [13987] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:51:06.509_613+00:00 [13987] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:51:06.509_620+00:00 [13987] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:51:06.509_711+00:00 [13987] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:51:18.616_958+00:00 [14022] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:18.616_971+00:00 [14022] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:18.616_990+00:00 [14022] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:18.616_994+00:00 [14022] [INFO] create snapshot idx 100000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:20.705_503+00:00 [14022] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:20.705_514+00:00 [14022] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:20.705_533+00:00 [14022] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:20.705_538+00:00 [14022] [INFO] create snapshot idx 200000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:22.792_072+00:00 [14022] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:22.792_083+00:00 [14022] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:22.792_105+00:00 [14022] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:22.792_110+00:00 [14022] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:24.869_257+00:00 [14022] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:24.869_270+00:00 [14022] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:24.869_293+00:00 [14022] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:24.869_296+00:00 [14022] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:26.965_451+00:00 [14022] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:26.965_462+00:00 [14022] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:26.965_481+00:00 [14022] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:26.965_486+00:00 [14022] [INFO] create snapshot idx 500000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:29.051_077+00:00 [14022] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:29.051_088+00:00 [14022] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:29.051_111+00:00 [14022] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:29.051_117+00:00 [14022] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:31.141_469+00:00 [14022] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:31.141_481+00:00 [14022] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:31.141_504+00:00 [14022] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:31.141_514+00:00 [14022] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:33.233_566+00:00 [14022] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:33.233_578+00:00 [14022] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:33.233_600+00:00 [14022] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:33.233_604+00:00 [14022] [INFO] create snapshot idx 800000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:35.330_320+00:00 [14022] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:51:35.330_336+00:00 [14022] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:51:35.330_360+00:00 [14022] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:51:35.330_364+00:00 [14022] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:51:36.624_259+00:00 [14097] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:51:36.625_733+00:00 [14097] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:51:36.625_767+00:00 [14097] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:51:36.625_772+00:00 [14097] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:51:36.625_794+00:00 [14097] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:51:36.625_799+00:00 [14097] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:51:36.625_801+00:00 [14097] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:51:36.625_838+00:00 [14097] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:51:36.625_867+00:00 [14133] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:51:38.640_998+00:00 [14100] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:51:38.641_007+00:00 [14100] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:51:38.641_019+00:00 [14100] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:51:38.641_036+00:00 [14100] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:51:38.641_041+00:00 [14100] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:51:38.641_044+00:00 [14100] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:51:38.641_059+00:00 [14100] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:51:38.641_133+00:00 [14132] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:51:38.641_147+00:00 [14132] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:51:38.641_156+00:00 [14132] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:51:38.676_976+00:00 [14097] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:51:48.681_384+00:00 [14097] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:51:48.681_393+00:00 [14097] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:51:48.681_485+00:00 [14097] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:52:00.791_895+00:00 [14132] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:00.791_907+00:00 [14132] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:00.791_931+00:00 [14132] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:00.791_936+00:00 [14132] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:02.879_332+00:00 [14132] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:02.879_344+00:00 [14132] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:02.879_379+00:00 [14132] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:02.879_387+00:00 [14132] [INFO] create snapshot idx 200000 log_term 1 done: 36 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:04.968_298+00:00 [14132] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:04.968_321+00:00 [14132] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:04.968_374+00:00 [14132] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:04.968_382+00:00 [14132] [INFO] create snapshot idx 300000 log_term 1 done: 54 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:07.040_016+00:00 [14132] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:07.040_028+00:00 [14132] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:07.040_051+00:00 [14132] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:07.040_057+00:00 [14132] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:09.129_719+00:00 [14132] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:09.129_730+00:00 [14132] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:09.129_753+00:00 [14132] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:09.129_759+00:00 [14132] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:11.222_789+00:00 [14132] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:11.222_808+00:00 [14132] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:11.222_826+00:00 [14132] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:11.222_830+00:00 [14132] [INFO] create snapshot idx 600000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:13.315_655+00:00 [14132] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:13.315_668+00:00 [14132] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:13.315_692+00:00 [14132] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:13.315_697+00:00 [14132] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:15.417_704+00:00 [14132] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:15.417_716+00:00 [14132] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:15.417_757+00:00 [14132] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:15.417_763+00:00 [14132] [INFO] create snapshot idx 800000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:17.507_314+00:00 [14132] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:17.507_325+00:00 [14132] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:17.507_348+00:00 [14132] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:17.507_353+00:00 [14132] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:18.795_707+00:00 [14207] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:52:18.797_179+00:00 [14207] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:52:18.797_213+00:00 [14207] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:52:18.797_217+00:00 [14207] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:52:18.797_239+00:00 [14207] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:52:18.797_244+00:00 [14207] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:52:18.797_246+00:00 [14207] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:52:18.797_279+00:00 [14207] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:52:18.797_305+00:00 [14243] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:52:20.118_432+00:00 [14210] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:52:20.118_440+00:00 [14210] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:52:20.118_453+00:00 [14210] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:52:20.118_468+00:00 [14210] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:52:20.118_474+00:00 [14210] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:52:20.118_477+00:00 [14210] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:52:20.118_493+00:00 [14210] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:52:20.118_560+00:00 [14242] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:52:20.118_580+00:00 [14242] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:52:20.118_590+00:00 [14242] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:52:20.348_129+00:00 [14207] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:52:30.352_071+00:00 [14207] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:52:30.352_079+00:00 [14207] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:52:30.352_172+00:00 [14207] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:52:42.477_081+00:00 [14242] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:42.477_093+00:00 [14242] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:42.477_116+00:00 [14242] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:42.477_123+00:00 [14242] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:44.557_726+00:00 [14242] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:44.557_739+00:00 [14242] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:44.557_762+00:00 [14242] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:44.557_768+00:00 [14242] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:46.643_999+00:00 [14242] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:46.644_010+00:00 [14242] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:46.644_035+00:00 [14242] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:46.644_041+00:00 [14242] [INFO] create snapshot idx 300000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:48.718_357+00:00 [14242] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:48.718_367+00:00 [14242] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:48.718_388+00:00 [14242] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:48.718_393+00:00 [14242] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:50.798_111+00:00 [14242] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:50.798_122+00:00 [14242] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:50.798_142+00:00 [14242] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:50.798_148+00:00 [14242] [INFO] create snapshot idx 500000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:52.901_720+00:00 [14242] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:52.901_733+00:00 [14242] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:52.901_755+00:00 [14242] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:52.901_760+00:00 [14242] [INFO] create snapshot idx 600000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:54.991_154+00:00 [14242] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:54.991_166+00:00 [14242] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:54.991_211+00:00 [14242] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:54.991_218+00:00 [14242] [INFO] create snapshot idx 700000 log_term 1 done: 45 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:57.092_410+00:00 [14242] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:57.092_422+00:00 [14242] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:57.092_446+00:00 [14242] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:57.092_451+00:00 [14242] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:52:59.175_720+00:00 [14242] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:52:59.175_759+00:00 [14242] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:52:59.175_786+00:00 [14242] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:52:59.175_792+00:00 [14242] [INFO] create snapshot idx 900000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:00.470_137+00:00 [14301] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:53:00.471_655+00:00 [14301] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:53:00.471_683+00:00 [14301] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:53:00.471_690+00:00 [14301] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:53:00.471_712+00:00 [14301] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:53:00.471_717+00:00 [14301] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:53:00.471_720+00:00 [14301] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:53:00.471_759+00:00 [14301] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:53:00.471_792+00:00 [14337] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:53:01.608_914+00:00 [14304] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:53:01.608_923+00:00 [14304] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:53:01.608_936+00:00 [14304] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:53:01.608_946+00:00 [14304] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:53:01.608_952+00:00 [14304] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:53:01.608_955+00:00 [14304] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:53:01.608_971+00:00 [14304] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:53:01.609_039+00:00 [14336] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:53:01.609_052+00:00 [14336] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:53:01.609_062+00:00 [14336] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:53:01.772_553+00:00 [14301] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:53:11.776_509+00:00 [14301] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:53:11.776_517+00:00 [14301] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:53:11.776_612+00:00 [14301] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:53:23.910_438+00:00 [14336] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:23.910_456+00:00 [14336] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:23.910_479+00:00 [14336] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:23.910_484+00:00 [14336] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:25.986_307+00:00 [14336] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:25.986_320+00:00 [14336] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:25.986_343+00:00 [14336] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:25.986_349+00:00 [14336] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:28.071_720+00:00 [14336] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:28.071_732+00:00 [14336] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:28.071_754+00:00 [14336] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:28.071_759+00:00 [14336] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:30.153_706+00:00 [14336] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:30.153_717+00:00 [14336] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:30.153_739+00:00 [14336] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:30.153_744+00:00 [14336] [INFO] create snapshot idx 400000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:32.235_757+00:00 [14336] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:32.235_772+00:00 [14336] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:32.235_795+00:00 [14336] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:32.235_801+00:00 [14336] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:34.329_531+00:00 [14336] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:34.329_544+00:00 [14336] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:34.329_568+00:00 [14336] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:34.329_577+00:00 [14336] [INFO] create snapshot idx 600000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:36.403_797+00:00 [14336] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:36.403_814+00:00 [14336] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:36.403_837+00:00 [14336] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:36.403_841+00:00 [14336] [INFO] create snapshot idx 700000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:38.505_889+00:00 [14336] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:38.505_901+00:00 [14336] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:38.505_924+00:00 [14336] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:38.505_929+00:00 [14336] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:40.593_491+00:00 [14336] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:53:40.593_501+00:00 [14336] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:53:40.593_519+00:00 [14336] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:53:40.593_528+00:00 [14336] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:53:41.895_923+00:00 [14397] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:53:41.897_358+00:00 [14397] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:53:41.897_399+00:00 [14397] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:53:41.897_404+00:00 [14397] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:53:41.897_429+00:00 [14397] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:53:41.897_433+00:00 [14397] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:53:41.897_436+00:00 [14397] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:53:41.897_471+00:00 [14397] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:53:41.897_497+00:00 [14433] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:53:42.965_672+00:00 [14400] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:53:42.965_681+00:00 [14400] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:53:42.965_693+00:00 [14400] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:53:42.965_703+00:00 [14400] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:53:42.965_709+00:00 [14400] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:53:42.965_712+00:00 [14400] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:53:42.965_729+00:00 [14400] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:53:42.965_785+00:00 [14432] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:53:42.965_793+00:00 [14432] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:53:42.965_801+00:00 [14432] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:53:43.198_225+00:00 [14397] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:53:53.201_985+00:00 [14397] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:53:53.201_993+00:00 [14397] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:53:53.202_082+00:00 [14397] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:54:05.318_007+00:00 [14432] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:05.318_016+00:00 [14432] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:05.318_042+00:00 [14432] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:05.318_048+00:00 [14432] [INFO] create snapshot idx 100000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:07.391_310+00:00 [14432] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:07.391_322+00:00 [14432] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:07.391_361+00:00 [14432] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:07.391_369+00:00 [14432] [INFO] create snapshot idx 200000 log_term 1 done: 40 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:09.478_733+00:00 [14432] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:09.478_751+00:00 [14432] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:09.478_774+00:00 [14432] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:09.478_780+00:00 [14432] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:11.561_034+00:00 [14432] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:11.561_047+00:00 [14432] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:11.561_070+00:00 [14432] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:11.561_076+00:00 [14432] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:13.647_292+00:00 [14432] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:13.647_304+00:00 [14432] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:13.647_329+00:00 [14432] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:13.647_338+00:00 [14432] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:15.747_663+00:00 [14432] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:15.747_677+00:00 [14432] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:15.747_700+00:00 [14432] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:15.747_705+00:00 [14432] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:17.823_769+00:00 [14432] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:17.823_781+00:00 [14432] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:17.823_804+00:00 [14432] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:17.823_814+00:00 [14432] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:19.915_010+00:00 [14432] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:19.915_020+00:00 [14432] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:19.915_042+00:00 [14432] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:19.915_052+00:00 [14432] [INFO] create snapshot idx 800000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:22.012_819+00:00 [14432] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:22.012_831+00:00 [14432] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:22.012_874+00:00 [14432] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:22.012_882+00:00 [14432] [INFO] create snapshot idx 900000 log_term 1 done: 43 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:23.319_473+00:00 [14495] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:54:23.320_922+00:00 [14495] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:54:23.320_955+00:00 [14495] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:54:23.320_961+00:00 [14495] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:54:23.320_984+00:00 [14495] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:54:23.320_989+00:00 [14495] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:54:23.320_991+00:00 [14495] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:54:23.321_026+00:00 [14495] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:54:23.321_052+00:00 [14531] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:54:24.438_189+00:00 [14498] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:54:24.438_199+00:00 [14498] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:54:24.438_212+00:00 [14498] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:54:24.438_221+00:00 [14498] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:54:24.438_227+00:00 [14498] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:54:24.438_230+00:00 [14498] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:54:24.438_249+00:00 [14498] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:54:24.438_315+00:00 [14530] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:54:24.438_329+00:00 [14530] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:54:24.438_339+00:00 [14530] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:54:24.621_787+00:00 [14495] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:54:34.625_855+00:00 [14495] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:54:34.625_863+00:00 [14495] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:54:34.625_959+00:00 [14495] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:54:46.748_346+00:00 [14530] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:46.748_358+00:00 [14530] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:46.748_388+00:00 [14530] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:46.748_394+00:00 [14530] [INFO] create snapshot idx 100000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:48.826_890+00:00 [14530] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:48.826_914+00:00 [14530] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:48.826_935+00:00 [14530] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:48.826_943+00:00 [14530] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:50.918_953+00:00 [14530] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:50.918_965+00:00 [14530] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:50.918_989+00:00 [14530] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:50.918_999+00:00 [14530] [INFO] create snapshot idx 300000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:52.998_865+00:00 [14530] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:52.998_879+00:00 [14530] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:52.998_903+00:00 [14530] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:52.998_908+00:00 [14530] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:55.088_410+00:00 [14530] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:55.088_423+00:00 [14530] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:55.088_447+00:00 [14530] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:55.088_457+00:00 [14530] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:57.186_994+00:00 [14530] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:57.187_004+00:00 [14530] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:57.187_026+00:00 [14530] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:57.187_031+00:00 [14530] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:54:59.277_806+00:00 [14530] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:54:59.277_819+00:00 [14530] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:54:59.277_842+00:00 [14530] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:54:59.277_847+00:00 [14530] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:01.371_922+00:00 [14530] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:01.371_934+00:00 [14530] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:01.371_969+00:00 [14530] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:01.371_975+00:00 [14530] [INFO] create snapshot idx 800000 log_term 1 done: 34 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:03.472_867+00:00 [14530] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:03.472_879+00:00 [14530] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:03.472_902+00:00 [14530] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:03.472_906+00:00 [14530] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:04.747_390+00:00 [14599] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:55:04.748_906+00:00 [14599] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:55:04.748_941+00:00 [14599] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:55:04.748_945+00:00 [14599] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:55:04.748_967+00:00 [14599] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:55:04.748_971+00:00 [14599] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:55:04.748_974+00:00 [14599] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:55:04.749_012+00:00 [14599] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:55:04.749_043+00:00 [14635] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:55:06.570_162+00:00 [14602] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:55:06.570_171+00:00 [14602] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:55:06.570_184+00:00 [14602] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:55:06.570_197+00:00 [14602] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:55:06.570_202+00:00 [14602] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:55:06.570_205+00:00 [14602] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:55:06.570_221+00:00 [14602] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:55:06.570_280+00:00 [14634] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:55:06.570_289+00:00 [14634] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:55:06.570_297+00:00 [14634] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:55:06.799_996+00:00 [14599] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:55:16.803_678+00:00 [14599] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:55:16.803_686+00:00 [14599] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:55:16.803_781+00:00 [14599] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:55:28.932_956+00:00 [14634] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:28.932_972+00:00 [14634] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:28.932_992+00:00 [14634] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:28.933_002+00:00 [14634] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:31.010_154+00:00 [14634] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:31.010_177+00:00 [14634] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:31.010_200+00:00 [14634] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:31.010_209+00:00 [14634] [INFO] create snapshot idx 200000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:33.093_771+00:00 [14634] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:33.093_783+00:00 [14634] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:33.093_806+00:00 [14634] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:33.093_811+00:00 [14634] [INFO] create snapshot idx 300000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:35.183_449+00:00 [14634] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:35.183_462+00:00 [14634] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:35.183_483+00:00 [14634] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:35.183_488+00:00 [14634] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:37.266_661+00:00 [14634] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:37.266_675+00:00 [14634] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:37.266_698+00:00 [14634] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:37.266_707+00:00 [14634] [INFO] create snapshot idx 500000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:39.371_417+00:00 [14634] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:39.371_430+00:00 [14634] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:39.371_454+00:00 [14634] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:39.371_460+00:00 [14634] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:41.452_551+00:00 [14634] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:41.452_563+00:00 [14634] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:41.452_583+00:00 [14634] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:41.452_588+00:00 [14634] [INFO] create snapshot idx 700000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:43.544_797+00:00 [14634] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:43.544_809+00:00 [14634] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:43.544_832+00:00 [14634] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:43.544_840+00:00 [14634] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:45.636_227+00:00 [14634] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:55:45.636_237+00:00 [14634] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:55:45.636_261+00:00 [14634] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:55:45.636_270+00:00 [14634] [INFO] create snapshot idx 900000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:55:46.923_554+00:00 [14702] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T20:55:46.925_038+00:00 [14702] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T20:55:46.925_066+00:00 [14702] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T20:55:46.925_074+00:00 [14702] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T20:55:46.925_097+00:00 [14702] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T20:55:46.925_101+00:00 [14702] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T20:55:46.925_104+00:00 [14702] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T20:55:46.925_136+00:00 [14702] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T20:55:46.925_165+00:00 [14738] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T20:55:48.709_304+00:00 [14705] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T20:55:48.709_314+00:00 [14705] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T20:55:48.709_328+00:00 [14705] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T20:55:48.709_338+00:00 [14705] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T20:55:48.709_343+00:00 [14705] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T20:55:48.709_346+00:00 [14705] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T20:55:48.709_362+00:00 [14705] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T20:55:48.709_433+00:00 [14737] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T20:55:48.709_447+00:00 [14737] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T20:55:48.709_457+00:00 [14737] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T20:55:48.726_035+00:00 [14702] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:55:58.729_843+00:00 [14702] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T20:55:58.729_852+00:00 [14702] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T20:55:58.729_946+00:00 [14702] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T20:56:10.856_486+00:00 [14737] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:10.856_499+00:00 [14737] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:10.856_522+00:00 [14737] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:10.856_530+00:00 [14737] [INFO] create snapshot idx 100000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:12.929_378+00:00 [14737] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:12.929_393+00:00 [14737] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:12.929_415+00:00 [14737] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:12.929_420+00:00 [14737] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:15.021_614+00:00 [14737] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:15.021_627+00:00 [14737] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:15.021_684+00:00 [14737] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:15.021_690+00:00 [14737] [INFO] create snapshot idx 300000 log_term 1 done: 57 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:17.100_096+00:00 [14737] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:17.100_108+00:00 [14737] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:17.100_127+00:00 [14737] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:17.100_131+00:00 [14737] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:19.187_604+00:00 [14737] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:19.187_616+00:00 [14737] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:19.187_640+00:00 [14737] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:19.187_645+00:00 [14737] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:21.294_085+00:00 [14737] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:21.294_099+00:00 [14737] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:21.294_121+00:00 [14737] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:21.294_131+00:00 [14737] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:23.388_171+00:00 [14737] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:23.388_184+00:00 [14737] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:23.388_208+00:00 [14737] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:23.388_213+00:00 [14737] [INFO] create snapshot idx 700000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:25.479_894+00:00 [14737] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:25.479_906+00:00 [14737] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:25.479_929+00:00 [14737] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:25.479_934+00:00 [14737] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T20:56:27.575_486+00:00 [14737] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T20:56:27.575_498+00:00 [14737] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T20:56:27.575_521+00:00 [14737] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T20:56:27.575_526+00:00 [14737] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:00:42.191_752+00:00 [15138] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:00:42.193_222+00:00 [15138] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:00:42.193_254+00:00 [15138] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:00:42.193_258+00:00 [15138] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:00:42.193_279+00:00 [15138] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:00:42.193_283+00:00 [15138] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:00:42.193_285+00:00 [15138] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:00:42.193_319+00:00 [15138] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:00:42.193_353+00:00 [15174] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:00:43.809_483+00:00 [15141] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:00:43.809_492+00:00 [15141] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:00:43.809_504+00:00 [15141] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:00:43.809_514+00:00 [15141] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:00:43.809_519+00:00 [15141] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:00:43.809_523+00:00 [15141] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:00:43.809_539+00:00 [15141] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:00:43.809_592+00:00 [15173] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:00:43.809_600+00:00 [15173] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:00:43.809_608+00:00 [15173] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:00:43.994_233+00:00 [15138] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:00:53.998_393+00:00 [15138] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:00:53.998_401+00:00 [15138] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:00:53.998_504+00:00 [15138] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:01:06.772_452+00:00 [15173] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:06.772_462+00:00 [15173] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:06.772_479+00:00 [15173] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:06.772_486+00:00 [15173] [INFO] create snapshot idx 100000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:09.546_602+00:00 [15173] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:09.546_615+00:00 [15173] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:09.546_640+00:00 [15173] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:09.546_644+00:00 [15173] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:12.324_819+00:00 [15173] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:12.324_833+00:00 [15173] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:12.324_857+00:00 [15173] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:12.324_862+00:00 [15173] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:15.149_990+00:00 [15173] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:15.150_000+00:00 [15173] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:15.150_019+00:00 [15173] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:15.150_024+00:00 [15173] [INFO] create snapshot idx 400000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:17.956_714+00:00 [15173] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:17.956_728+00:00 [15173] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:17.956_752+00:00 [15173] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:17.956_756+00:00 [15173] [INFO] create snapshot idx 500000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:20.792_178+00:00 [15173] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:20.792_188+00:00 [15173] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:20.792_208+00:00 [15173] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:20.792_212+00:00 [15173] [INFO] create snapshot idx 600000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:23.614_389+00:00 [15173] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:23.614_399+00:00 [15173] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:23.614_416+00:00 [15173] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:23.614_420+00:00 [15173] [INFO] create snapshot idx 700000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:24.064_799+00:00 [15262] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:01:24.066_958+00:00 [15262] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:01:24.066_997+00:00 [15262] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:01:24.067_004+00:00 [15262] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:01:24.067_029+00:00 [15262] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:01:24.067_034+00:00 [15262] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:01:24.067_037+00:00 [15262] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:01:24.067_071+00:00 [15262] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:01:24.067_097+00:00 [15298] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:01:26.082_238+00:00 [15265] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:01:26.082_249+00:00 [15265] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:01:26.082_261+00:00 [15265] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:01:26.082_271+00:00 [15265] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:01:26.082_277+00:00 [15265] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:01:26.082_280+00:00 [15265] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:01:26.082_296+00:00 [15265] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:01:26.082_355+00:00 [15297] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:01:26.082_363+00:00 [15297] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:01:26.082_373+00:00 [15297] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:01:26.118_048+00:00 [15262] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:01:36.121_974+00:00 [15262] [WARN] previous adding server (2) is in progress, last activity: 10003 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:01:36.121_981+00:00 [15262] [WARN] activity timeout (last activity 10003 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:01:36.122_074+00:00 [15262] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:01:48.344_071+00:00 [15297] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:48.344_082+00:00 [15297] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:48.344_101+00:00 [15297] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:48.344_109+00:00 [15297] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:50.545_736+00:00 [15297] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:50.545_750+00:00 [15297] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:50.545_771+00:00 [15297] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:50.545_780+00:00 [15297] [INFO] create snapshot idx 200000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:52.770_410+00:00 [15297] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:52.770_420+00:00 [15297] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:52.770_443+00:00 [15297] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:52.770_449+00:00 [15297] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:54.977_802+00:00 [15297] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:54.977_816+00:00 [15297] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:54.977_839+00:00 [15297] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:54.977_850+00:00 [15297] [INFO] create snapshot idx 400000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:57.201_678+00:00 [15297] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:57.201_690+00:00 [15297] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:57.201_713+00:00 [15297] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:57.201_718+00:00 [15297] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:01:59.422_292+00:00 [15297] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:01:59.422_306+00:00 [15297] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:01:59.422_328+00:00 [15297] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:01:59.422_332+00:00 [15297] [INFO] create snapshot idx 600000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:01.657_430+00:00 [15297] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:01.657_441+00:00 [15297] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:01.657_462+00:00 [15297] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:01.657_468+00:00 [15297] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:03.888_756+00:00 [15297] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:03.888_770+00:00 [15297] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:03.888_793+00:00 [15297] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:03.888_799+00:00 [15297] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:06.211_697+00:00 [15338] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:02:06.213_130+00:00 [15338] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:02:06.213_169+00:00 [15338] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:02:06.213_174+00:00 [15338] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:02:06.213_196+00:00 [15338] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:02:06.213_200+00:00 [15338] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:02:06.213_203+00:00 [15338] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:02:06.213_245+00:00 [15338] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:02:06.213_269+00:00 [15374] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:02:07.712_402+00:00 [15341] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:02:07.712_411+00:00 [15341] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:02:07.712_424+00:00 [15341] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:02:07.712_433+00:00 [15341] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:02:07.712_439+00:00 [15341] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:02:07.712_442+00:00 [15341] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:02:07.712_457+00:00 [15341] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:02:07.712_528+00:00 [15373] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:02:07.712_542+00:00 [15373] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:02:07.712_552+00:00 [15373] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:02:07.764_143+00:00 [15338] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:02:17.768_292+00:00 [15338] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:02:17.768_301+00:00 [15338] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:02:17.768_399+00:00 [15338] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:02:29.873_424+00:00 [15373] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:29.873_436+00:00 [15373] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:29.873_459+00:00 [15373] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:29.873_464+00:00 [15373] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:31.956_257+00:00 [15373] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:31.956_267+00:00 [15373] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:31.956_286+00:00 [15373] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:31.956_293+00:00 [15373] [INFO] create snapshot idx 200000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:34.061_098+00:00 [15373] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:34.061_111+00:00 [15373] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:34.061_134+00:00 [15373] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:34.061_142+00:00 [15373] [INFO] create snapshot idx 300000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:36.151_151+00:00 [15373] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:36.151_165+00:00 [15373] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:36.151_184+00:00 [15373] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:36.151_189+00:00 [15373] [INFO] create snapshot idx 400000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:38.238_077+00:00 [15373] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:38.238_088+00:00 [15373] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:38.238_111+00:00 [15373] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:38.238_120+00:00 [15373] [INFO] create snapshot idx 500000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:40.339_727+00:00 [15373] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:40.339_740+00:00 [15373] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:40.339_760+00:00 [15373] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:40.339_766+00:00 [15373] [INFO] create snapshot idx 600000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:42.438_882+00:00 [15373] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:42.438_895+00:00 [15373] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:42.438_918+00:00 [15373] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:42.438_923+00:00 [15373] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:44.542_481+00:00 [15373] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:44.542_496+00:00 [15373] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:44.542_516+00:00 [15373] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:44.542_520+00:00 [15373] [INFO] create snapshot idx 800000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:46.631_406+00:00 [15373] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:02:46.631_419+00:00 [15373] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:02:46.631_440+00:00 [15373] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:02:46.631_449+00:00 [15373] [INFO] create snapshot idx 900000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:02:47.867_517+00:00 [15416] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:02:47.869_005+00:00 [15416] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:02:47.869_034+00:00 [15416] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:02:47.869_040+00:00 [15416] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:02:47.869_061+00:00 [15416] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:02:47.869_065+00:00 [15416] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:02:47.869_068+00:00 [15416] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:02:47.869_100+00:00 [15416] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:02:47.869_126+00:00 [15452] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:02:49.560_270+00:00 [15419] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:02:49.560_280+00:00 [15419] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:02:49.560_293+00:00 [15419] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:02:49.560_303+00:00 [15419] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:02:49.560_309+00:00 [15419] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:02:49.560_312+00:00 [15419] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:02:49.560_328+00:00 [15419] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:02:49.560_387+00:00 [15451] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:02:49.560_395+00:00 [15451] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:02:49.560_405+00:00 [15451] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:02:49.670_351+00:00 [15416] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:02:59.674_223+00:00 [15416] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:02:59.674_231+00:00 [15416] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:02:59.674_326+00:00 [15416] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:03:11.761_589+00:00 [15451] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:11.761_601+00:00 [15451] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:11.761_631+00:00 [15451] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:11.761_636+00:00 [15451] [INFO] create snapshot idx 100000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:13.800_884+00:00 [15451] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:13.800_896+00:00 [15451] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:13.800_917+00:00 [15451] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:13.800_923+00:00 [15451] [INFO] create snapshot idx 200000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:15.862_751+00:00 [15451] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:15.862_763+00:00 [15451] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:15.862_794+00:00 [15451] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:15.862_800+00:00 [15451] [INFO] create snapshot idx 300000 log_term 1 done: 30 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:17.912_984+00:00 [15451] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:17.912_996+00:00 [15451] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:17.913_018+00:00 [15451] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:17.913_024+00:00 [15451] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:19.971_784+00:00 [15451] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:19.971_798+00:00 [15451] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:19.971_821+00:00 [15451] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:19.971_828+00:00 [15451] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:22.043_352+00:00 [15451] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:22.043_365+00:00 [15451] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:22.043_412+00:00 [15451] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:22.043_420+00:00 [15451] [INFO] create snapshot idx 600000 log_term 1 done: 48 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:24.099_855+00:00 [15451] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:24.099_865+00:00 [15451] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:24.099_887+00:00 [15451] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:24.099_892+00:00 [15451] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:26.157_965+00:00 [15451] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:26.157_978+00:00 [15451] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:26.158_002+00:00 [15451] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:26.158_006+00:00 [15451] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:28.219_339+00:00 [15451] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:28.219_353+00:00 [15451] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:28.219_379+00:00 [15451] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:28.219_385+00:00 [15451] [INFO] create snapshot idx 900000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:29.774_987+00:00 [15495] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:03:29.776_439+00:00 [15495] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:03:29.776_473+00:00 [15495] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:03:29.776_480+00:00 [15495] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:03:29.776_502+00:00 [15495] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:03:29.776_506+00:00 [15495] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:03:29.776_509+00:00 [15495] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:03:29.776_545+00:00 [15495] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:03:29.776_569+00:00 [15531] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:03:31.575_710+00:00 [15498] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:03:31.575_720+00:00 [15498] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:03:31.575_733+00:00 [15498] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:03:31.575_744+00:00 [15498] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:03:31.575_750+00:00 [15498] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:03:31.575_753+00:00 [15498] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:03:31.575_771+00:00 [15498] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:03:31.575_828+00:00 [15530] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:03:31.575_837+00:00 [15530] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:03:31.575_845+00:00 [15530] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:03:31.577_438+00:00 [15495] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:03:41.581_421+00:00 [15495] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:03:41.581_428+00:00 [15495] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:03:41.581_519+00:00 [15495] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:03:53.655_276+00:00 [15530] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:53.655_288+00:00 [15530] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:53.655_312+00:00 [15530] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:53.655_317+00:00 [15530] [INFO] create snapshot idx 100000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:55.690_406+00:00 [15530] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:55.690_415+00:00 [15530] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:55.690_438+00:00 [15530] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:55.690_446+00:00 [15530] [INFO] create snapshot idx 200000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:57.745_002+00:00 [15530] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:57.745_015+00:00 [15530] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:57.745_036+00:00 [15530] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:57.745_040+00:00 [15530] [INFO] create snapshot idx 300000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:03:59.802_240+00:00 [15530] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:03:59.802_259+00:00 [15530] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:03:59.802_283+00:00 [15530] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:03:59.802_289+00:00 [15530] [INFO] create snapshot idx 400000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:01.849_316+00:00 [15530] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:01.849_328+00:00 [15530] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:01.849_352+00:00 [15530] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:01.849_357+00:00 [15530] [INFO] create snapshot idx 500000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:03.919_830+00:00 [15530] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:03.919_843+00:00 [15530] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:03.919_865+00:00 [15530] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:03.919_874+00:00 [15530] [INFO] create snapshot idx 600000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:05.966_418+00:00 [15530] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:05.966_439+00:00 [15530] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:05.966_463+00:00 [15530] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:05.966_472+00:00 [15530] [INFO] create snapshot idx 700000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:08.020_705+00:00 [15530] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:08.020_716+00:00 [15530] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:08.020_738+00:00 [15530] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:08.020_743+00:00 [15530] [INFO] create snapshot idx 800000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:10.070_101+00:00 [15530] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:10.070_112+00:00 [15530] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:10.070_135+00:00 [15530] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:10.070_144+00:00 [15530] [INFO] create snapshot idx 900000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:11.687_631+00:00 [15577] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:04:11.689_739+00:00 [15577] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:04:11.689_778+00:00 [15577] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:04:11.689_787+00:00 [15577] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:04:11.689_811+00:00 [15577] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:04:11.689_816+00:00 [15577] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:04:11.689_819+00:00 [15577] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:04:11.689_852+00:00 [15577] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:04:11.689_879+00:00 [15613] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:04:13.500_003+00:00 [15582] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:04:13.500_012+00:00 [15582] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:04:13.500_025+00:00 [15582] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:04:13.500_038+00:00 [15582] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:04:13.500_044+00:00 [15582] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:04:13.500_047+00:00 [15582] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:04:13.500_062+00:00 [15582] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:04:13.500_130+00:00 [15612] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:04:13.500_144+00:00 [15612] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:04:13.500_154+00:00 [15612] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:04:13.740_894+00:00 [15577] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:04:23.744_830+00:00 [15577] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:04:23.744_838+00:00 [15577] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:04:23.744_928+00:00 [15577] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:04:35.824_033+00:00 [15612] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:35.824_046+00:00 [15612] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:35.824_069+00:00 [15612] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:35.824_075+00:00 [15612] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:37.855_255+00:00 [15612] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:37.855_265+00:00 [15612] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:37.855_284+00:00 [15612] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:37.855_288+00:00 [15612] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:39.908_823+00:00 [15612] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:39.908_834+00:00 [15612] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:39.908_856+00:00 [15612] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:39.908_862+00:00 [15612] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:41.950_885+00:00 [15612] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:41.950_899+00:00 [15612] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:41.950_916+00:00 [15612] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:41.950_920+00:00 [15612] [INFO] create snapshot idx 400000 log_term 1 done: 16 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:43.994_948+00:00 [15612] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:43.994_960+00:00 [15612] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:43.994_983+00:00 [15612] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:43.994_992+00:00 [15612] [INFO] create snapshot idx 500000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:46.058_147+00:00 [15612] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:46.058_159+00:00 [15612] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:46.058_183+00:00 [15612] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:46.058_187+00:00 [15612] [INFO] create snapshot idx 600000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:48.102_840+00:00 [15612] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:48.102_850+00:00 [15612] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:48.102_872+00:00 [15612] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:48.102_877+00:00 [15612] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:50.165_191+00:00 [15612] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:50.165_204+00:00 [15612] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:50.165_228+00:00 [15612] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:50.165_232+00:00 [15612] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:52.225_695+00:00 [15612] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:04:52.225_708+00:00 [15612] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:04:52.225_731+00:00 [15612] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:04:52.225_735+00:00 [15612] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:04:53.853_483+00:00 [15659] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:04:53.855_604+00:00 [15659] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:04:53.855_639+00:00 [15659] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:04:53.855_643+00:00 [15659] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:04:53.855_666+00:00 [15659] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:04:53.855_671+00:00 [15659] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:04:53.855_673+00:00 [15659] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:04:53.855_718+00:00 [15659] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:04:53.855_744+00:00 [15695] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:04:55.231_873+00:00 [15664] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:04:55.231_882+00:00 [15664] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:04:55.231_895+00:00 [15664] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:04:55.231_910+00:00 [15664] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:04:55.231_916+00:00 [15664] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:04:55.231_919+00:00 [15664] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:04:55.231_935+00:00 [15664] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:04:55.232_000+00:00 [15694] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:04:55.232_014+00:00 [15694] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:04:55.232_025+00:00 [15694] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:04:55.406_518+00:00 [15659] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:05.410_536+00:00 [15659] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:05:05.410_544+00:00 [15659] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:05:05.410_644+00:00 [15659] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:17.534_633+00:00 [15694] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:17.534_645+00:00 [15694] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:17.534_668+00:00 [15694] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:17.534_673+00:00 [15694] [INFO] create snapshot idx 100000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:19.611_797+00:00 [15694] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:19.611_812+00:00 [15694] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:19.611_836+00:00 [15694] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:19.611_845+00:00 [15694] [INFO] create snapshot idx 200000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:21.697_226+00:00 [15694] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:21.697_237+00:00 [15694] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:21.697_259+00:00 [15694] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:21.697_264+00:00 [15694] [INFO] create snapshot idx 300000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:23.782_315+00:00 [15694] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:23.782_326+00:00 [15694] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:23.782_348+00:00 [15694] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:23.782_356+00:00 [15694] [INFO] create snapshot idx 400000 log_term 1 done: 24 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:25.859_149+00:00 [15694] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:25.859_160+00:00 [15694] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:25.859_183+00:00 [15694] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:25.859_188+00:00 [15694] [INFO] create snapshot idx 500000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:27.963_060+00:00 [15694] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:27.963_083+00:00 [15694] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:27.963_106+00:00 [15694] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:27.963_112+00:00 [15694] [INFO] create snapshot idx 600000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:30.063_666+00:00 [15694] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:30.063_679+00:00 [15694] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:30.063_699+00:00 [15694] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:30.063_704+00:00 [15694] [INFO] create snapshot idx 700000 log_term 1 done: 19 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:32.161_271+00:00 [15694] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:32.161_314+00:00 [15694] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:32.161_354+00:00 [15694] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:32.161_361+00:00 [15694] [INFO] create snapshot idx 800000 log_term 1 done: 39 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:34.251_359+00:00 [15694] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:34.251_371+00:00 [15694] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:34.251_391+00:00 [15694] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:34.251_395+00:00 [15694] [INFO] create snapshot idx 900000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:05:35.522_100+00:00 [15746] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:05:35.523_582+00:00 [15746] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:05:35.523_610+00:00 [15746] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:05:35.523_617+00:00 [15746] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:05:35.523_639+00:00 [15746] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:05:35.523_643+00:00 [15746] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:05:35.523_646+00:00 [15746] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:05:35.523_682+00:00 [15746] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:05:35.523_714+00:00 [15782] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:05:36.844_836+00:00 [15749] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:05:36.844_847+00:00 [15749] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:05:36.844_860+00:00 [15749] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:05:36.844_875+00:00 [15749] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:05:36.844_881+00:00 [15749] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:05:36.844_884+00:00 [15749] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:05:36.844_900+00:00 [15749] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:05:36.844_967+00:00 [15781] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:05:36.844_981+00:00 [15781] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:05:36.844_991+00:00 [15781] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:05:37.074_544+00:00 [15746] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:47.078_839+00:00 [15746] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:05:47.078_847+00:00 [15746] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:05:47.078_941+00:00 [15746] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:05:59.230_725+00:00 [15781] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:05:59.230_738+00:00 [15781] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:05:59.230_761+00:00 [15781] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:05:59.230_767+00:00 [15781] [INFO] create snapshot idx 100000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:01.331_761+00:00 [15781] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:01.331_773+00:00 [15781] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:01.331_793+00:00 [15781] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:01.331_802+00:00 [15781] [INFO] create snapshot idx 200000 log_term 1 done: 23 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:03.434_336+00:00 [15781] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:03.434_349+00:00 [15781] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:03.434_372+00:00 [15781] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:03.434_377+00:00 [15781] [INFO] create snapshot idx 300000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:05.532_814+00:00 [15781] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:05.532_827+00:00 [15781] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:05.532_850+00:00 [15781] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:05.532_854+00:00 [15781] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:07.630_397+00:00 [15781] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:07.630_408+00:00 [15781] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:07.630_450+00:00 [15781] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:07.630_455+00:00 [15781] [INFO] create snapshot idx 500000 log_term 1 done: 42 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:09.739_773+00:00 [15781] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:09.739_783+00:00 [15781] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:09.739_816+00:00 [15781] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:09.739_823+00:00 [15781] [INFO] create snapshot idx 600000 log_term 1 done: 33 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:11.846_419+00:00 [15781] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:11.846_431+00:00 [15781] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:11.846_451+00:00 [15781] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:11.846_459+00:00 [15781] [INFO] create snapshot idx 700000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:13.955_691+00:00 [15781] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:13.955_704+00:00 [15781] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:13.955_726+00:00 [15781] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:13.955_731+00:00 [15781] [INFO] create snapshot idx 800000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:16.057_857+00:00 [15781] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:16.057_870+00:00 [15781] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:16.057_894+00:00 [15781] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:16.057_901+00:00 [15781] [INFO] create snapshot idx 900000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:17.193_797+00:00 [15832] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:06:17.195_281+00:00 [15832] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:06:17.195_316+00:00 [15832] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:06:17.195_319+00:00 [15832] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:06:17.195_344+00:00 [15832] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:06:17.195_348+00:00 [15832] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:06:17.195_351+00:00 [15832] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:06:17.195_389+00:00 [15832] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:06:17.195_412+00:00 [15868] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:06:18.648_639+00:00 [15835] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:06:18.648_649+00:00 [15835] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:06:18.648_663+00:00 [15835] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:06:18.648_674+00:00 [15835] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:06:18.648_680+00:00 [15835] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:06:18.648_684+00:00 [15835] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:06:18.648_700+00:00 [15835] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:06:18.648_762+00:00 [15867] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:06:18.648_770+00:00 [15867] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:06:18.648_779+00:00 [15867] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:06:18.746_286+00:00 [15832] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:06:28.750_329+00:00 [15832] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:06:28.750_337+00:00 [15832] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:06:28.750_432+00:00 [15832] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:06:40.877_361+00:00 [15867] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:40.877_378+00:00 [15867] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:40.877_398+00:00 [15867] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:40.877_404+00:00 [15867] [INFO] create snapshot idx 100000 log_term 1 done: 20 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:42.960_843+00:00 [15867] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:42.960_855+00:00 [15867] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:42.960_875+00:00 [15867] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:42.960_879+00:00 [15867] [INFO] create snapshot idx 200000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:45.057_827+00:00 [15867] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:45.057_847+00:00 [15867] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:45.057_864+00:00 [15867] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:45.057_870+00:00 [15867] [INFO] create snapshot idx 300000 log_term 1 done: 18 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:47.147_309+00:00 [15867] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:47.147_323+00:00 [15867] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:47.147_347+00:00 [15867] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:47.147_351+00:00 [15867] [INFO] create snapshot idx 400000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:49.235_286+00:00 [15867] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:49.235_308+00:00 [15867] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:49.235_330+00:00 [15867] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:49.235_340+00:00 [15867] [INFO] create snapshot idx 500000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:51.332_183+00:00 [15867] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:51.332_197+00:00 [15867] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:51.332_222+00:00 [15867] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:51.332_227+00:00 [15867] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:53.421_148+00:00 [15867] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:53.421_161+00:00 [15867] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:53.421_181+00:00 [15867] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:53.421_190+00:00 [15867] [INFO] create snapshot idx 700000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:55.526_041+00:00 [15867] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:55.526_063+00:00 [15867] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:55.526_087+00:00 [15867] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:55.526_095+00:00 [15867] [INFO] create snapshot idx 800000 log_term 1 done: 26 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:57.616_372+00:00 [15867] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:06:57.616_388+00:00 [15867] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:06:57.616_410+00:00 [15867] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:06:57.616_415+00:00 [15867] [INFO] create snapshot idx 900000 log_term 1 done: 21 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:06:58.869_499+00:00 [15920] [====] Start logger: ./srv1.log (32 MB per file, up to 10 files)	[logger.cc:979, start()]
2022-04-23T21:06:58.871_009+00:00 [15920] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:749, asio_rpc_listener()]
2022-04-23T21:06:58.871_046+00:00 [15920] [INFO] parameters: timeout 1000 - 2000, heartbeat 500, leadership expiry 10000, max batch 100, backoff 50, snapshot distance 100000, log sync stop gap 99999, reserved logs 10000000, client timeout 4000, auto forwarding OFF, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0, snapshot receiver INCLUDED, leadership transfer wait time 0, grace period of lagging state machine 0, snapshot IO: BLOCKING, parallel log appending: OFF	[raft_server.cxx:352, apply_and_log_current_params()]
2022-04-23T21:06:58.871_053+00:00 [15920] [INFO] new timeout range: 1000 -- 2000	[raft_server.cxx:326, update_rand_timeout()]
2022-04-23T21:06:58.871_075+00:00 [15920] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:149, raft_server()]
2022-04-23T21:06:58.871_079+00:00 [15920] [INFO] peer 1: DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, voting_member
num peers: 0	[raft_server.cxx:242, raft_server()]
2022-04-23T21:06:58.871_082+00:00 [15920] [INFO] global manager does not exist. will use local thread for commit and append	[raft_server.cxx:260, start_server()]
2022-04-23T21:06:58.871_121+00:00 [15920] [INFO] wait for HB, for 50 + [1000, 2000] ms	[raft_server.cxx:285, start_server()]
2022-04-23T21:06:58.871_147+00:00 [15956] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:49, append_entries_in_bg()]
2022-04-23T21:07:00.000_284+00:00 [15923] [WARN] Election timeout, initiate leader election	[handle_timeout.cxx:286, handle_election_timeout()]
2022-04-23T21:07:00.000_295+00:00 [15923] [INFO] [PRIORITY] decay, target 1 -> 1, mine 50	[handle_priority.cxx:211, decay_target_priority()]
2022-04-23T21:07:00.000_309+00:00 [15923] [INFO] [ELECTION TIMEOUT] current role: follower, log last term 0, state term 0, target p 1, my p 50, hb dead, pre-vote NOT done	[handle_timeout.cxx:299, handle_election_timeout()]
2022-04-23T21:07:00.000_318+00:00 [15923] [INFO] [VOTE INIT] my id 1, my role candidate, term 1, log idx 0, log term 0, priority (target 1 / mine 50)	[handle_vote.cxx:225, request_vote()]
2022-04-23T21:07:00.000_325+00:00 [15923] [INFO] number of pending commit elements: 0	[raft_server.cxx:940, become_leader()]
2022-04-23T21:07:00.000_328+00:00 [15923] [INFO] state machine commit index 0, precommit index 0, last log index 0	[raft_server.cxx:953, become_leader()]
2022-04-23T21:07:00.000_345+00:00 [15923] [INFO] [BECOME LEADER] appended new config at 1	[raft_server.cxx:993, become_leader()]
2022-04-23T21:07:00.000_415+00:00 [15955] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:396, commit_conf()]
2022-04-23T21:07:00.000_430+00:00 [15955] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:589, reconfigure()]
2022-04-23T21:07:00.000_441+00:00 [15955] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 1, tcp://10.10.10.1:12347, voting member, 50
my id: 1, leader: 1, term: 1	[handle_commit.cxx:809, reconfigure()]
2022-04-23T21:07:00.171_920+00:00 [15920] [INFO] sent join request to peer 2, tcp://10.10.10.2:12345	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:07:10.176_281+00:00 [15920] [WARN] previous adding server (2) is in progress, last activity: 10004 ms ago	[handle_join_leave.cxx:83, handle_add_srv_req()]
2022-04-23T21:07:10.176_289+00:00 [15920] [WARN] activity timeout (last activity 10004 ms ago), start over	[handle_join_leave.cxx:95, handle_add_srv_req()]
2022-04-23T21:07:10.176_385+00:00 [15920] [INFO] sent join request to peer 3, tcp://10.10.10.3:12346	[handle_join_leave.cxx:132, invite_srv_to_join_cluster()]
2022-04-23T21:07:22.297_388+00:00 [15955] [INFO] creating a snapshot for index 100000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:22.297_402+00:00 [15955] [INFO] create snapshot idx 100000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:22.297_431+00:00 [15955] [INFO] snapshot idx 100000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:22.297_437+00:00 [15955] [INFO] create snapshot idx 100000 log_term 1 done: 28 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:24.376_766+00:00 [15955] [INFO] creating a snapshot for index 200000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:24.376_780+00:00 [15955] [INFO] create snapshot idx 200000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:24.376_803+00:00 [15955] [INFO] snapshot idx 200000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:24.376_808+00:00 [15955] [INFO] create snapshot idx 200000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:26.472_623+00:00 [15955] [INFO] creating a snapshot for index 300000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:26.472_636+00:00 [15955] [INFO] create snapshot idx 300000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:26.472_693+00:00 [15955] [INFO] snapshot idx 300000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:26.472_698+00:00 [15955] [INFO] create snapshot idx 300000 log_term 1 done: 56 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:28.563_376+00:00 [15955] [INFO] creating a snapshot for index 400000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:28.563_393+00:00 [15955] [INFO] create snapshot idx 400000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:28.563_417+00:00 [15955] [INFO] snapshot idx 400000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:28.563_423+00:00 [15955] [INFO] create snapshot idx 400000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:30.666_342+00:00 [15955] [INFO] creating a snapshot for index 500000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:30.666_356+00:00 [15955] [INFO] create snapshot idx 500000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:30.666_381+00:00 [15955] [INFO] snapshot idx 500000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:30.666_390+00:00 [15955] [INFO] create snapshot idx 500000 log_term 1 done: 27 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:32.780_160+00:00 [15955] [INFO] creating a snapshot for index 600000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:32.780_172+00:00 [15955] [INFO] create snapshot idx 600000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:32.780_195+00:00 [15955] [INFO] snapshot idx 600000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:32.780_202+00:00 [15955] [INFO] create snapshot idx 600000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:34.899_383+00:00 [15955] [INFO] creating a snapshot for index 700000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:34.899_396+00:00 [15955] [INFO] create snapshot idx 700000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:34.899_419+00:00 [15955] [INFO] snapshot idx 700000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:34.899_427+00:00 [15955] [INFO] create snapshot idx 700000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:37.013_695+00:00 [15955] [INFO] creating a snapshot for index 800000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:37.013_714+00:00 [15955] [INFO] create snapshot idx 800000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:37.013_740+00:00 [15955] [INFO] snapshot idx 800000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:37.013_746+00:00 [15955] [INFO] create snapshot idx 800000 log_term 1 done: 25 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
2022-04-23T21:07:39.135_508+00:00 [15955] [INFO] creating a snapshot for index 900000	[handle_commit.cxx:482, snapshot_and_compact()]
2022-04-23T21:07:39.135_521+00:00 [15955] [INFO] create snapshot idx 900000 log_term 1	[handle_commit.cxx:523, snapshot_and_compact()]
2022-04-23T21:07:39.135_545+00:00 [15955] [INFO] snapshot idx 900000 log_term 1 created, compact the log store if needed	[handle_commit.cxx:567, on_snapshot_completed()]
2022-04-23T21:07:39.135_550+00:00 [15955] [INFO] create snapshot idx 900000 log_term 1 done: 22 us elapsed	[handle_commit.cxx:534, snapshot_and_compact()]
